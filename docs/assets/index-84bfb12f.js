var Uu=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var ex=Uu((ht,pt)=>{function Hu(e,n){for(var t=0;t<n.length;t++){const r=n[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function qi(e,n){const t=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)t[r[i]]=!0;return n?i=>!!t[i.toLowerCase()]:i=>!!t[i]}function en(e){if(he(e)){const n={};for(let t=0;t<e.length;t++){const r=e[t],i=ze(r)?Ku(r):en(r);if(i)for(const o in i)n[o]=i[o]}return n}else{if(ze(e))return e;if($e(e))return e}}const Gu=/;(?![^(]*\))/g,Vu=/:([^]+)/,Zu=/\/\*.*?\*\//gs;function Ku(e){const n={};return e.replace(Zu,"").split(Gu).forEach(t=>{if(t){const r=t.split(Vu);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function Ge(e){let n="";if(ze(e))n=e;else if(he(e))for(let t=0;t<e.length;t++){const r=Ge(e[t]);r&&(n+=r+" ")}else if($e(e))for(const t in e)e[t]&&(n+=t+" ");return n.trim()}function st(e){if(!e)return null;let{class:n,style:t}=e;return n&&!ze(n)&&(e.class=Ge(n)),t&&(e.style=en(t)),e}const Wu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yu=qi(Wu);function Al(e){return!!e||e===""}const Oi=e=>ze(e)?e:e==null?"":he(e)||$e(e)&&(e.toString===Ml||!ge(e.toString))?JSON.stringify(e,Cl,2):String(e),Cl=(e,n)=>n&&n.__v_isRef?Cl(e,n.value):tr(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((t,[r,i])=>(t[`${r} =>`]=i,t),{})}:Il(n)?{[`Set(${n.size})`]:[...n.values()]}:$e(n)&&!he(n)&&!Ll(n)?String(n):n,Ne={},er=[],Nt=()=>{},Xu=()=>!1,Ju=/^on[^a-z]/,To=e=>Ju.test(e),es=e=>e.startsWith("onUpdate:"),Ve=Object.assign,ts=(e,n)=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)},Qu=Object.prototype.hasOwnProperty,Te=(e,n)=>Qu.call(e,n),he=Array.isArray,tr=e=>Oo(e)==="[object Map]",Il=e=>Oo(e)==="[object Set]",ge=e=>typeof e=="function",ze=e=>typeof e=="string",ns=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",jl=e=>$e(e)&&ge(e.then)&&ge(e.catch),Ml=Object.prototype.toString,Oo=e=>Ml.call(e),qu=e=>Oo(e).slice(8,-1),Ll=e=>Oo(e)==="[object Object]",rs=e=>ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,so=qi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ko=e=>{const n=Object.create(null);return t=>n[t]||(n[t]=e(t))},ed=/-(\w)/g,Ht=ko(e=>e.replace(ed,(n,t)=>t?t.toUpperCase():"")),td=/\B([A-Z])/g,ur=ko(e=>e.replace(td,"-$1").toLowerCase()),So=ko(e=>e.charAt(0).toUpperCase()+e.slice(1)),ao=ko(e=>e?`on${So(e)}`:""),Ar=(e,n)=>!Object.is(e,n),ei=(e,n)=>{for(let t=0;t<e.length;t++)e[t](n)},fo=(e,n,t)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:t})},nd=e=>{const n=parseFloat(e);return isNaN(n)?e:n},rd=e=>{const n=ze(e)?Number(e):NaN;return isNaN(n)?e:n};let Zs;const od=()=>Zs||(Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let It;class id{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=It,!n&&It&&(this.index=(It.scopes||(It.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const t=It;try{return It=this,n()}finally{It=t}}}on(){It=this}off(){It=this.parent}stop(n){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!n){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function sd(e,n=It){n&&n.active&&n.effects.push(e)}function ad(){return It}const os=e=>{const n=new Set(e);return n.w=0,n.n=0,n},Nl=e=>(e.w&mn)>0,Rl=e=>(e.n&mn)>0,ld=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=mn},cd=e=>{const{deps:n}=e;if(n.length){let t=0;for(let r=0;r<n.length;r++){const i=n[r];Nl(i)&&!Rl(i)?i.delete(e):n[t++]=i,i.w&=~mn,i.n&=~mn}n.length=t}},ho=new WeakMap;let _r=0,mn=1;const ki=30;let Mt;const zn=Symbol(""),Si=Symbol("");class is{constructor(n,t=null,r){this.fn=n,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,sd(this,r)}run(){if(!this.active)return this.fn();let n=Mt,t=hn;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Mt,Mt=this,hn=!0,mn=1<<++_r,_r<=ki?ld(this):Ks(this),this.fn()}finally{_r<=ki&&cd(this),mn=1<<--_r,Mt=this.parent,hn=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Mt===this?this.deferStop=!0:this.active&&(Ks(this),this.onStop&&this.onStop(),this.active=!1)}}function Ks(e){const{deps:n}=e;if(n.length){for(let t=0;t<n.length;t++)n[t].delete(e);n.length=0}}let hn=!0;const $l=[];function dr(){$l.push(hn),hn=!1}function fr(){const e=$l.pop();hn=e===void 0?!0:e}function ut(e,n,t){if(hn&&Mt){let r=ho.get(e);r||ho.set(e,r=new Map);let i=r.get(t);i||r.set(t,i=os()),Dl(i)}}function Dl(e,n){let t=!1;_r<=ki?Rl(e)||(e.n|=mn,t=!Nl(e)):t=!e.has(Mt),t&&(e.add(Mt),Mt.deps.push(e))}function qt(e,n,t,r,i,o){const s=ho.get(e);if(!s)return;let a=[];if(n==="clear")a=[...s.values()];else if(t==="length"&&he(e)){const l=Number(r);s.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(t!==void 0&&a.push(s.get(t)),n){case"add":he(e)?rs(t)&&a.push(s.get("length")):(a.push(s.get(zn)),tr(e)&&a.push(s.get(Si)));break;case"delete":he(e)||(a.push(s.get(zn)),tr(e)&&a.push(s.get(Si)));break;case"set":tr(e)&&a.push(s.get(zn));break}if(a.length===1)a[0]&&Pi(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Pi(os(l))}}function Pi(e,n){const t=he(e)?e:[...e];for(const r of t)r.computed&&Ws(r);for(const r of t)r.computed||Ws(r)}function Ws(e,n){(e!==Mt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function ud(e,n){var t;return(t=ho.get(e))===null||t===void 0?void 0:t.get(n)}const dd=qi("__proto__,__v_isRef,__isVue"),Fl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ns)),fd=ss(),hd=ss(!1,!0),pd=ss(!0),Ys=vd();function vd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...t){const r=Ee(this);for(let o=0,s=this.length;o<s;o++)ut(r,"get",o+"");const i=r[n](...t);return i===-1||i===!1?r[n](...t.map(Ee)):i}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...t){dr();const r=Ee(this)[n].apply(this,t);return fr(),r}}),e}function gd(e){const n=Ee(this);return ut(n,"has",e),n.hasOwnProperty(e)}function ss(e=!1,n=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return n;if(i==="__v_raw"&&o===(e?n?jd:Gl:n?Hl:Ul).get(r))return r;const s=he(r);if(!e){if(s&&Te(Ys,i))return Reflect.get(Ys,i,o);if(i==="hasOwnProperty")return gd}const a=Reflect.get(r,i,o);return(ns(i)?Fl.has(i):dd(i))||(e||ut(r,"get",i),n)?a:We(a)?s&&rs(i)?a:a.value:$e(a)?e?In(a):gt(a):a}}const md=zl(),yd=zl(!0);function zl(e=!1){return function(t,r,i,o){let s=t[r];if(sr(s)&&We(s)&&!We(i))return!1;if(!e&&(!po(i)&&!sr(i)&&(s=Ee(s),i=Ee(i)),!he(t)&&We(s)&&!We(i)))return s.value=i,!0;const a=he(t)&&rs(r)?Number(r)<t.length:Te(t,r),l=Reflect.set(t,r,i,o);return t===Ee(o)&&(a?Ar(i,s)&&qt(t,"set",r,i):qt(t,"add",r,i)),l}}function bd(e,n){const t=Te(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&t&&qt(e,"delete",n,void 0),r}function _d(e,n){const t=Reflect.has(e,n);return(!ns(n)||!Fl.has(n))&&ut(e,"has",n),t}function wd(e){return ut(e,"iterate",he(e)?"length":zn),Reflect.ownKeys(e)}const Bl={get:fd,set:md,deleteProperty:bd,has:_d,ownKeys:wd},xd={get:pd,set(e,n){return!0},deleteProperty(e,n){return!0}},Ed=Ve({},Bl,{get:hd,set:yd}),as=e=>e,Po=e=>Reflect.getPrototypeOf(e);function Wr(e,n,t=!1,r=!1){e=e.__v_raw;const i=Ee(e),o=Ee(n);t||(n!==o&&ut(i,"get",n),ut(i,"get",o));const{has:s}=Po(i),a=r?as:t?us:Cr;if(s.call(i,n))return a(e.get(n));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(n)}function Yr(e,n=!1){const t=this.__v_raw,r=Ee(t),i=Ee(e);return n||(e!==i&&ut(r,"has",e),ut(r,"has",i)),e===i?t.has(e):t.has(e)||t.has(i)}function Xr(e,n=!1){return e=e.__v_raw,!n&&ut(Ee(e),"iterate",zn),Reflect.get(e,"size",e)}function Xs(e){e=Ee(e);const n=Ee(this);return Po(n).has.call(n,e)||(n.add(e),qt(n,"add",e,e)),this}function Js(e,n){n=Ee(n);const t=Ee(this),{has:r,get:i}=Po(t);let o=r.call(t,e);o||(e=Ee(e),o=r.call(t,e));const s=i.call(t,e);return t.set(e,n),o?Ar(n,s)&&qt(t,"set",e,n):qt(t,"add",e,n),this}function Qs(e){const n=Ee(this),{has:t,get:r}=Po(n);let i=t.call(n,e);i||(e=Ee(e),i=t.call(n,e)),r&&r.call(n,e);const o=n.delete(e);return i&&qt(n,"delete",e,void 0),o}function qs(){const e=Ee(this),n=e.size!==0,t=e.clear();return n&&qt(e,"clear",void 0,void 0),t}function Jr(e,n){return function(r,i){const o=this,s=o.__v_raw,a=Ee(s),l=n?as:e?us:Cr;return!e&&ut(a,"iterate",zn),s.forEach((c,u)=>r.call(i,l(c),l(u),o))}}function Qr(e,n,t){return function(...r){const i=this.__v_raw,o=Ee(i),s=tr(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=i[e](...r),u=t?as:n?us:Cr;return!n&&ut(o,"iterate",l?Si:zn),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function sn(e){return function(...n){return e==="delete"?!1:this}}function Td(){const e={get(o){return Wr(this,o)},get size(){return Xr(this)},has:Yr,add:Xs,set:Js,delete:Qs,clear:qs,forEach:Jr(!1,!1)},n={get(o){return Wr(this,o,!1,!0)},get size(){return Xr(this)},has:Yr,add:Xs,set:Js,delete:Qs,clear:qs,forEach:Jr(!1,!0)},t={get(o){return Wr(this,o,!0)},get size(){return Xr(this,!0)},has(o){return Yr.call(this,o,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:Jr(!0,!1)},r={get(o){return Wr(this,o,!0,!0)},get size(){return Xr(this,!0)},has(o){return Yr.call(this,o,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:Jr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Qr(o,!1,!1),t[o]=Qr(o,!0,!1),n[o]=Qr(o,!1,!0),r[o]=Qr(o,!0,!0)}),[e,t,n,r]}const[Od,kd,Sd,Pd]=Td();function ls(e,n){const t=n?e?Pd:Sd:e?kd:Od;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Te(t,i)&&i in r?t:r,i,o)}const Ad={get:ls(!1,!1)},Cd={get:ls(!1,!0)},Id={get:ls(!0,!1)},Ul=new WeakMap,Hl=new WeakMap,Gl=new WeakMap,jd=new WeakMap;function Md(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ld(e){return e.__v_skip||!Object.isExtensible(e)?0:Md(qu(e))}function gt(e){return sr(e)?e:cs(e,!1,Bl,Ad,Ul)}function Nd(e){return cs(e,!1,Ed,Cd,Hl)}function In(e){return cs(e,!0,xd,Id,Gl)}function cs(e,n,t,r,i){if(!$e(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Ld(e);if(s===0)return e;const a=new Proxy(e,s===2?r:t);return i.set(e,a),a}function Bn(e){return sr(e)?Bn(e.__v_raw):!!(e&&e.__v_isReactive)}function sr(e){return!!(e&&e.__v_isReadonly)}function po(e){return!!(e&&e.__v_isShallow)}function Vl(e){return Bn(e)||sr(e)}function Ee(e){const n=e&&e.__v_raw;return n?Ee(n):e}function Zl(e){return fo(e,"__v_skip",!0),e}const Cr=e=>$e(e)?gt(e):e,us=e=>$e(e)?In(e):e;function Kl(e){hn&&Mt&&(e=Ee(e),Dl(e.dep||(e.dep=os())))}function Wl(e,n){e=Ee(e);const t=e.dep;t&&Pi(t)}function We(e){return!!(e&&e.__v_isRef===!0)}function ae(e){return Rd(e,!1)}function Rd(e,n){return We(e)?e:new $d(e,n)}class $d{constructor(n,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?n:Ee(n),this._value=t?n:Cr(n)}get value(){return Kl(this),this._value}set value(n){const t=this.__v_isShallow||po(n)||sr(n);n=t?n:Ee(n),Ar(n,this._rawValue)&&(this._rawValue=n,this._value=t?n:Cr(n),Wl(this))}}function M(e){return We(e)?e.value:e}const Dd={get:(e,n,t)=>M(Reflect.get(e,n,t)),set:(e,n,t,r)=>{const i=e[n];return We(i)&&!We(t)?(i.value=t,!0):Reflect.set(e,n,t,r)}};function Yl(e){return Bn(e)?e:new Proxy(e,Dd)}class Fd{constructor(n,t,r){this._object=n,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return ud(Ee(this._object),this._key)}}function Xt(e,n,t){const r=e[n];return We(r)?r:new Fd(e,n,t)}var Xl;class zd{constructor(n,t,r,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Xl]=!1,this._dirty=!0,this.effect=new is(n,()=>{this._dirty||(this._dirty=!0,Wl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const n=Ee(this);return Kl(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}Xl="__v_isReadonly";function Bd(e,n,t=!1){let r,i;const o=ge(e);return o?(r=e,i=Nt):(r=e.get,i=e.set),new zd(r,i,o||!i,t)}function pn(e,n,t,r){let i;try{i=r?e(...r):e()}catch(o){Ao(o,n,t)}return i}function kt(e,n,t,r){if(ge(e)){const o=pn(e,n,t,r);return o&&jl(o)&&o.catch(s=>{Ao(s,n,t)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(kt(e[o],n,t,r));return i}function Ao(e,n,t,r=!0){const i=n?n.vnode:null;if(n){let o=n.parent;const s=n.proxy,a=t;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,s,a)===!1)return}o=o.parent}const l=n.appContext.config.errorHandler;if(l){pn(l,null,10,[e,s,a]);return}}Ud(e,t,i,r)}function Ud(e,n,t,r=!0){console.error(e)}let Ir=!1,Ai=!1;const Je=[];let Ut=0;const nr=[];let Yt=null,jn=0;const Jl=Promise.resolve();let ds=null;function wr(e){const n=ds||Jl;return e?n.then(this?e.bind(this):e):n}function Hd(e){let n=Ut+1,t=Je.length;for(;n<t;){const r=n+t>>>1;jr(Je[r])<e?n=r+1:t=r}return n}function fs(e){(!Je.length||!Je.includes(e,Ir&&e.allowRecurse?Ut+1:Ut))&&(e.id==null?Je.push(e):Je.splice(Hd(e.id),0,e),Ql())}function Ql(){!Ir&&!Ai&&(Ai=!0,ds=Jl.then(ec))}function Gd(e){const n=Je.indexOf(e);n>Ut&&Je.splice(n,1)}function Vd(e){he(e)?nr.push(...e):(!Yt||!Yt.includes(e,e.allowRecurse?jn+1:jn))&&nr.push(e),Ql()}function ea(e,n=Ir?Ut+1:0){for(;n<Je.length;n++){const t=Je[n];t&&t.pre&&(Je.splice(n,1),n--,t())}}function ql(e){if(nr.length){const n=[...new Set(nr)];if(nr.length=0,Yt){Yt.push(...n);return}for(Yt=n,Yt.sort((t,r)=>jr(t)-jr(r)),jn=0;jn<Yt.length;jn++)Yt[jn]();Yt=null,jn=0}}const jr=e=>e.id==null?1/0:e.id,Zd=(e,n)=>{const t=jr(e)-jr(n);if(t===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return t};function ec(e){Ai=!1,Ir=!0,Je.sort(Zd);const n=Nt;try{for(Ut=0;Ut<Je.length;Ut++){const t=Je[Ut];t&&t.active!==!1&&pn(t,null,14)}}finally{Ut=0,Je.length=0,ql(),Ir=!1,ds=null,(Je.length||nr.length)&&ec()}}function Kd(e,n,...t){if(e.isUnmounted)return;const r=e.vnode.props||Ne;let i=t;const o=n.startsWith("update:"),s=o&&n.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[u]||Ne;f&&(i=t.map(h=>ze(h)?h.trim():h)),d&&(i=t.map(nd))}let a,l=r[a=ao(n)]||r[a=ao(Ht(n))];!l&&o&&(l=r[a=ao(ur(n))]),l&&kt(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,kt(c,e,6,i)}}function tc(e,n,t=!1){const r=n.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!ge(e)){const l=c=>{const u=tc(c,n,!0);u&&(a=!0,Ve(s,u))};!t&&n.mixins.length&&n.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?($e(e)&&r.set(e,null),null):(he(o)?o.forEach(l=>s[l]=null):Ve(s,o),$e(e)&&r.set(e,s),s)}function Co(e,n){return!e||!To(n)?!1:(n=n.slice(2).replace(/Once$/,""),Te(e,n[0].toLowerCase()+n.slice(1))||Te(e,ur(n))||Te(e,n))}let Qe=null,nc=null;function vo(e){const n=Qe;return Qe=e,nc=e&&e.type.__scopeId||null,n}function Fe(e,n=Qe,t){if(!n||e._n)return e;const r=(...i)=>{r._d&&ua(-1);const o=vo(n);let s;try{s=e(...i)}finally{vo(o),r._d&&ua(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function ti(e){const{type:n,vnode:t,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:v}=e;let m,g;const y=vo(e);try{if(t.shapeFlag&4){const _=i||r;m=Bt(u.call(_,_,d,o,h,f,p)),g=l}else{const _=n;m=Bt(_.length>1?_(o,{attrs:l,slots:a,emit:c}):_(o,null)),g=n.props?l:Wd(l)}}catch(_){Tr.length=0,Ao(_,e,1),m=He(Pt)}let w=m;if(g&&v!==!1){const _=Object.keys(g),{shapeFlag:b}=w;_.length&&b&7&&(s&&_.some(es)&&(g=Yd(g,s)),w=yn(w,g))}return t.dirs&&(w=yn(w),w.dirs=w.dirs?w.dirs.concat(t.dirs):t.dirs),t.transition&&(w.transition=t.transition),m=w,vo(y),m}const Wd=e=>{let n;for(const t in e)(t==="class"||t==="style"||To(t))&&((n||(n={}))[t]=e[t]);return n},Yd=(e,n)=>{const t={};for(const r in e)(!es(r)||!(r.slice(9)in n))&&(t[r]=e[r]);return t};function Xd(e,n,t){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=n,c=o.emitsOptions;if(n.dirs||n.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?ta(r,s,c):!!s;if(l&8){const u=n.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==r[f]&&!Co(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?ta(r,s,c):!0:!!s;return!1}function ta(e,n,t){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(n[o]!==e[o]&&!Co(t,o))return!0}return!1}function Jd({vnode:e,parent:n},t){for(;n&&n.subTree===e;)(e=n.vnode).el=t,n=n.parent}const Qd=e=>e.__isSuspense;function qd(e,n){n&&n.pendingBranch?he(e)?n.effects.push(...e):n.effects.push(e):Vd(e)}function tn(e,n){if(Be){let t=Be.provides;const r=Be.parent&&Be.parent.provides;r===t&&(t=Be.provides=Object.create(r)),t[e]=n}}function St(e,n,t=!1){const r=Be||Qe;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return t&&ge(n)?n.call(r.proxy):n}}function vt(e,n){return hs(e,null,n)}const qr={};function we(e,n,t){return hs(e,n,t)}function hs(e,n,{immediate:t,deep:r,flush:i,onTrack:o,onTrigger:s}=Ne){const a=ad()===(Be==null?void 0:Be.scope)?Be:null;let l,c=!1,u=!1;if(We(e)?(l=()=>e.value,c=po(e)):Bn(e)?(l=()=>e,r=!0):he(e)?(u=!0,c=e.some(w=>Bn(w)||po(w)),l=()=>e.map(w=>{if(We(w))return w.value;if(Bn(w))return qn(w);if(ge(w))return pn(w,a,2)})):ge(e)?n?l=()=>pn(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),kt(e,a,3,[f])}:l=Nt,n&&r){const w=l;l=()=>qn(w())}let d,f=w=>{d=g.onStop=()=>{pn(w,a,4)}},h;if(Rr)if(f=Nt,n?t&&kt(n,a,3,[l(),u?[]:void 0,f]):l(),i==="sync"){const w=Vf();h=w.__watcherHandles||(w.__watcherHandles=[])}else return Nt;let p=u?new Array(e.length).fill(qr):qr;const v=()=>{if(g.active)if(n){const w=g.run();(r||c||(u?w.some((_,b)=>Ar(_,p[b])):Ar(w,p)))&&(d&&d(),kt(n,a,3,[w,p===qr?void 0:u&&p[0]===qr?[]:p,f]),p=w)}else g.run()};v.allowRecurse=!!n;let m;i==="sync"?m=v:i==="post"?m=()=>ot(v,a&&a.suspense):(v.pre=!0,a&&(v.id=a.uid),m=()=>fs(v));const g=new is(l,m);n?t?v():p=g.run():i==="post"?ot(g.run.bind(g),a&&a.suspense):g.run();const y=()=>{g.stop(),a&&a.scope&&ts(a.scope.effects,g)};return h&&h.push(y),y}function ef(e,n,t){const r=this.proxy,i=ze(e)?e.includes(".")?rc(r,e):()=>r[e]:e.bind(r,r);let o;ge(n)?o=n:(o=n.handler,t=n);const s=Be;ar(this);const a=hs(i,o.bind(r),t);return s?ar(s):Un(),a}function rc(e,n){const t=n.split(".");return()=>{let r=e;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}function qn(e,n){if(!$e(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),We(e))qn(e.value,n);else if(he(e))for(let t=0;t<e.length;t++)qn(e[t],n);else if(Il(e)||tr(e))e.forEach(t=>{qn(t,n)});else if(Ll(e))for(const t in e)qn(e[t],n);return e}function oc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wn(()=>{e.isMounted=!0}),lc(()=>{e.isUnmounting=!0}),e}const xt=[Function,Array],tf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xt,onEnter:xt,onAfterEnter:xt,onEnterCancelled:xt,onBeforeLeave:xt,onLeave:xt,onAfterLeave:xt,onLeaveCancelled:xt,onBeforeAppear:xt,onAppear:xt,onAfterAppear:xt,onAppearCancelled:xt},setup(e,{slots:n}){const t=bs(),r=oc();let i;return()=>{const o=n.default&&ps(n.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const v of o)if(v.type!==Pt){s=v;break}}const a=Ee(e),{mode:l}=a;if(r.isLeaving)return ni(s);const c=na(s);if(!c)return ni(s);const u=Mr(c,a,r,t);Lr(c,u);const d=t.subTree,f=d&&na(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const v=p();i===void 0?i=v:v!==i&&(i=v,h=!0)}if(f&&f.type!==Pt&&(!Mn(c,f)||h)){const v=Mr(f,a,r,t);if(Lr(f,v),l==="out-in")return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,t.update.active!==!1&&t.update()},ni(s);l==="in-out"&&c.type!==Pt&&(v.delayLeave=(m,g,y)=>{const w=ic(r,f);w[String(f.key)]=f,m._leaveCb=()=>{g(),m._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}},nf=tf;function ic(e,n){const{leavingVNodes:t}=e;let r=t.get(n.type);return r||(r=Object.create(null),t.set(n.type,r)),r}function Mr(e,n,t,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:v,onAppear:m,onAfterAppear:g,onAppearCancelled:y}=n,w=String(e.key),_=ic(t,e),b=(E,S)=>{E&&kt(E,r,9,S)},x=(E,S)=>{const P=S[1];b(E,S),he(E)?E.every(C=>C.length<=1)&&P():E.length<=1&&P()},T={mode:o,persisted:s,beforeEnter(E){let S=a;if(!t.isMounted)if(i)S=v||a;else return;E._leaveCb&&E._leaveCb(!0);const P=_[w];P&&Mn(e,P)&&P.el._leaveCb&&P.el._leaveCb(),b(S,[E])},enter(E){let S=l,P=c,C=u;if(!t.isMounted)if(i)S=m||l,P=g||c,C=y||u;else return;let A=!1;const N=E._enterCb=k=>{A||(A=!0,k?b(C,[E]):b(P,[E]),T.delayedLeave&&T.delayedLeave(),E._enterCb=void 0)};S?x(S,[E,N]):N()},leave(E,S){const P=String(e.key);if(E._enterCb&&E._enterCb(!0),t.isUnmounting)return S();b(d,[E]);let C=!1;const A=E._leaveCb=N=>{C||(C=!0,S(),N?b(p,[E]):b(h,[E]),E._leaveCb=void 0,_[P]===e&&delete _[P])};_[P]=e,f?x(f,[E,A]):A()},clone(E){return Mr(E,n,t,r)}};return T}function ni(e){if(Io(e))return e=yn(e),e.children=null,e}function na(e){return Io(e)?e.children?e.children[0]:void 0:e}function Lr(e,n){e.shapeFlag&6&&e.component?Lr(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function ps(e,n=!1,t){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=t==null?s.key:String(t)+String(s.key!=null?s.key:o);s.type===fe?(s.patchFlag&128&&i++,r=r.concat(ps(s.children,n,a))):(n||s.type!==Pt)&&r.push(a!=null?yn(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function xe(e){return ge(e)?{setup:e,name:e.name}:e}const xr=e=>!!e.type.__asyncLoader,Io=e=>e.type.__isKeepAlive;function rf(e,n){sc(e,"a",n)}function of(e,n){sc(e,"da",n)}function sc(e,n,t=Be){const r=e.__wdc||(e.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(jo(n,r,t),t){let i=t.parent;for(;i&&i.parent;)Io(i.parent.vnode)&&sf(r,n,t,i),i=i.parent}}function sf(e,n,t,r){const i=jo(n,e,r,!0);Vn(()=>{ts(r[n],i)},t)}function jo(e,n,t=Be,r=!1){if(t){const i=t[e]||(t[e]=[]),o=n.__weh||(n.__weh=(...s)=>{if(t.isUnmounted)return;dr(),ar(t);const a=kt(n,t,e,s);return Un(),fr(),a});return r?i.unshift(o):i.push(o),o}}const nn=e=>(n,t=Be)=>(!Rr||e==="sp")&&jo(e,(...r)=>n(...r),t),af=nn("bm"),wn=nn("m"),lf=nn("bu"),ac=nn("u"),lc=nn("bum"),Vn=nn("um"),cf=nn("sp"),uf=nn("rtg"),df=nn("rtc");function ff(e,n=Be){jo("ec",e,n)}function xn(e,n,t,r){const i=e.dirs,o=n&&n.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(dr(),kt(l,t,8,[e.el,a,e,n]),fr())}}const vs="components";function hf(e,n){return uc(vs,e,!0,n)||e}const cc=Symbol();function pf(e){return ze(e)?uc(vs,e,!1)||e:e||cc}function uc(e,n,t=!0,r=!1){const i=Qe||Be;if(i){const o=i.type;if(e===vs){const a=Bf(o,!1);if(a&&(a===n||a===Ht(n)||a===So(Ht(n))))return o}const s=ra(i[e]||o[e],n)||ra(i.appContext[e],n);return!s&&r?o:s}}function ra(e,n){return e&&(e[n]||e[Ht(n)]||e[So(Ht(n))])}function Re(e,n,t,r){let i;const o=t&&t[r];if(he(e)||ze(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=n(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=n(s+1,s,void 0,o&&o[s])}else if($e(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>n(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const c=s[a];i[a]=n(e[c],c,a,o&&o[a])}}else i=[];return t&&(t[r]=i),i}function dc(e,n){for(let t=0;t<n.length;t++){const r=n[t];if(he(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return e}function Ie(e,n,t={},r,i){if(Qe.isCE||Qe.parent&&xr(Qe.parent)&&Qe.parent.isCE)return n!=="default"&&(t.name=n),He("slot",t,r&&r());let o=e[n];o&&o._c&&(o._d=!1),Z();const s=o&&fc(o(t)),a=ye(fe,{key:t.key||s&&s.key||`_${n}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function fc(e){return e.some(n=>xc(n)?!(n.type===Pt||n.type===fe&&!fc(n.children)):!0)?e:null}function vf(e,n){const t={};for(const r in e)t[n&&/[A-Z]/.test(r)?`on:${r}`:ao(r)]=e[r];return t}const Ci=e=>e?Oc(e)?_s(e)||e.proxy:Ci(e.parent):null,Er=Ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ci(e.parent),$root:e=>Ci(e.root),$emit:e=>e.emit,$options:e=>gs(e),$forceUpdate:e=>e.f||(e.f=()=>fs(e.update)),$nextTick:e=>e.n||(e.n=wr.bind(e.proxy)),$watch:e=>ef.bind(e)}),ri=(e,n)=>e!==Ne&&!e.__isScriptSetup&&Te(e,n),gf={get({_:e},n){const{ctx:t,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let c;if(n[0]!=="$"){const h=s[n];if(h!==void 0)switch(h){case 1:return r[n];case 2:return i[n];case 4:return t[n];case 3:return o[n]}else{if(ri(r,n))return s[n]=1,r[n];if(i!==Ne&&Te(i,n))return s[n]=2,i[n];if((c=e.propsOptions[0])&&Te(c,n))return s[n]=3,o[n];if(t!==Ne&&Te(t,n))return s[n]=4,t[n];Ii&&(s[n]=0)}}const u=Er[n];let d,f;if(u)return n==="$attrs"&&ut(e,"get",n),u(e);if((d=a.__cssModules)&&(d=d[n]))return d;if(t!==Ne&&Te(t,n))return s[n]=4,t[n];if(f=l.config.globalProperties,Te(f,n))return f[n]},set({_:e},n,t){const{data:r,setupState:i,ctx:o}=e;return ri(i,n)?(i[n]=t,!0):r!==Ne&&Te(r,n)?(r[n]=t,!0):Te(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(o[n]=t,!0)},has({_:{data:e,setupState:n,accessCache:t,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!t[s]||e!==Ne&&Te(e,s)||ri(n,s)||(a=o[0])&&Te(a,s)||Te(r,s)||Te(Er,s)||Te(i.config.globalProperties,s)},defineProperty(e,n,t){return t.get!=null?e._.accessCache[n]=0:Te(t,"value")&&this.set(e,n,t.value,null),Reflect.defineProperty(e,n,t)}};let Ii=!0;function mf(e){const n=gs(e),t=e.proxy,r=e.ctx;Ii=!1,n.beforeCreate&&oa(n.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:v,deactivated:m,beforeDestroy:g,beforeUnmount:y,destroyed:w,unmounted:_,render:b,renderTracked:x,renderTriggered:T,errorCaptured:E,serverPrefetch:S,expose:P,inheritAttrs:C,components:A,directives:N,filters:k}=n;if(c&&yf(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const U in s){const G=s[U];ge(G)&&(r[U]=G.bind(t))}if(i){const U=i.call(t,t);$e(U)&&(e.data=gt(U))}if(Ii=!0,o)for(const U in o){const G=o[U],Y=ge(G)?G.bind(t,t):ge(G.get)?G.get.bind(t,t):Nt,le=!ge(G)&&ge(G.set)?G.set.bind(t):Nt,ve=Q({get:Y,set:le});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>ve.value,set:je=>ve.value=je})}if(a)for(const U in a)hc(a[U],r,t,U);if(l){const U=ge(l)?l.call(t):l;Reflect.ownKeys(U).forEach(G=>{tn(G,U[G])})}u&&oa(u,e,"c");function L(U,G){he(G)?G.forEach(Y=>U(Y.bind(t))):G&&U(G.bind(t))}if(L(af,d),L(wn,f),L(lf,h),L(ac,p),L(rf,v),L(of,m),L(ff,E),L(df,x),L(uf,T),L(lc,y),L(Vn,_),L(cf,S),he(P))if(P.length){const U=e.exposed||(e.exposed={});P.forEach(G=>{Object.defineProperty(U,G,{get:()=>t[G],set:Y=>t[G]=Y})})}else e.exposed||(e.exposed={});b&&e.render===Nt&&(e.render=b),C!=null&&(e.inheritAttrs=C),A&&(e.components=A),N&&(e.directives=N)}function yf(e,n,t=Nt,r=!1){he(e)&&(e=ji(e));for(const i in e){const o=e[i];let s;$e(o)?"default"in o?s=St(o.from||i,o.default,!0):s=St(o.from||i):s=St(o),We(s)&&r?Object.defineProperty(n,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):n[i]=s}}function oa(e,n,t){kt(he(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,t)}function hc(e,n,t,r){const i=r.includes(".")?rc(t,r):()=>t[r];if(ze(e)){const o=n[e];ge(o)&&we(i,o)}else if(ge(e))we(i,e.bind(t));else if($e(e))if(he(e))e.forEach(o=>hc(o,n,t,r));else{const o=ge(e.handler)?e.handler.bind(t):n[e.handler];ge(o)&&we(i,o,e)}}function gs(e){const n=e.type,{mixins:t,extends:r}=n,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(n);let l;return a?l=a:!i.length&&!t&&!r?l=n:(l={},i.length&&i.forEach(c=>go(l,c,s,!0)),go(l,n,s)),$e(n)&&o.set(n,l),l}function go(e,n,t,r=!1){const{mixins:i,extends:o}=n;o&&go(e,o,t,!0),i&&i.forEach(s=>go(e,s,t,!0));for(const s in n)if(!(r&&s==="expose")){const a=bf[s]||t&&t[s];e[s]=a?a(e[s],n[s]):n[s]}return e}const bf={data:ia,props:Sn,emits:Sn,methods:Sn,computed:Sn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:Sn,directives:Sn,watch:wf,provide:ia,inject:_f};function ia(e,n){return n?e?function(){return Ve(ge(e)?e.call(this,this):e,ge(n)?n.call(this,this):n)}:n:e}function _f(e,n){return Sn(ji(e),ji(n))}function ji(e){if(he(e)){const n={};for(let t=0;t<e.length;t++)n[e[t]]=e[t];return n}return e}function et(e,n){return e?[...new Set([].concat(e,n))]:n}function Sn(e,n){return e?Ve(Ve(Object.create(null),e),n):n}function wf(e,n){if(!e)return n;if(!n)return e;const t=Ve(Object.create(null),e);for(const r in n)t[r]=et(e[r],n[r]);return t}function xf(e,n,t,r=!1){const i={},o={};fo(o,Lo,1),e.propsDefaults=Object.create(null),pc(e,n,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);t?e.props=r?i:Nd(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Ef(e,n,t,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Ee(i),[l]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Co(e.emitsOptions,f))continue;const h=n[f];if(l)if(Te(o,f))h!==o[f]&&(o[f]=h,c=!0);else{const p=Ht(f);i[p]=Mi(l,a,p,h,e,!1)}else h!==o[f]&&(o[f]=h,c=!0)}}}else{pc(e,n,i,o)&&(c=!0);let u;for(const d in a)(!n||!Te(n,d)&&((u=ur(d))===d||!Te(n,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=Mi(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!n||!Te(n,d))&&(delete o[d],c=!0)}c&&qt(e,"set","$attrs")}function pc(e,n,t,r){const[i,o]=e.propsOptions;let s=!1,a;if(n)for(let l in n){if(so(l))continue;const c=n[l];let u;i&&Te(i,u=Ht(l))?!o||!o.includes(u)?t[u]=c:(a||(a={}))[u]=c:Co(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(o){const l=Ee(t),c=a||Ne;for(let u=0;u<o.length;u++){const d=o[u];t[d]=Mi(i,l,d,c[d],e,!Te(c,d))}}return s}function Mi(e,n,t,r,i,o){const s=e[t];if(s!=null){const a=Te(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&ge(l)){const{propsDefaults:c}=i;t in c?r=c[t]:(ar(i),r=c[t]=l.call(null,n),Un())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===ur(t))&&(r=!0))}return r}function vc(e,n,t=!1){const r=n.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!ge(e)){const u=d=>{l=!0;const[f,h]=vc(d,n,!0);Ve(s,f),h&&a.push(...h)};!t&&n.mixins.length&&n.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return $e(e)&&r.set(e,er),er;if(he(o))for(let u=0;u<o.length;u++){const d=Ht(o[u]);sa(d)&&(s[d]=Ne)}else if(o)for(const u in o){const d=Ht(u);if(sa(d)){const f=o[u],h=s[d]=he(f)||ge(f)?{type:f}:Object.assign({},f);if(h){const p=ca(Boolean,h.type),v=ca(String,h.type);h[0]=p>-1,h[1]=v<0||p<v,(p>-1||Te(h,"default"))&&a.push(d)}}}const c=[s,a];return $e(e)&&r.set(e,c),c}function sa(e){return e[0]!=="$"}function aa(e){const n=e&&e.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:e===null?"null":""}function la(e,n){return aa(e)===aa(n)}function ca(e,n){return he(n)?n.findIndex(t=>la(t,e)):ge(n)&&la(n,e)?0:-1}const gc=e=>e[0]==="_"||e==="$stable",ms=e=>he(e)?e.map(Bt):[Bt(e)],Tf=(e,n,t)=>{if(n._n)return n;const r=Fe((...i)=>ms(n(...i)),t);return r._c=!1,r},mc=(e,n,t)=>{const r=e._ctx;for(const i in e){if(gc(i))continue;const o=e[i];if(ge(o))n[i]=Tf(i,o,r);else if(o!=null){const s=ms(o);n[i]=()=>s}}},yc=(e,n)=>{const t=ms(n);e.slots.default=()=>t},Of=(e,n)=>{if(e.vnode.shapeFlag&32){const t=n._;t?(e.slots=Ee(n),fo(n,"_",t)):mc(n,e.slots={})}else e.slots={},n&&yc(e,n);fo(e.slots,Lo,1)},kf=(e,n,t)=>{const{vnode:r,slots:i}=e;let o=!0,s=Ne;if(r.shapeFlag&32){const a=n._;a?t&&a===1?o=!1:(Ve(i,n),!t&&a===1&&delete i._):(o=!n.$stable,mc(n,i)),s=n}else n&&(yc(e,n),s={default:1});if(o)for(const a in i)!gc(a)&&!(a in s)&&delete i[a]};function bc(){return{app:null,config:{isNativeTag:Xu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sf=0;function Pf(e,n){return function(r,i=null){ge(r)||(r=Object.assign({},r)),i!=null&&!$e(i)&&(i=null);const o=bc(),s=new Set;let a=!1;const l=o.app={_uid:Sf++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Zf,get config(){return o.config},set config(c){},use(c,...u){return s.has(c)||(c&&ge(c.install)?(s.add(c),c.install(l,...u)):ge(c)&&(s.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!a){const f=He(r,i);return f.appContext=o,u&&n?n(f,c):e(f,c,d),a=!0,l._container=c,c.__vue_app__=l,_s(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l}};return l}}function Li(e,n,t,r,i=!1){if(he(e)){e.forEach((f,h)=>Li(f,n&&(he(n)?n[h]:n),t,r,i));return}if(xr(r)&&!i)return;const o=r.shapeFlag&4?_s(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=e,c=n&&n.r,u=a.refs===Ne?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(ze(c)?(u[c]=null,Te(d,c)&&(d[c]=null)):We(c)&&(c.value=null)),ge(l))pn(l,a,12,[s,u]);else{const f=ze(l),h=We(l);if(f||h){const p=()=>{if(e.f){const v=f?Te(d,l)?d[l]:u[l]:l.value;i?he(v)&&ts(v,o):he(v)?v.includes(o)||v.push(o):f?(u[l]=[o],Te(d,l)&&(d[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else f?(u[l]=s,Te(d,l)&&(d[l]=s)):h&&(l.value=s,e.k&&(u[e.k]=s))};s?(p.id=-1,ot(p,t)):p()}}}const ot=qd;function Af(e){return Cf(e)}function Cf(e,n){const t=od();t.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Nt,insertStaticContent:p}=e,v=(O,I,R,B=null,H=null,X=null,J=!1,F=null,W=!!I.dynamicChildren)=>{if(O===I)return;O&&!Mn(O,I)&&(B=bt(O),je(O,H,X,!0),O=null),I.patchFlag===-2&&(W=!1,I.dynamicChildren=null);const{type:D,ref:ne,shapeFlag:q}=I;switch(D){case Mo:m(O,I,R,B);break;case Pt:g(O,I,R,B);break;case oi:O==null&&y(I,R,B,J);break;case fe:A(O,I,R,B,H,X,J,F,W);break;default:q&1?b(O,I,R,B,H,X,J,F,W):q&6?N(O,I,R,B,H,X,J,F,W):(q&64||q&128)&&D.process(O,I,R,B,H,X,J,F,W,z)}ne!=null&&H&&Li(ne,O&&O.ref,X,I||O,!I)},m=(O,I,R,B)=>{if(O==null)r(I.el=a(I.children),R,B);else{const H=I.el=O.el;I.children!==O.children&&c(H,I.children)}},g=(O,I,R,B)=>{O==null?r(I.el=l(I.children||""),R,B):I.el=O.el},y=(O,I,R,B)=>{[O.el,O.anchor]=p(O.children,I,R,B,O.el,O.anchor)},w=({el:O,anchor:I},R,B)=>{let H;for(;O&&O!==I;)H=f(O),r(O,R,B),O=H;r(I,R,B)},_=({el:O,anchor:I})=>{let R;for(;O&&O!==I;)R=f(O),i(O),O=R;i(I)},b=(O,I,R,B,H,X,J,F,W)=>{J=J||I.type==="svg",O==null?x(I,R,B,H,X,J,F,W):S(O,I,H,X,J,F,W)},x=(O,I,R,B,H,X,J,F)=>{let W,D;const{type:ne,props:q,shapeFlag:ie,transition:se,dirs:de}=O;if(W=O.el=s(O.type,X,q&&q.is,q),ie&8?u(W,O.children):ie&16&&E(O.children,W,null,B,H,X&&ne!=="foreignObject",J,F),de&&xn(O,null,B,"created"),T(W,O,O.scopeId,J,B),q){for(const _e in q)_e!=="value"&&!so(_e)&&o(W,_e,null,q[_e],X,O.children,B,H,Ze);"value"in q&&o(W,"value",null,q.value),(D=q.onVnodeBeforeMount)&&Dt(D,B,O)}de&&xn(O,null,B,"beforeMount");const pe=(!H||H&&!H.pendingBranch)&&se&&!se.persisted;pe&&se.beforeEnter(W),r(W,I,R),((D=q&&q.onVnodeMounted)||pe||de)&&ot(()=>{D&&Dt(D,B,O),pe&&se.enter(W),de&&xn(O,null,B,"mounted")},H)},T=(O,I,R,B,H)=>{if(R&&h(O,R),B)for(let X=0;X<B.length;X++)h(O,B[X]);if(H){let X=H.subTree;if(I===X){const J=H.vnode;T(O,J,J.scopeId,J.slotScopeIds,H.parent)}}},E=(O,I,R,B,H,X,J,F,W=0)=>{for(let D=W;D<O.length;D++){const ne=O[D]=F?un(O[D]):Bt(O[D]);v(null,ne,I,R,B,H,X,J,F)}},S=(O,I,R,B,H,X,J)=>{const F=I.el=O.el;let{patchFlag:W,dynamicChildren:D,dirs:ne}=I;W|=O.patchFlag&16;const q=O.props||Ne,ie=I.props||Ne;let se;R&&En(R,!1),(se=ie.onVnodeBeforeUpdate)&&Dt(se,R,I,O),ne&&xn(I,O,R,"beforeUpdate"),R&&En(R,!0);const de=H&&I.type!=="foreignObject";if(D?P(O.dynamicChildren,D,F,R,B,de,X):J||G(O,I,F,null,R,B,de,X,!1),W>0){if(W&16)C(F,I,q,ie,R,B,H);else if(W&2&&q.class!==ie.class&&o(F,"class",null,ie.class,H),W&4&&o(F,"style",q.style,ie.style,H),W&8){const pe=I.dynamicProps;for(let _e=0;_e<pe.length;_e++){const Pe=pe[_e],Xe=q[Pe],Ct=ie[Pe];(Ct!==Xe||Pe==="value")&&o(F,Pe,Xe,Ct,H,O.children,R,B,Ze)}}W&1&&O.children!==I.children&&u(F,I.children)}else!J&&D==null&&C(F,I,q,ie,R,B,H);((se=ie.onVnodeUpdated)||ne)&&ot(()=>{se&&Dt(se,R,I,O),ne&&xn(I,O,R,"updated")},B)},P=(O,I,R,B,H,X,J)=>{for(let F=0;F<I.length;F++){const W=O[F],D=I[F],ne=W.el&&(W.type===fe||!Mn(W,D)||W.shapeFlag&70)?d(W.el):R;v(W,D,ne,null,B,H,X,J,!0)}},C=(O,I,R,B,H,X,J)=>{if(R!==B){if(R!==Ne)for(const F in R)!so(F)&&!(F in B)&&o(O,F,R[F],null,J,I.children,H,X,Ze);for(const F in B){if(so(F))continue;const W=B[F],D=R[F];W!==D&&F!=="value"&&o(O,F,D,W,J,I.children,H,X,Ze)}"value"in B&&o(O,"value",R.value,B.value)}},A=(O,I,R,B,H,X,J,F,W)=>{const D=I.el=O?O.el:a(""),ne=I.anchor=O?O.anchor:a("");let{patchFlag:q,dynamicChildren:ie,slotScopeIds:se}=I;se&&(F=F?F.concat(se):se),O==null?(r(D,R,B),r(ne,R,B),E(I.children,R,ne,H,X,J,F,W)):q>0&&q&64&&ie&&O.dynamicChildren?(P(O.dynamicChildren,ie,R,H,X,J,F),(I.key!=null||H&&I===H.subTree)&&_c(O,I,!0)):G(O,I,R,ne,H,X,J,F,W)},N=(O,I,R,B,H,X,J,F,W)=>{I.slotScopeIds=F,O==null?I.shapeFlag&512?H.ctx.activate(I,R,B,J,W):k(I,R,B,H,X,J,W):j(O,I,W)},k=(O,I,R,B,H,X,J)=>{const F=O.component=$f(O,B,H);if(Io(O)&&(F.ctx.renderer=z),Df(F),F.asyncDep){if(H&&H.registerDep(F,L),!O.el){const W=F.subTree=He(Pt);g(null,W,I,R)}return}L(F,O,I,R,H,X,J)},j=(O,I,R)=>{const B=I.component=O.component;if(Xd(O,I,R))if(B.asyncDep&&!B.asyncResolved){U(B,I,R);return}else B.next=I,Gd(B.update),B.update();else I.el=O.el,B.vnode=I},L=(O,I,R,B,H,X,J)=>{const F=()=>{if(O.isMounted){let{next:ne,bu:q,u:ie,parent:se,vnode:de}=O,pe=ne,_e;En(O,!1),ne?(ne.el=de.el,U(O,ne,J)):ne=de,q&&ei(q),(_e=ne.props&&ne.props.onVnodeBeforeUpdate)&&Dt(_e,se,ne,de),En(O,!0);const Pe=ti(O),Xe=O.subTree;O.subTree=Pe,v(Xe,Pe,d(Xe.el),bt(Xe),O,H,X),ne.el=Pe.el,pe===null&&Jd(O,Pe.el),ie&&ot(ie,H),(_e=ne.props&&ne.props.onVnodeUpdated)&&ot(()=>Dt(_e,se,ne,de),H)}else{let ne;const{el:q,props:ie}=I,{bm:se,m:de,parent:pe}=O,_e=xr(I);if(En(O,!1),se&&ei(se),!_e&&(ne=ie&&ie.onVnodeBeforeMount)&&Dt(ne,pe,I),En(O,!0),q&&K){const Pe=()=>{O.subTree=ti(O),K(q,O.subTree,O,H,null)};_e?I.type.__asyncLoader().then(()=>!O.isUnmounted&&Pe()):Pe()}else{const Pe=O.subTree=ti(O);v(null,Pe,R,B,O,H,X),I.el=Pe.el}if(de&&ot(de,H),!_e&&(ne=ie&&ie.onVnodeMounted)){const Pe=I;ot(()=>Dt(ne,pe,Pe),H)}(I.shapeFlag&256||pe&&xr(pe.vnode)&&pe.vnode.shapeFlag&256)&&O.a&&ot(O.a,H),O.isMounted=!0,I=R=B=null}},W=O.effect=new is(F,()=>fs(D),O.scope),D=O.update=()=>W.run();D.id=O.uid,En(O,!0),D()},U=(O,I,R)=>{I.component=O;const B=O.vnode.props;O.vnode=I,O.next=null,Ef(O,I.props,B,R),kf(O,I.children,R),dr(),ea(),fr()},G=(O,I,R,B,H,X,J,F,W=!1)=>{const D=O&&O.children,ne=O?O.shapeFlag:0,q=I.children,{patchFlag:ie,shapeFlag:se}=I;if(ie>0){if(ie&128){le(D,q,R,B,H,X,J,F,W);return}else if(ie&256){Y(D,q,R,B,H,X,J,F,W);return}}se&8?(ne&16&&Ze(D,H,X),q!==D&&u(R,q)):ne&16?se&16?le(D,q,R,B,H,X,J,F,W):Ze(D,H,X,!0):(ne&8&&u(R,""),se&16&&E(q,R,B,H,X,J,F,W))},Y=(O,I,R,B,H,X,J,F,W)=>{O=O||er,I=I||er;const D=O.length,ne=I.length,q=Math.min(D,ne);let ie;for(ie=0;ie<q;ie++){const se=I[ie]=W?un(I[ie]):Bt(I[ie]);v(O[ie],se,R,null,H,X,J,F,W)}D>ne?Ze(O,H,X,!0,!1,q):E(I,R,B,H,X,J,F,W,q)},le=(O,I,R,B,H,X,J,F,W)=>{let D=0;const ne=I.length;let q=O.length-1,ie=ne-1;for(;D<=q&&D<=ie;){const se=O[D],de=I[D]=W?un(I[D]):Bt(I[D]);if(Mn(se,de))v(se,de,R,null,H,X,J,F,W);else break;D++}for(;D<=q&&D<=ie;){const se=O[q],de=I[ie]=W?un(I[ie]):Bt(I[ie]);if(Mn(se,de))v(se,de,R,null,H,X,J,F,W);else break;q--,ie--}if(D>q){if(D<=ie){const se=ie+1,de=se<ne?I[se].el:B;for(;D<=ie;)v(null,I[D]=W?un(I[D]):Bt(I[D]),R,de,H,X,J,F,W),D++}}else if(D>ie)for(;D<=q;)je(O[D],H,X,!0),D++;else{const se=D,de=D,pe=new Map;for(D=de;D<=ie;D++){const $=I[D]=W?un(I[D]):Bt(I[D]);$.key!=null&&pe.set($.key,D)}let _e,Pe=0;const Xe=ie-de+1;let Ct=!1,_t=0;const wt=new Array(Xe);for(D=0;D<Xe;D++)wt[D]=0;for(D=se;D<=q;D++){const $=O[D];if(Pe>=Xe){je($,H,X,!0);continue}let re;if($.key!=null)re=pe.get($.key);else for(_e=de;_e<=ie;_e++)if(wt[_e-de]===0&&Mn($,I[_e])){re=_e;break}re===void 0?je($,H,X,!0):(wt[re-de]=D+1,re>=_t?_t=re:Ct=!0,v($,I[re],R,null,H,X,J,F,W),Pe++)}const on=Ct?If(wt):er;for(_e=on.length-1,D=Xe-1;D>=0;D--){const $=de+D,re=I[$],oe=$+1<ne?I[$+1].el:B;wt[D]===0?v(null,re,R,oe,H,X,J,F,W):Ct&&(_e<0||D!==on[_e]?ve(re,R,oe,2):_e--)}}},ve=(O,I,R,B,H=null)=>{const{el:X,type:J,transition:F,children:W,shapeFlag:D}=O;if(D&6){ve(O.component.subTree,I,R,B);return}if(D&128){O.suspense.move(I,R,B);return}if(D&64){J.move(O,I,R,z);return}if(J===fe){r(X,I,R);for(let q=0;q<W.length;q++)ve(W[q],I,R,B);r(O.anchor,I,R);return}if(J===oi){w(O,I,R);return}if(B!==2&&D&1&&F)if(B===0)F.beforeEnter(X),r(X,I,R),ot(()=>F.enter(X),H);else{const{leave:q,delayLeave:ie,afterLeave:se}=F,de=()=>r(X,I,R),pe=()=>{q(X,()=>{de(),se&&se()})};ie?ie(X,de,pe):pe()}else r(X,I,R)},je=(O,I,R,B=!1,H=!1)=>{const{type:X,props:J,ref:F,children:W,dynamicChildren:D,shapeFlag:ne,patchFlag:q,dirs:ie}=O;if(F!=null&&Li(F,null,R,O,!0),ne&256){I.ctx.deactivate(O);return}const se=ne&1&&ie,de=!xr(O);let pe;if(de&&(pe=J&&J.onVnodeBeforeUnmount)&&Dt(pe,I,O),ne&6)Zt(O.component,R,B);else{if(ne&128){O.suspense.unmount(R,B);return}se&&xn(O,null,I,"beforeUnmount"),ne&64?O.type.remove(O,I,R,H,z,B):D&&(X!==fe||q>0&&q&64)?Ze(D,I,R,!1,!0):(X===fe&&q&384||!H&&ne&16)&&Ze(W,I,R),B&&yt(O)}(de&&(pe=J&&J.onVnodeUnmounted)||se)&&ot(()=>{pe&&Dt(pe,I,O),se&&xn(O,null,I,"unmounted")},R)},yt=O=>{const{type:I,el:R,anchor:B,transition:H}=O;if(I===fe){rt(R,B);return}if(I===oi){_(O);return}const X=()=>{i(R),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(O.shapeFlag&1&&H&&!H.persisted){const{leave:J,delayLeave:F}=H,W=()=>J(R,X);F?F(O.el,X,W):W()}else X()},rt=(O,I)=>{let R;for(;O!==I;)R=f(O),i(O),O=R;i(I)},Zt=(O,I,R)=>{const{bum:B,scope:H,update:X,subTree:J,um:F}=O;B&&ei(B),H.stop(),X&&(X.active=!1,je(J,O,I,R)),F&&ot(F,I),ot(()=>{O.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Ze=(O,I,R,B=!1,H=!1,X=0)=>{for(let J=X;J<O.length;J++)je(O[J],I,R,B,H)},bt=O=>O.shapeFlag&6?bt(O.component.subTree):O.shapeFlag&128?O.suspense.next():f(O.anchor||O.el),$t=(O,I,R)=>{O==null?I._vnode&&je(I._vnode,null,null,!0):v(I._vnode||null,O,I,null,null,null,R),ea(),ql(),I._vnode=O},z={p:v,um:je,m:ve,r:yt,mt:k,mc:E,pc:G,pbc:P,n:bt,o:e};let V,K;return n&&([V,K]=n(z)),{render:$t,hydrate:V,createApp:Pf($t,V)}}function En({effect:e,update:n},t){e.allowRecurse=n.allowRecurse=t}function _c(e,n,t=!1){const r=e.children,i=n.children;if(he(r)&&he(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=un(i[o]),a.el=s.el),t||_c(s,a)),a.type===Mo&&(a.el=s.el)}}function If(e){const n=e.slice(),t=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=t[t.length-1],e[i]<c){n[r]=i,t.push(r);continue}for(o=0,s=t.length-1;o<s;)a=o+s>>1,e[t[a]]<c?o=a+1:s=a;c<e[t[o]]&&(o>0&&(n[r]=t[o-1]),t[o]=r)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=n[s];return t}const jf=e=>e.__isTeleport,fe=Symbol(void 0),Mo=Symbol(void 0),Pt=Symbol(void 0),oi=Symbol(void 0),Tr=[];let Lt=null;function Z(e=!1){Tr.push(Lt=e?null:[])}function Mf(){Tr.pop(),Lt=Tr[Tr.length-1]||null}let Nr=1;function ua(e){Nr+=e}function wc(e){return e.dynamicChildren=Nr>0?Lt||er:null,Mf(),Nr>0&&Lt&&Lt.push(e),e}function ee(e,n,t,r,i,o){return wc(Jt(e,n,t,r,i,o,!0))}function ye(e,n,t,r,i){return wc(He(e,n,t,r,i,!0))}function xc(e){return e?e.__v_isVNode===!0:!1}function Mn(e,n){return e.type===n.type&&e.key===n.key}const Lo="__vInternal",Ec=({key:e})=>e??null,lo=({ref:e,ref_key:n,ref_for:t})=>e!=null?ze(e)||We(e)||ge(e)?{i:Qe,r:e,k:n,f:!!t}:e:null;function Jt(e,n=null,t=null,r=0,i=null,o=e===fe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Ec(n),ref:n&&lo(n),scopeId:nc,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qe};return a?(ys(l,t),o&128&&e.normalize(l)):t&&(l.shapeFlag|=ze(t)?8:16),Nr>0&&!s&&Lt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Lt.push(l),l}const He=Lf;function Lf(e,n=null,t=null,r=0,i=null,o=!1){if((!e||e===cc)&&(e=Pt),xc(e)){const a=yn(e,n,!0);return t&&ys(a,t),Nr>0&&!o&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(e)]=a:Lt.push(a)),a.patchFlag|=-2,a}if(Uf(e)&&(e=e.__vccOpts),n){n=tt(n);let{class:a,style:l}=n;a&&!ze(a)&&(n.class=Ge(a)),$e(l)&&(Vl(l)&&!he(l)&&(l=Ve({},l)),n.style=en(l))}const s=ze(e)?1:Qd(e)?128:jf(e)?64:$e(e)?4:ge(e)?2:0;return Jt(e,n,t,r,i,s,o,!0)}function tt(e){return e?Vl(e)||Lo in e?Ve({},e):e:null}function yn(e,n,t=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,a=n?Ot(r||{},n):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ec(a),ref:n&&n.ref?t&&i?he(i)?i.concat(lo(n)):[i,lo(n)]:lo(n):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==fe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yn(e.ssContent),ssFallback:e.ssFallback&&yn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Tc(e=" ",n=0){return He(Mo,null,e,n)}function at(e="",n=!1){return n?(Z(),ye(Pt,null,e)):He(Pt,null,e)}function Bt(e){return e==null||typeof e=="boolean"?He(Pt):he(e)?He(fe,null,e.slice()):typeof e=="object"?un(e):He(Mo,null,String(e))}function un(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yn(e)}function ys(e,n){let t=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(he(n))t=16;else if(typeof n=="object")if(r&65){const i=n.default;i&&(i._c&&(i._d=!1),ys(e,i()),i._c&&(i._d=!0));return}else{t=32;const i=n._;!i&&!(Lo in n)?n._ctx=Qe:i===3&&Qe&&(Qe.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else ge(n)?(n={default:n,_ctx:Qe},t=32):(n=String(n),r&64?(t=16,n=[Tc(n)]):t=8);e.children=n,e.shapeFlag|=t}function Ot(...e){const n={};for(let t=0;t<e.length;t++){const r=e[t];for(const i in r)if(i==="class")n.class!==r.class&&(n.class=Ge([n.class,r.class]));else if(i==="style")n.style=en([n.style,r.style]);else if(To(i)){const o=n[i],s=r[i];s&&o!==s&&!(he(o)&&o.includes(s))&&(n[i]=o?[].concat(o,s):s)}else i!==""&&(n[i]=r[i])}return n}function Dt(e,n,t,r=null){kt(e,n,7,[t,r])}const Nf=bc();let Rf=0;function $f(e,n,t){const r=e.type,i=(n?n.appContext:e.appContext)||Nf,o={uid:Rf++,vnode:e,type:r,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new id(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vc(r,i),emitsOptions:tc(r,i),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:r.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=n?n.root:o,o.emit=Kd.bind(null,o),e.ce&&e.ce(o),o}let Be=null;const bs=()=>Be||Qe,ar=e=>{Be=e,e.scope.on()},Un=()=>{Be&&Be.scope.off(),Be=null};function Oc(e){return e.vnode.shapeFlag&4}let Rr=!1;function Df(e,n=!1){Rr=n;const{props:t,children:r}=e.vnode,i=Oc(e);xf(e,t,i,n),Of(e,r);const o=i?Ff(e,n):void 0;return Rr=!1,o}function Ff(e,n){const t=e.type;e.accessCache=Object.create(null),e.proxy=Zl(new Proxy(e.ctx,gf));const{setup:r}=t;if(r){const i=e.setupContext=r.length>1?Sc(e):null;ar(e),dr();const o=pn(r,e,0,[e.props,i]);if(fr(),Un(),jl(o)){if(o.then(Un,Un),n)return o.then(s=>{da(e,s,n)}).catch(s=>{Ao(s,e,0)});e.asyncDep=o}else da(e,o,n)}else kc(e,n)}function da(e,n,t){ge(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:$e(n)&&(e.setupState=Yl(n)),kc(e,t)}let fa;function kc(e,n,t){const r=e.type;if(!e.render){if(!n&&fa&&!r.render){const i=r.template||gs(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ve(Ve({isCustomElement:o,delimiters:a},s),l);r.render=fa(i,c)}}e.render=r.render||Nt}ar(e),dr(),mf(e),fr(),Un()}function zf(e){return new Proxy(e.attrs,{get(n,t){return ut(e,"get","$attrs"),n[t]}})}function Sc(e){const n=r=>{e.exposed=r||{}};let t;return{get attrs(){return t||(t=zf(e))},slots:e.slots,emit:e.emit,expose:n}}function _s(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yl(Zl(e.exposed)),{get(n,t){if(t in n)return n[t];if(t in Er)return Er[t](e)},has(n,t){return t in n||t in Er}}))}function Bf(e,n=!0){return ge(e)?e.displayName||e.name:e.name||n&&e.__name}function Uf(e){return ge(e)&&"__vccOpts"in e}const Q=(e,n)=>Bd(e,n,Rr);function No(){return Pc().slots}function Hf(){return Pc().attrs}function Pc(){const e=bs();return e.setupContext||(e.setupContext=Sc(e))}const Gf=Symbol(""),Vf=()=>St(Gf),Zf="3.2.47",Kf="http://www.w3.org/2000/svg",Ln=typeof document<"u"?document:null,ha=Ln&&Ln.createElement("template"),Wf={insert:(e,n,t)=>{n.insertBefore(e,t||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,t,r)=>{const i=n?Ln.createElementNS(Kf,e):Ln.createElement(e,t?{is:t}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ln.createTextNode(e),createComment:e=>Ln.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ln.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,t,r,i,o){const s=t?t.previousSibling:n.lastChild;if(i&&(i===o||i.nextSibling))for(;n.insertBefore(i.cloneNode(!0),t),!(i===o||!(i=i.nextSibling)););else{ha.innerHTML=r?`<svg>${e}</svg>`:e;const a=ha.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}n.insertBefore(a,t)}return[s?s.nextSibling:n.firstChild,t?t.previousSibling:n.lastChild]}};function Yf(e,n,t){const r=e._vtc;r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):t?e.setAttribute("class",n):e.className=n}function Xf(e,n,t){const r=e.style,i=ze(t);if(t&&!i){if(n&&!ze(n))for(const o in n)t[o]==null&&Ni(r,o,"");for(const o in t)Ni(r,o,t[o])}else{const o=r.display;i?n!==t&&(r.cssText=t):n&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const pa=/\s*!important$/;function Ni(e,n,t){if(he(t))t.forEach(r=>Ni(e,n,r));else if(t==null&&(t=""),n.startsWith("--"))e.setProperty(n,t);else{const r=Jf(e,n);pa.test(t)?e.setProperty(ur(r),t.replace(pa,""),"important"):e[r]=t}}const va=["Webkit","Moz","ms"],ii={};function Jf(e,n){const t=ii[n];if(t)return t;let r=Ht(n);if(r!=="filter"&&r in e)return ii[n]=r;r=So(r);for(let i=0;i<va.length;i++){const o=va[i]+r;if(o in e)return ii[n]=o}return n}const ga="http://www.w3.org/1999/xlink";function Qf(e,n,t,r,i){if(r&&n.startsWith("xlink:"))t==null?e.removeAttributeNS(ga,n.slice(6,n.length)):e.setAttributeNS(ga,n,t);else{const o=Yu(n);t==null||o&&!Al(t)?e.removeAttribute(n):e.setAttribute(n,o?"":t)}}function qf(e,n,t,r,i,o,s){if(n==="innerHTML"||n==="textContent"){r&&s(r,i,o),e[n]=t??"";return}if(n==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=t;const l=t??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),t==null&&e.removeAttribute(n);return}let a=!1;if(t===""||t==null){const l=typeof e[n];l==="boolean"?t=Al(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{e[n]=t}catch{}a&&e.removeAttribute(n)}function eh(e,n,t,r){e.addEventListener(n,t,r)}function th(e,n,t,r){e.removeEventListener(n,t,r)}function nh(e,n,t,r,i=null){const o=e._vei||(e._vei={}),s=o[n];if(r&&s)s.value=r;else{const[a,l]=rh(n);if(r){const c=o[n]=sh(r,i);eh(e,a,c,l)}else s&&(th(e,a,s,l),o[n]=void 0)}}const ma=/(?:Once|Passive|Capture)$/;function rh(e){let n;if(ma.test(e)){n={};let r;for(;r=e.match(ma);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ur(e.slice(2)),n]}let si=0;const oh=Promise.resolve(),ih=()=>si||(oh.then(()=>si=0),si=Date.now());function sh(e,n){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;kt(ah(r,t.value),n,5,[r])};return t.value=e,t.attached=ih(),t}function ah(e,n){if(he(n)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},n.map(r=>i=>!i._stopped&&r&&r(i))}else return n}const ya=/^on[a-z]/,lh=(e,n,t,r,i=!1,o,s,a,l)=>{n==="class"?Yf(e,r,i):n==="style"?Xf(e,t,r):To(n)?es(n)||nh(e,n,t,r,s):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):ch(e,n,r,i))?qf(e,n,r,o,s,a,l):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),Qf(e,n,r,i))};function ch(e,n,t,r){return r?!!(n==="innerHTML"||n==="textContent"||n in e&&ya.test(n)&&ge(t)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||ya.test(n)&&ze(t)?!1:n in e}const an="transition",vr="animation",Ac={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uh=Ve({},nf.props,Ac),Tn=(e,n=[])=>{he(e)?e.forEach(t=>t(...n)):e&&e(...n)},ba=e=>e?he(e)?e.some(n=>n.length>1):e.length>1:!1;function dh(e){const n={};for(const A in e)A in Ac||(n[A]=e[A]);if(e.css===!1)return n;const{name:t="v",type:r,duration:i,enterFromClass:o=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=e,p=fh(i),v=p&&p[0],m=p&&p[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:w,onLeave:_,onLeaveCancelled:b,onBeforeAppear:x=g,onAppear:T=y,onAppearCancelled:E=w}=n,S=(A,N,k)=>{cn(A,N?u:a),cn(A,N?c:s),k&&k()},P=(A,N)=>{A._isLeaving=!1,cn(A,d),cn(A,h),cn(A,f),N&&N()},C=A=>(N,k)=>{const j=A?T:y,L=()=>S(N,A,k);Tn(j,[N,L]),_a(()=>{cn(N,A?l:o),Wt(N,A?u:a),ba(j)||wa(N,r,v,L)})};return Ve(n,{onBeforeEnter(A){Tn(g,[A]),Wt(A,o),Wt(A,s)},onBeforeAppear(A){Tn(x,[A]),Wt(A,l),Wt(A,c)},onEnter:C(!1),onAppear:C(!0),onLeave(A,N){A._isLeaving=!0;const k=()=>P(A,N);Wt(A,d),Ic(),Wt(A,f),_a(()=>{A._isLeaving&&(cn(A,d),Wt(A,h),ba(_)||wa(A,r,m,k))}),Tn(_,[A,k])},onEnterCancelled(A){S(A,!1),Tn(w,[A])},onAppearCancelled(A){S(A,!0),Tn(E,[A])},onLeaveCancelled(A){P(A),Tn(b,[A])}})}function fh(e){if(e==null)return null;if($e(e))return[ai(e.enter),ai(e.leave)];{const n=ai(e);return[n,n]}}function ai(e){return rd(e)}function Wt(e,n){n.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(n)}function cn(e,n){n.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:t}=e;t&&(t.delete(n),t.size||(e._vtc=void 0))}function _a(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let hh=0;function wa(e,n,t,r){const i=e._endId=++hh,o=()=>{i===e._endId&&r()};if(t)return setTimeout(o,t);const{type:s,timeout:a,propCount:l}=Cc(e,n);if(!s)return r();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,f),o()},f=h=>{h.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,f)}function Cc(e,n){const t=window.getComputedStyle(e),r=p=>(t[p]||"").split(", "),i=r(`${an}Delay`),o=r(`${an}Duration`),s=xa(i,o),a=r(`${vr}Delay`),l=r(`${vr}Duration`),c=xa(a,l);let u=null,d=0,f=0;n===an?s>0&&(u=an,d=s,f=o.length):n===vr?c>0&&(u=vr,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?an:vr:null,f=u?u===an?o.length:l.length:0);const h=u===an&&/\b(transform|all)(,|$)/.test(r(`${an}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function xa(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((t,r)=>Ea(t)+Ea(e[r])))}function Ea(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ic(){return document.body.offsetHeight}const jc=new WeakMap,Mc=new WeakMap,Lc={name:"TransitionGroup",props:Ve({},uh,{tag:String,moveClass:String}),setup(e,{slots:n}){const t=bs(),r=oc();let i,o;return ac(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!yh(i[0].el,t.vnode.el,s))return;i.forEach(vh),i.forEach(gh);const a=i.filter(mh);Ic(),a.forEach(l=>{const c=l.el,u=c.style;Wt(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,cn(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=Ee(e),a=dh(s);let l=s.tag||fe;i=o,o=n.default?ps(n.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Lr(u,Mr(u,a,r,t))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Lr(u,Mr(u,a,r,t)),jc.set(u,u.el.getBoundingClientRect())}return He(l,null,o)}}},ph=e=>delete e.mode;Lc.props;const $r=Lc;function vh(e){const n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function gh(e){Mc.set(e,e.el.getBoundingClientRect())}function mh(e){const n=jc.get(e),t=Mc.get(e),r=n.left-t.left,i=n.top-t.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function yh(e,n,t){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),t.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=n.nodeType===1?n:n.parentNode;i.appendChild(r);const{hasTransform:o}=Cc(r);return i.removeChild(r),o}const bh=["ctrl","shift","alt","meta"],_h={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>bh.some(t=>e[`${t}Key`]&&!n.includes(t))},Rt=(e,n)=>(t,...r)=>{for(let i=0;i<n.length;i++){const o=_h[n[i]];if(o&&o(t,n))return}return e(t,...r)},wh=Ve({patchProp:lh},Wf);let Ta;function xh(){return Ta||(Ta=Af(wh))}const Eh=(...e)=>{const n=xh().createApp(...e),{mount:t}=n;return n.mount=r=>{const i=Th(r);if(!i)return;const o=n._component;!ge(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},n};function Th(e){return ze(e)?document.querySelector(e):e}var Oh=Object.defineProperty,kh=Object.defineProperties,Sh=Object.getOwnPropertyDescriptors,Oa=Object.getOwnPropertySymbols,Ph=Object.prototype.hasOwnProperty,Ah=Object.prototype.propertyIsEnumerable,nt=Math.pow,ka=(e,n,t)=>n in e?Oh(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,qe=(e,n)=>{for(var t in n||(n={}))Ph.call(n,t)&&ka(e,t,n[t]);if(Oa)for(var t of Oa(n))Ah.call(n,t)&&ka(e,t,n[t]);return e},Ro=(e,n)=>kh(e,Sh(n)),lr=(e,n,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())});const Ch=["paths","node-labels","nodes","focusring","edge-labels","edges","base","grid","background","root"];function fn(e){return Bn(e)?e:gt(e)}function Se(e,n="Parameter"){if(e==null)throw new Error(`${n} is null`);return e}const Nc=Symbol("containers");function Ih(e){tn(Nc,e)}function ws(){const e=Se(St(Nc),"containers");return{container:e.container,svg:e.svg,viewport:e.viewport,svgPanZoom:e.svgPanZoom}}function jh(){this.__data__=[],this.size=0}function Hr(e,n){return e===n||e!==e&&n!==n}function $o(e,n){for(var t=e.length;t--;)if(Hr(e[t][0],n))return t;return-1}var Mh=Array.prototype,Lh=Mh.splice;function Nh(e){var n=this.__data__,t=$o(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Lh.call(n,t,1),--this.size,!0}function Rh(e){var n=this.__data__,t=$o(n,e);return t<0?void 0:n[t][1]}function $h(e){return $o(this.__data__,e)>-1}function Dh(e,n){var t=this.__data__,r=$o(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function rn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}rn.prototype.clear=jh;rn.prototype.delete=Nh;rn.prototype.get=Rh;rn.prototype.has=$h;rn.prototype.set=Dh;function Fh(){this.__data__=new rn,this.size=0}function zh(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function Bh(e){return this.__data__.get(e)}function Uh(e){return this.__data__.has(e)}var Hh=typeof global=="object"&&global&&global.Object===Object&&global;const Rc=Hh;var Gh=typeof self=="object"&&self&&self.Object===Object&&self,Vh=Rc||Gh||Function("return this")();const At=Vh;var Zh=At.Symbol;const bn=Zh;var $c=Object.prototype,Kh=$c.hasOwnProperty,Wh=$c.toString,gr=bn?bn.toStringTag:void 0;function Yh(e){var n=Kh.call(e,gr),t=e[gr];try{e[gr]=void 0;var r=!0}catch{}var i=Wh.call(e);return r&&(n?e[gr]=t:delete e[gr]),i}var Xh=Object.prototype,Jh=Xh.toString;function Qh(e){return Jh.call(e)}var qh="[object Null]",ep="[object Undefined]",Sa=bn?bn.toStringTag:void 0;function Zn(e){return e==null?e===void 0?ep:qh:Sa&&Sa in Object(e)?Yh(e):Qh(e)}function Gt(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var tp="[object AsyncFunction]",np="[object Function]",rp="[object GeneratorFunction]",op="[object Proxy]";function xs(e){if(!Gt(e))return!1;var n=Zn(e);return n==np||n==rp||n==tp||n==op}var ip=At["__core-js_shared__"];const li=ip;var Pa=function(){var e=/[^.]+$/.exec(li&&li.keys&&li.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sp(e){return!!Pa&&Pa in e}var ap=Function.prototype,lp=ap.toString;function Kn(e){if(e!=null){try{return lp.call(e)}catch{}try{return e+""}catch{}}return""}var cp=/[\\^$.*+?()[\]{}|]/g,up=/^\[object .+?Constructor\]$/,dp=Function.prototype,fp=Object.prototype,hp=dp.toString,pp=fp.hasOwnProperty,vp=RegExp("^"+hp.call(pp).replace(cp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gp(e){if(!Gt(e)||sp(e))return!1;var n=xs(e)?vp:up;return n.test(Kn(e))}function mp(e,n){return e==null?void 0:e[n]}function Wn(e,n){var t=mp(e,n);return gp(t)?t:void 0}var yp=Wn(At,"Map");const Dr=yp;var bp=Wn(Object,"create");const Fr=bp;function _p(){this.__data__=Fr?Fr(null):{},this.size=0}function wp(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var xp="__lodash_hash_undefined__",Ep=Object.prototype,Tp=Ep.hasOwnProperty;function Op(e){var n=this.__data__;if(Fr){var t=n[e];return t===xp?void 0:t}return Tp.call(n,e)?n[e]:void 0}var kp=Object.prototype,Sp=kp.hasOwnProperty;function Pp(e){var n=this.__data__;return Fr?n[e]!==void 0:Sp.call(n,e)}var Ap="__lodash_hash_undefined__";function Cp(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Fr&&n===void 0?Ap:n,this}function Hn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Hn.prototype.clear=_p;Hn.prototype.delete=wp;Hn.prototype.get=Op;Hn.prototype.has=Pp;Hn.prototype.set=Cp;function Ip(){this.size=0,this.__data__={hash:new Hn,map:new(Dr||rn),string:new Hn}}function jp(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Do(e,n){var t=e.__data__;return jp(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Mp(e){var n=Do(this,e).delete(e);return this.size-=n?1:0,n}function Lp(e){return Do(this,e).get(e)}function Np(e){return Do(this,e).has(e)}function Rp(e,n){var t=Do(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function Yn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Yn.prototype.clear=Ip;Yn.prototype.delete=Mp;Yn.prototype.get=Lp;Yn.prototype.has=Np;Yn.prototype.set=Rp;var $p=200;function Dp(e,n){var t=this.__data__;if(t instanceof rn){var r=t.__data__;if(!Dr||r.length<$p-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Yn(r)}return t.set(e,n),this.size=t.size,this}function Qt(e){var n=this.__data__=new rn(e);this.size=n.size}Qt.prototype.clear=Fh;Qt.prototype.delete=zh;Qt.prototype.get=Bh;Qt.prototype.has=Uh;Qt.prototype.set=Dp;var Fp=function(){try{var e=Wn(Object,"defineProperty");return e({},"",{}),e}catch{}}();const mo=Fp;function Es(e,n,t){n=="__proto__"&&mo?mo(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Ri(e,n,t){(t!==void 0&&!Hr(e[n],t)||t===void 0&&!(n in e))&&Es(e,n,t)}function zp(e){return function(n,t,r){for(var i=-1,o=Object(n),s=r(n),a=s.length;a--;){var l=s[e?a:++i];if(t(o[l],l,o)===!1)break}return n}}var Bp=zp();const Up=Bp;var Dc=typeof ht=="object"&&ht&&!ht.nodeType&&ht,Aa=Dc&&typeof pt=="object"&&pt&&!pt.nodeType&&pt,Hp=Aa&&Aa.exports===Dc,Ca=Hp?At.Buffer:void 0,Ia=Ca?Ca.allocUnsafe:void 0;function Gp(e,n){if(n)return e.slice();var t=e.length,r=Ia?Ia(t):new e.constructor(t);return e.copy(r),r}var Vp=At.Uint8Array;const yo=Vp;function Zp(e){var n=new e.constructor(e.byteLength);return new yo(n).set(new yo(e)),n}function Kp(e,n){var t=n?Zp(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Wp(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var ja=Object.create,Yp=function(){function e(){}return function(n){if(!Gt(n))return{};if(ja)return ja(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();const Xp=Yp;function Fc(e,n){return function(t){return e(n(t))}}var Jp=Fc(Object.getPrototypeOf,Object);const zc=Jp;var Qp=Object.prototype;function Ts(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Qp;return e===t}function qp(e){return typeof e.constructor=="function"&&!Ts(e)?Xp(zc(e)):{}}function _n(e){return e!=null&&typeof e=="object"}var ev="[object Arguments]";function Ma(e){return _n(e)&&Zn(e)==ev}var Bc=Object.prototype,tv=Bc.hasOwnProperty,nv=Bc.propertyIsEnumerable,rv=Ma(function(){return arguments}())?Ma:function(e){return _n(e)&&tv.call(e,"callee")&&!nv.call(e,"callee")};const $i=rv;var ov=Array.isArray;const Gn=ov;var iv=9007199254740991;function Uc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iv}function Fo(e){return e!=null&&Uc(e.length)&&!xs(e)}function sv(e){return _n(e)&&Fo(e)}function av(){return!1}var Hc=typeof ht=="object"&&ht&&!ht.nodeType&&ht,La=Hc&&typeof pt=="object"&&pt&&!pt.nodeType&&pt,lv=La&&La.exports===Hc,Na=lv?At.Buffer:void 0,cv=Na?Na.isBuffer:void 0,uv=cv||av;const bo=uv;var dv="[object Object]",fv=Function.prototype,hv=Object.prototype,Gc=fv.toString,pv=hv.hasOwnProperty,vv=Gc.call(Object);function Vc(e){if(!_n(e)||Zn(e)!=dv)return!1;var n=zc(e);if(n===null)return!0;var t=pv.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Gc.call(t)==vv}var gv="[object Arguments]",mv="[object Array]",yv="[object Boolean]",bv="[object Date]",_v="[object Error]",wv="[object Function]",xv="[object Map]",Ev="[object Number]",Tv="[object Object]",Ov="[object RegExp]",kv="[object Set]",Sv="[object String]",Pv="[object WeakMap]",Av="[object ArrayBuffer]",Cv="[object DataView]",Iv="[object Float32Array]",jv="[object Float64Array]",Mv="[object Int8Array]",Lv="[object Int16Array]",Nv="[object Int32Array]",Rv="[object Uint8Array]",$v="[object Uint8ClampedArray]",Dv="[object Uint16Array]",Fv="[object Uint32Array]",Me={};Me[Iv]=Me[jv]=Me[Mv]=Me[Lv]=Me[Nv]=Me[Rv]=Me[$v]=Me[Dv]=Me[Fv]=!0;Me[gv]=Me[mv]=Me[Av]=Me[yv]=Me[Cv]=Me[bv]=Me[_v]=Me[wv]=Me[xv]=Me[Ev]=Me[Tv]=Me[Ov]=Me[kv]=Me[Sv]=Me[Pv]=!1;function zv(e){return _n(e)&&Uc(e.length)&&!!Me[Zn(e)]}function Bv(e){return function(n){return e(n)}}var Zc=typeof ht=="object"&&ht&&!ht.nodeType&&ht,Or=Zc&&typeof pt=="object"&&pt&&!pt.nodeType&&pt,Uv=Or&&Or.exports===Zc,ci=Uv&&Rc.process,Hv=function(){try{var e=Or&&Or.require&&Or.require("util").types;return e||ci&&ci.binding&&ci.binding("util")}catch{}}();const Ra=Hv;var $a=Ra&&Ra.isTypedArray,Gv=$a?Bv($a):zv;const Os=Gv;function Di(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Vv=Object.prototype,Zv=Vv.hasOwnProperty;function Kv(e,n,t){var r=e[n];(!(Zv.call(e,n)&&Hr(r,t))||t===void 0&&!(n in e))&&Es(e,n,t)}function Wv(e,n,t,r){var i=!t;t||(t={});for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r?r(t[a],e[a],a,t,e):void 0;l===void 0&&(l=e[a]),i?Es(t,a,l):Kv(t,a,l)}return t}function Yv(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var Xv=9007199254740991,Jv=/^(?:0|[1-9]\d*)$/;function Kc(e,n){var t=typeof e;return n=n??Xv,!!n&&(t=="number"||t!="symbol"&&Jv.test(e))&&e>-1&&e%1==0&&e<n}var Qv=Object.prototype,qv=Qv.hasOwnProperty;function Wc(e,n){var t=Gn(e),r=!t&&$i(e),i=!t&&!r&&bo(e),o=!t&&!r&&!i&&Os(e),s=t||r||i||o,a=s?Yv(e.length,String):[],l=a.length;for(var c in e)(n||qv.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Kc(c,l)))&&a.push(c);return a}function eg(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var tg=Object.prototype,ng=tg.hasOwnProperty;function rg(e){if(!Gt(e))return eg(e);var n=Ts(e),t=[];for(var r in e)r=="constructor"&&(n||!ng.call(e,r))||t.push(r);return t}function Yc(e){return Fo(e)?Wc(e,!0):rg(e)}function og(e){return Wv(e,Yc(e))}function ig(e,n,t,r,i,o,s){var a=Di(e,t),l=Di(n,t),c=s.get(l);if(c){Ri(e,t,c);return}var u=o?o(a,l,t+"",e,n,s):void 0,d=u===void 0;if(d){var f=Gn(l),h=!f&&bo(l),p=!f&&!h&&Os(l);u=l,f||h||p?Gn(a)?u=a:sv(a)?u=Wp(a):h?(d=!1,u=Gp(l,!0)):p?(d=!1,u=Kp(l,!0)):u=[]:Vc(l)||$i(l)?(u=a,$i(a)?u=og(a):(!Gt(a)||xs(a))&&(u=qp(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Ri(e,t,u)}function ks(e,n,t,r,i){e!==n&&Up(n,function(o,s){if(i||(i=new Qt),Gt(o))ig(e,n,s,t,ks,r,i);else{var a=r?r(Di(e,s),o,s+"",e,n,i):void 0;a===void 0&&(a=o),Ri(e,s,a)}},Yc)}function Xc(e){return e}function sg(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var Da=Math.max;function ag(e,n,t){return n=Da(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=Da(r.length-n,0),s=Array(o);++i<o;)s[i]=r[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=r[i];return a[n]=t(s),sg(e,this,a)}}function lg(e){return function(){return e}}var cg=mo?function(e,n){return mo(e,"toString",{configurable:!0,enumerable:!1,value:lg(n),writable:!0})}:Xc;const ug=cg;var dg=800,fg=16,hg=Date.now;function pg(e){var n=0,t=0;return function(){var r=hg(),i=fg-(r-t);if(t=r,i>0){if(++n>=dg)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}var vg=pg(ug);const gg=vg;function mg(e,n){return gg(ag(e,n,Xc),e+"")}function Jc(e,n,t){if(!Gt(t))return!1;var r=typeof n;return(r=="number"?Fo(t)&&Kc(n,t.length):r=="string"&&n in t)?Hr(t[n],e):!1}function Qc(e){return mg(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&Jc(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var a=t[r];a&&e(n,a,r,o)}return n})}var yg=Qc(function(e,n,t){ks(e,n,t)});const bg=yg;var _g=Qc(function(e,n,t,r){ks(e,n,t,r)});const wg=_g;var xg=/\s/;function Eg(e){for(var n=e.length;n--&&xg.test(e.charAt(n)););return n}var Tg=/^\s+/;function Og(e){return e&&e.slice(0,Eg(e)+1).replace(Tg,"")}var kg="[object Symbol]";function qc(e){return typeof e=="symbol"||_n(e)&&Zn(e)==kg}var Fa=0/0,Sg=/^[-+]0x[0-9a-f]+$/i,Pg=/^0b[01]+$/i,Ag=/^0o[0-7]+$/i,Cg=parseInt;function _o(e){if(typeof e=="number")return e;if(qc(e))return Fa;if(Gt(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Gt(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Og(e);var t=Pg.test(e);return t||Ag.test(e)?Cg(e.slice(2),t?2:8):Sg.test(e)?Fa:+e}var za=1/0,Ig=17976931348623157e292;function jg(e){if(!e)return e===0?e:0;if(e=_o(e),e===za||e===-za){var n=e<0?-1:1;return n*Ig}return e===e?e:0}function eu(e){var n=jg(e),t=n%1;return n===n?t?n-t:n:0}function Mg(e,n){for(var t=-1,r=e==null?0:e.length,i=Array(r);++t<r;)i[t]=n(e[t],t,e);return i}var Lg=1/0,Ba=bn?bn.prototype:void 0,Ua=Ba?Ba.toString:void 0;function tu(e){if(typeof e=="string")return e;if(Gn(e))return Mg(e,tu)+"";if(qc(e))return Ua?Ua.call(e):"";var n=e+"";return n=="0"&&1/e==-Lg?"-0":n}function Ha(e){return e==null?"":tu(e)}var Ng=At.isFinite,Rg=Math.min;function $g(e){var n=Math[e];return function(t,r){if(t=_o(t),r=r==null?0:Rg(eu(r),292),r&&Ng(t)){var i=(Ha(t)+"e").split("e"),o=n(i[0]+"e"+(+i[1]+r));return i=(Ha(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var Dg=$g("round");const Ga=Dg;class te{static value(n,t){return n instanceof Function?n(t):n}static values(n,t){return Object.values(n).filter(r=>r instanceof Function).length===0?n:Object.fromEntries(Object.entries(n).map(([r,i])=>[r,i instanceof Function?i(t):i]))}}var ce=(e=>(e.CENTER="center",e.NORTH="north",e.NORTH_EAST="north-east",e.EAST="east",e.SOUTH_EAST="south-east",e.SOUTH="south",e.SOUTH_WEST="south-west",e.WEST="west",e.NORTH_WEST="north-west",e))(ce||{});function ui(e){const n={};return Object.assign(n,e(n))}function Va(e,n,t){const r=te.values(n.normal,e);return r.type=="circle"?{width:r.radius*2*t,height:r.radius*2*t}:{width:r.width*t,height:r.height*t}}function Fg(e,n,t,r){const i=Math.abs(e.x-t.x)<n.width/2+r.width/2,o=Math.abs(e.y-t.y)<n.height/2+r.height/2;return i&&o}function Gr(e,n){let t=0;return n===1||e===void 0||e==="none"?t=e??0:typeof e=="string"?t=e.split(/\s+/).map(r=>parseInt(r)*n).filter(r=>!isNaN(r)).join(" "):t=e*n,t&&t!=="0"?t:void 0}function zo(e){let n=0;if(e===void 0||e==="none")n=0;else if(typeof e=="string"){const t=e.split(/\s+/).map(r=>parseInt(r)).filter(r=>!isNaN(r));t.length%2===0?n=t.reduce((r,i)=>r+i,0):n=t.reduce((r,i)=>r+i,0)*2}else n=e*2;return n}const Za=20;class zg{activate(n){const{nodePositions:t,nodes:r,configs:i,emitter:o,scale:s,svgPanZoom:a}=n,l=d=>{for(const[f,h]of Object.entries(d)){const p=this.getOrCreateNodePosition(t,f);this.setNodePosition(p,h)}},c=d=>{const f=d.filter(v=>!(v in t.value)),h=a.getViewArea(),p=s.value;for(const v of f){const m=r.value[v],g=Va(m,i.node,p),y=qe({},h.center);for(;;){let _=!1;for(const[b,x]of Object.entries(t.value)){if(v===b)continue;const T=r.value[b];if(!T)continue;const E=Va(T,i.node,p);if(_=Fg(y,g,x,E),_)break}if(_)y.x+=g.width+Za*p,y.x+g.width/2>h.box.right&&(y.x=h.center.x,y.y+=g.height+Za*p);else break}const w=this.getOrCreateNodePosition(t,v);this.setNodePosition(w,y)}};c(Object.keys(r.value));const u=we(()=>Object.keys(r.value),c);o.on("node:dragstart",l),o.on("node:pointermove",l),o.on("node:dragend",l),this.onDeactivate=()=>{u(),o.off("node:dragstart",l),o.off("node:pointermove",l),o.off("node:dragend",l)}}deactivate(){this.onDeactivate&&this.onDeactivate()}setNodePosition(n,t){n.value.x=Ga(t.x,3),n.value.y=Ga(t.y,3)}getOrCreateNodePosition(n,t){const r=Xt(n.value,t);return r.value||(r.value={x:0,y:0}),r}}function Bg(){return{view:{scalingObjects:!1,panEnabled:!0,zoomEnabled:!0,minZoomLevel:.1,maxZoomLevel:64,doubleClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,boxSelectionEnabled:!1,autoPanAndZoomOnLoad:"center-content",autoPanOnResize:!0,layoutHandler:new zg,onSvgPanZoomInitialized:void 0,grid:{visible:!1,interval:10,thickIncrements:5,line:{color:"#e0e0e0",width:1,dasharray:1},thick:{color:"#cccccc",width:1,dasharray:0}},selection:{box:{color:"#0000ff20",strokeWidth:1,strokeColor:"#aaaaff",strokeDasharray:0},detector:e=>{const n=/Mac OS/.test(navigator.userAgent)?e.metaKey:e.ctrlKey;return e.type==="keydown"?n:!n}},builtInLayerOrder:[]},node:ui(e=>({normal:{type:"circle",radius:16,width:32,height:32,borderRadius:4,color:"#4466cc",strokeWidth:0,strokeColor:"#000000",strokeDasharray:0},hover:{type:n=>te.value(e.normal.type,n),radius:n=>{var t;return((t=te.value(e.normal.radius,n))!=null?t:0)+2},width:n=>{var t;return((t=te.value(e.normal.width,n))!=null?t:0)+2},height:n=>{var t;return((t=te.value(e.normal.height,n))!=null?t:0)+2},borderRadius:n=>{var t;return(t=te.value(e.normal.borderRadius,n))!=null?t:0},strokeWidth:n=>te.value(e.normal.strokeWidth,n),strokeColor:n=>te.value(e.normal.strokeColor,n),strokeDasharray:n=>te.value(e.normal.strokeDasharray,n),color:"#3355bb"},selected:void 0,draggable:!0,selectable:!1,label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",background:void 0,margin:4,direction:ce.SOUTH,directionAutoAdjustment:!1,text:"name",handleNodeEvents:!0},focusring:{visible:!0,width:4,padding:3,color:"#eebb00"},zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0},transition:void 0})),edge:ui(e=>({normal:{width:2,color:"#4466cc",dasharray:0,linecap:"butt",animate:!1,animationSpeed:50},hover:{width:n=>te.value(e.normal.width,n)+1,color:"#3355bb",dasharray:n=>te.value(e.normal.dasharray,n),linecap:n=>te.value(e.normal.linecap,n),animate:n=>te.value(e.normal.animate,n),animationSpeed:n=>te.value(e.normal.animationSpeed,n)},selected:{width:n=>te.value(e.normal.width,n)+1,color:"#dd8800",dasharray:n=>{const t=te.value(e.normal.width,n);return`${t*1.5} ${t*2}`},linecap:n=>te.value(e.normal.linecap,n),animate:n=>te.value(e.normal.animate,n),animationSpeed:n=>te.value(e.normal.animationSpeed,n)},selectable:!1,gap:3,type:"straight",marker:{source:{type:"none",width:5,height:5,margin:-1,units:"strokeWidth",color:null},target:{type:"none",width:5,height:5,margin:-1,units:"strokeWidth",color:null}},margin:null,summarize:(n,t)=>t.edge.type=="curve"?!1:null,summarized:{label:{fontSize:10,lineHeight:1,color:"#4466cc"},shape:{type:"rect",radius:6,width:12,height:12,borderRadius:3,color:"#ffffff",strokeWidth:1,strokeColor:"#4466cc",strokeDasharray:void 0},stroke:{width:5,color:"#4466cc",dasharray:void 0,linecap:void 0,animate:!1,animationSpeed:50}},selfLoop:{radius:12,isClockwise:!0,offset:10,angle:270},keepOrder:"clock",label:{fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",background:void 0,margin:4,padding:4},zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0}})),path:ui(e=>({visible:!1,clickable:!1,hoverable:!1,curveInNode:!1,end:"centerOfNode",margin:0,path:gt({width:6,color:n=>{const t=["#d5000088","#c5116288","#aa00ff88","#6200ea88","#304ffe88","#2962ff88","#0091ea88","#00b8d488","#00bfa588","#00c85388","#64dd1788","#aeea0088","#ffd60088","#ffab0088","#ff6d0088","#dd2c0088"],r=n.edges.map(i=>i.split("").reduce((o,s)=>(o=(o<<5)-o+s.charCodeAt(0),o&o),0)).reduce((i,o)=>i+o,0);return t[Math.abs(r)%t.length]},dasharray:void 0,linecap:"round",linejoin:"round",animate:!1,animationSpeed:50}),normal:{width:n=>te.value(e.path.width,n),color:n=>te.value(e.path.color,n),dasharray:n=>te.value(e.path.dasharray,n),linecap:n=>te.value(e.path.linecap,n),linejoin:n=>te.value(e.path.linejoin,n),animate:n=>te.value(e.path.animate,n),animationSpeed:n=>te.value(e.path.animationSpeed,n)},hover:{width:n=>te.value(e.normal.width,n)+2,color:n=>te.value(e.normal.color,n),dasharray:n=>te.value(e.normal.dasharray,n),linecap:n=>te.value(e.normal.linecap,n),linejoin:n=>te.value(e.normal.linejoin,n),animate:n=>te.value(e.normal.animate,n),animationSpeed:n=>te.value(e.normal.animationSpeed,n)},selected:{width:n=>te.value(e.normal.width,n)+2,color:n=>te.value(e.normal.color,n),dasharray:"6 12",linecap:n=>te.value(e.normal.linecap,n),linejoin:n=>te.value(e.normal.linejoin,n),animate:n=>te.value(e.normal.animate,n),animationSpeed:n=>te.value(e.normal.animationSpeed,n)},selectable:!1,zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0},transition:void 0}))}}const nu=Symbol("style");function Ug(e,n){return Vc(e)?bg(e,n):n}function Hg(e){const n=gt(Bg()),t=Object.keys(n);for(const r of t)we(()=>e.value[r],()=>{wg(n[r],e.value[r]||{},Ug)},{immediate:!0,deep:!0});return tn(nu,n),n}function Bo(e){return Se(St(nu),`Configs(${e})`)[e]}function Gg(){return Bo("view")}function Uo(){return Bo("node")}function Vr(){return Bo("edge")}function ru(){return Bo("path")}let Vg=1;function Zg(){return Vg++}var Kg="__lodash_hash_undefined__";function Wg(e){return this.__data__.set(e,Kg),this}function Yg(e){return this.__data__.has(e)}function zr(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Yn;++n<t;)this.add(e[n])}zr.prototype.add=zr.prototype.push=Wg;zr.prototype.has=Yg;function Xg(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function ou(e,n){return e.has(n)}var Jg=1,Qg=2;function iu(e,n,t,r,i,o){var s=t&Jg,a=e.length,l=n.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(n);if(c&&u)return c==n&&u==e;var d=-1,f=!0,h=t&Qg?new zr:void 0;for(o.set(e,n),o.set(n,e);++d<a;){var p=e[d],v=n[d];if(r)var m=s?r(v,p,d,n,e,o):r(p,v,d,e,n,o);if(m!==void 0){if(m)continue;f=!1;break}if(h){if(!Xg(n,function(g,y){if(!ou(h,y)&&(p===g||i(p,g,t,r,o)))return h.push(y)})){f=!1;break}}else if(!(p===v||i(p,v,t,r,o))){f=!1;break}}return o.delete(e),o.delete(n),f}function qg(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function Ss(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var em=1,tm=2,nm="[object Boolean]",rm="[object Date]",om="[object Error]",im="[object Map]",sm="[object Number]",am="[object RegExp]",lm="[object Set]",cm="[object String]",um="[object Symbol]",dm="[object ArrayBuffer]",fm="[object DataView]",Ka=bn?bn.prototype:void 0,di=Ka?Ka.valueOf:void 0;function hm(e,n,t,r,i,o,s){switch(t){case fm:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case dm:return!(e.byteLength!=n.byteLength||!o(new yo(e),new yo(n)));case nm:case rm:case sm:return Hr(+e,+n);case om:return e.name==n.name&&e.message==n.message;case am:case cm:return e==n+"";case im:var a=qg;case lm:var l=r&em;if(a||(a=Ss),e.size!=n.size&&!l)return!1;var c=s.get(e);if(c)return c==n;r|=tm,s.set(e,n);var u=iu(a(e),a(n),r,i,o,s);return s.delete(e),u;case um:if(di)return di.call(e)==di.call(n)}return!1}function pm(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}function vm(e,n,t){var r=n(e);return Gn(e)?r:pm(r,t(e))}function gm(e,n){for(var t=-1,r=e==null?0:e.length,i=0,o=[];++t<r;){var s=e[t];n(s,t,e)&&(o[i++]=s)}return o}function mm(){return[]}var ym=Object.prototype,bm=ym.propertyIsEnumerable,Wa=Object.getOwnPropertySymbols,_m=Wa?function(e){return e==null?[]:(e=Object(e),gm(Wa(e),function(n){return bm.call(e,n)}))}:mm;const wm=_m;var xm=Fc(Object.keys,Object);const Em=xm;var Tm=Object.prototype,Om=Tm.hasOwnProperty;function km(e){if(!Ts(e))return Em(e);var n=[];for(var t in Object(e))Om.call(e,t)&&t!="constructor"&&n.push(t);return n}function Sm(e){return Fo(e)?Wc(e):km(e)}function Ya(e){return vm(e,Sm,wm)}var Pm=1,Am=Object.prototype,Cm=Am.hasOwnProperty;function Im(e,n,t,r,i,o){var s=t&Pm,a=Ya(e),l=a.length,c=Ya(n),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in n:Cm.call(n,f)))return!1}var h=o.get(e),p=o.get(n);if(h&&p)return h==n&&p==e;var v=!0;o.set(e,n),o.set(n,e);for(var m=s;++d<l;){f=a[d];var g=e[f],y=n[f];if(r)var w=s?r(y,g,f,n,e,o):r(g,y,f,e,n,o);if(!(w===void 0?g===y||i(g,y,t,r,o):w)){v=!1;break}m||(m=f=="constructor")}if(v&&!m){var _=e.constructor,b=n.constructor;_!=b&&"constructor"in e&&"constructor"in n&&!(typeof _=="function"&&_ instanceof _&&typeof b=="function"&&b instanceof b)&&(v=!1)}return o.delete(e),o.delete(n),v}var jm=Wn(At,"DataView");const Fi=jm;var Mm=Wn(At,"Promise");const zi=Mm;var Lm=Wn(At,"Set");const rr=Lm;var Nm=Wn(At,"WeakMap");const Bi=Nm;var Xa="[object Map]",Rm="[object Object]",Ja="[object Promise]",Qa="[object Set]",qa="[object WeakMap]",el="[object DataView]",$m=Kn(Fi),Dm=Kn(Dr),Fm=Kn(zi),zm=Kn(rr),Bm=Kn(Bi),Pn=Zn;(Fi&&Pn(new Fi(new ArrayBuffer(1)))!=el||Dr&&Pn(new Dr)!=Xa||zi&&Pn(zi.resolve())!=Ja||rr&&Pn(new rr)!=Qa||Bi&&Pn(new Bi)!=qa)&&(Pn=function(e){var n=Zn(e),t=n==Rm?e.constructor:void 0,r=t?Kn(t):"";if(r)switch(r){case $m:return el;case Dm:return Xa;case Fm:return Ja;case zm:return Qa;case Bm:return qa}return n});const tl=Pn;var Um=1,nl="[object Arguments]",rl="[object Array]",eo="[object Object]",Hm=Object.prototype,ol=Hm.hasOwnProperty;function Gm(e,n,t,r,i,o){var s=Gn(e),a=Gn(n),l=s?rl:tl(e),c=a?rl:tl(n);l=l==nl?eo:l,c=c==nl?eo:c;var u=l==eo,d=c==eo,f=l==c;if(f&&bo(e)){if(!bo(n))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Qt),s||Os(e)?iu(e,n,t,r,i,o):hm(e,n,l,t,r,i,o);if(!(t&Um)){var h=u&&ol.call(e,"__wrapped__"),p=d&&ol.call(n,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?n.value():n;return o||(o=new Qt),i(v,m,t,r,o)}}return f?(o||(o=new Qt),Im(e,n,t,r,i,o)):!1}function su(e,n,t,r,i){return e===n?!0:e==null||n==null||!_n(e)&&!_n(n)?e!==e&&n!==n:Gm(e,n,t,r,su,i)}function Fn(e,n){return su(e,n)}function ct(e){return Object.entries(e)}function co(e,n){const t=new Set(Object.keys(e));ct(n).forEach(([r,i])=>{Fn(e[r],i)||(e[r]=i),t.delete(r)}),t.forEach(r=>delete e[r])}function Vm(e,n,t){const r=fn({edgeLayoutPoints:{},edgeGroups:{},summarizedEdges:{}});return vt(()=>{const{edgeLayoutPoints:i,edgeGroups:o}=Km(t,e.value,n.value);co(r.edgeLayoutPoints,i),co(r.edgeGroups,o)}),vt(()=>{const i={};for(const[o,{edges:s,groupWidth:a}]of Object.entries(r.edgeGroups)){let l=!1;if(a==0)l=!1;else if(t.edge.summarize instanceof Function){const c=t.edge.summarize(s,t);c===null?l=il(e.value,s,t,a):l=c}else t.edge.summarize?l=il(e.value,s,t,a):l=!1;r.edgeGroups[o].summarize=l,l&&Object.keys(s).forEach(c=>i[c]=!0)}co(r.summarizedEdges,i)}),r}function Zm(e,n,t,r,i,o){return e?n?sl(e.edge,t,r,i,0,0,o):sl(e.edge,t,r,i,e.groupWidth,e.pointInGroup,o):{p1:{x:0,y:0},p2:{x:0,y:0}}}function Km(e,n,t){const r={},i={},o={};for(const[a,l]of Object.entries(t)){if(!(l.source in n&&l.target in n))continue;const c=[l.source,l.target].sort().join("<=>"),u=o[c]||{};u[a]=l,o[c]=u}const s=e.edge.gap instanceof Function?e.edge.gap:(a,l)=>e.edge.gap;for(const[a,l]of Object.entries(o)){const c=Object.keys(l).length;if(c==0)continue;const u=s(l,e),[d,f]=Object.entries(l)[0];if(c===1)r[d]={edge:f,pointInGroup:0,groupWidth:0},i[a]={edges:l,groupWidth:0,summarize:!1};else{let h=0;const p=Object.entries(l).map(([g,y])=>{let w=te.value(e.edge.normal.width,y);return isNaN(+w)&&(console.warn("[v-network-graph] Edge width is invalid value. id=[%s] value=[%s]",g,w),w=1),w/2}),v=Object.entries(l).map(([g,y],w)=>(w>0&&(h+=p[w-1]+u+p[w]),[g,y,h])),m=h;v.forEach(([g,y,w])=>{r[g]={edge:y,pointInGroup:w,groupWidth:m}}),i[a]={edges:l,groupWidth:m,summarize:!1}}}return{edgeLayoutPoints:r,edgeGroups:i}}function il(e,n,t,r){if(Object.entries(n).length===1)return!1;const i=Math.min(...Object.values(n).flatMap(o=>[e[o.source],e[o.target]]).filter(o=>o).map(o=>{const s=te.values(t.node.normal,o);return s.type==="circle"?s.radius*2:Math.min(s.width,s.height)}));return r>i}function sl(e,n,t,r,i,o,s){var a,l,c,u,d,f,h,p;let v,m,g,y;return e.source<e.target?[v,m,g,y]=al((a=n==null?void 0:n.x)!=null?a:0,(l=n==null?void 0:n.y)!=null?l:0,(c=t==null?void 0:t.x)!=null?c:0,(u=t==null?void 0:t.y)!=null?u:0,r,i,o,s):[g,y,v,m]=al((d=t==null?void 0:t.x)!=null?d:0,(f=t==null?void 0:t.y)!=null?f:0,(h=n==null?void 0:n.x)!=null?h:0,(p=n==null?void 0:n.y)!=null?p:0,r,i,o,s),{p1:{x:v,y:m},p2:{x:g,y}}}function al(e,n,t,r,i,o,s,a){const l=t-e,c=r-n;let u=(o/2-s)*i;if(u!==0&&a!=="clock"){const d=Math.atan2(r-n,t-e);if(a==="vertical"){const f=Math.PI/2;(d<-f||d>=f)&&(u*=-1)}else a==="horizontal"&&d<0&&(u*=-1)}if(l===0){const d=c<0?-1:1;return[e+u*d,n,t+u*d,r]}else if(c===0){const d=l<0?1:-1;return[e,n+u*d,t,r+u*d]}else{const d=-1/(c/l);c<0&&(u=-u);const f=u/Math.sqrt(1+Math.pow(d,2));return[e+f,n+f*d,t+f,r+f*d]}}function au(e,n,t){return t||(t={x:0,y:0}),t.x=e.x+n.x,t.y=e.y+n.y,t}function Ps(e,n,t){return t||(t={x:0,y:0}),t.x=e.x-n.x,t.y=e.y-n.y,t}function lu(e,n,t){return t||(t={x:0,y:0}),t.x=e.x*n.x,t.y=e.y*n.y,t}function cu(e,n,t){return t||(t={x:0,y:0}),t.x=e.x*n,t.y=e.y*n,t}function As(e,n,t){return t||(t={x:0,y:0}),t.x=e.x/n.x,t.y=e.y/n.y,t}function uu(e,n){return e.x*n.x+e.y*n.y}function du(e,n){return e.x*n.y-e.y*n.x}function Cs(e){return e.x*e.x+e.y*e.y}function Is(e){return Math.sqrt(Cs(e))}function js(e,n){const t=e.x-n.x,r=e.y-n.y;return t*t+r*r}function fu(e,n){return Math.sqrt(js(e,n))}function hu(e,n){n||(n={x:0,y:0});const t=Is(e);return t===0?(n.x=1,n.y=0):As(e,{x:t,y:t},n),n}function wo(e,n,t){t||(t={x:0,y:0});const r=e.x*Math.cos(n)-e.y*Math.sin(n),i=e.x*Math.sin(n)+e.y*Math.cos(n);return t.x=r,t.y=i,t}const Wm=180/Math.PI;function Ym(e){return e*Wm}function Ms(e){return Math.atan2(e.y,e.x)}function Ls(e){return Ym(Ms(e))}const Xm=Object.freeze(Object.defineProperty({__proto__:null,add:au,angle:Ms,angleDegree:Ls,cross:du,distance:fu,distanceSquared:js,divide:As,dot:uu,length:Is,lengthSquared:Cs,multiply:lu,multiplyScalar:cu,normalize:hu,rotate:wo,subtract:Ps},Symbol.toStringTag,{value:"Module"}));class be{static fromArray(n){return new be(n[0]||0,n[1]||0)}static fromObject(n){return new be(n.x,n.y)}constructor(n,t){this.x=n,this.y=t}add(n){return au(this,n,this)}subtract(n){return Ps(this,n,this)}multiply(n){return lu(this,n,this)}multiplyScalar(n){return cu(this,n,this)}divide(n){return As(this,n,this)}dot(n){return uu(this,n)}cross(n){return du(this,n)}lengthSquared(){return Cs(this)}length(){return Is(this)}distanceSquared(n){return js(this,n)}distance(n){return fu(this,n)}normalize(){return hu(this,this)}angle(){return Ms(this)}angleDegree(){return Ls(this)}rotate(n){return wo(this,n,this)}isEqualTo(n){return this.x===n.x&&this.y===n.y}clone(){return new be(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toArray(){return[this.x,this.y]}}const De=qe({Vector2D:be},Xm);class Le{constructor(n,t,r){this.source=n,this.target=t,this.v=r}static fromLinePosition(n){const t=be.fromObject(n.p1),r=be.fromObject(n.p2);return new Le(t,r,or(t,r))}static fromPositions(n,t){const r=be.fromObject(n),i=be.fromObject(t);return new Le(r,i,or(r,i))}static fromVectors(n,t){return new Le(n,t,or(n,t))}}function or(e,n){return n.clone().subtract(e)}function Jm(e){return[be.fromObject(e.p1),be.fromObject(e.p2)]}function Qm(e){return new be((e.p1.x+e.p2.x)/2,(e.p1.y+e.p2.y)/2)}function xo(e,n){return{p1:e,p2:n}}function Ui(e,n,t){const r=Le.fromLinePosition(e);return qm(r,n,t)}function qm(e,n,t){const r=e.v.clone().normalize(),i=e.source.clone().add(r.clone().multiplyScalar(n)),o=e.target.clone().subtract(r.clone().multiplyScalar(t));let s=i.toObject(),a=o.toObject();const l=or(i,o);if(e.v.angle()*l.angle()<0){const c=new be((s.x+a.x)/2,(s.y+a.y)/2),u=c.clone().add(r.multiplyScalar(.5));s=c.toObject(),a=u.toObject()}return{p1:s,p2:a}}function ey(e){return{p1:e.p2,p2:e.p1}}function mr(e){const n=e.v.clone().normalize().rotate(Math.PI/2);return Le.fromVectors(e.target,e.target.clone().add(n))}function Ns(e,n){const t=n.v.clone().normalize(),r=n.source,i=De.subtract(e,r),o=t.dot(i);return r.clone().add(t.multiplyScalar(o))}function Ho(e,n,t,r){if(!(De.lengthSquared(De.subtract(n,t))-r*r<=Math.pow(1,-10)))return null;const i=Le.fromVectors(e,n),o=Ns(t,i),s=De.length(De.subtract(o,t));if(r<s)return null;if(r===s)return o;const a=Math.sqrt(nt(r,2)-nt(s,2)),l=i.v.normalize().multiplyScalar(a);return o.subtract(l)}function ty(e,n,t,r,i){if(!(De.lengthSquared(De.subtract(n,t))-r*r<=Math.pow(1,-10)))return null;const o=Le.fromVectors(e,n),s=Ns(t,o),a=De.length(De.subtract(s,t));if(r<a)return null;if(r===a)return s;const l=Math.sqrt(nt(r,2)-nt(a,2)),c=o.v.normalize().multiplyScalar(l),u=s.clone().add(c),d=s.clone().subtract(c),f=i.distance(u),h=i.distance(d);return Math.abs(f-h)<2?d:f<h?u:d}function An(e,n){const t=De.subtract(n.source,e.source),r=e.v,i=n.v,o=De.cross(t,r)/De.cross(r,i);return n.source.clone().add(i.clone().multiplyScalar(o))}function Br(e,n,t,r,i){const o=e,s=t.clone().subtract(o),a=s.length(),l=n+r;if(l<a)return null;const c=Math.abs(n-r);if(a<c)return null;if(a===l){const b=s.clone().normalize(),x=e.clone().add(b.multiplyScalar(n));return i?x:[x,x]}if(a===c){const b=s.clone().normalize(),x=n>r,T=e.clone().add(b.multiplyScalar(x?n:-n));return i?T:[T,T]}const u=n,d=r,f=(nt(a,2)+nt(u,2)-nt(d,2))/(2*a*u),h=u*f,p=Math.sqrt(nt(u,2)-nt(h,2)),v=s.clone().normalize(),m=new be(-v.y,v.x),g=v.clone().multiplyScalar(h),y=m.clone().multiplyScalar(p),w=e.clone().add(g).add(y),_=e.clone().add(g).subtract(y);if(i){const b=w.distance(i),x=_.distance(i);return b<x?w:_}else return[w,_]}function ll(e,n,t,r){const i=Le.fromPositions(e,n),o=(t.width+t.strokeWidth)/2*r,s=(t.height+t.strokeWidth)/2*r,a=t.borderRadius>0?(t.borderRadius+t.strokeWidth/2)*r:0,l=(i.v.angle()-Math.PI/2)%Math.PI,c=Math.PI/2-l%Math.PI,u=s*Math.abs(Math.tan(l)),d=o*Math.abs(Math.tan(c)),f=u<=o-a,h=d<=s-a;if(f||h||a===0)return Math.sqrt(f?nt(s,2)+nt(u,2):nt(o,2)+nt(d,2));{const p=n.x-o+a,v=n.y-s+a,m=n.x+o-a,g=n.y+s-a,y=[new be(p,v),new be(m,v),new be(m,g),new be(p,g)],w=Math.floor((i.v.angleDegree()+360)%360/90),_=y[w],b=Ho(i.source,Ns(_,i),_,a);return b?or(b,i.target).length():or(_,i.target).length()+a}}function pu(e,n,t,r,i){const o=Le.fromLinePosition(e),s=o.v.clone().normalize(),a=r===0?o.source:o.source.clone().add(s.clone().multiplyScalar(r*i)),l=r===0?o.target:o.target.clone().subtract(s.clone().multiplyScalar(r*i)),c=(n.width/2+t)*i,u=new be(-s.y,s.x).multiplyScalar(c);let d=De.subtract(a,u),f=De.add(a,u),h=De.subtract(l,u),p=De.add(l,u);const v=o.v.angleDegree();return(v<-90||v>=90)&&([d,f]=[f,d],[h,p]=[p,h]),{source:{above:d,below:f},target:{above:h,below:p}}}function ny(e,n,t,r){let i;t.type==="circle"?i=t.radius+t.strokeWidth/2:i=ll(n,e,t,1);let o;return r.type==="circle"?o=r.radius+r.strokeWidth/2:o=ll(e,n,r,1),[i,o]}function vn(e,n,t){const{x:r,y:i}=e,o=r-n.x,s=i-n.y;return{x:o*Math.cos(t)-s*Math.sin(t)+n.x,y:o*Math.sin(t)+s*Math.cos(t)+n.y}}function Hi(e){return e>0?-(Math.PI*2-e):Math.PI*2+e}function Gi(e,n,t,r){const i=[],o=Le.fromVectors(n,e),s=Le.fromVectors(n,t);let a=ir(o,s);r*a<0&&(a=Hi(a));const l=be.fromObject(vn(e,n,-a/2)),c=Le.fromVectors(n,l),u=mr(c),d=ir(o,c);let f=mr(o);if(Math.abs(d)<Math.PI/2){const p=An(f,u);i.push(p)}else{const p=be.fromObject(vn(l,n,d/2)),v=mr(Le.fromVectors(n,be.fromObject(p))),m=An(f,v),g=An(v,u);i.push(m,p,g)}i.push(l);const h=ir(s,c);if(f=mr(s),Math.abs(h)<Math.PI/2){const p=An(f,u);i.push(p)}else{const p=be.fromObject(vn(l,n,h/2)),v=mr(Le.fromVectors(n,be.fromObject(p))),m=An(u,v),g=An(v,f);i.push(m,p,g)}return i}function ir(e,n){return Math.atan2(e.v.y*n.v.x-e.v.x*n.v.y,e.v.x*n.v.x+e.v.y*n.v.y)}function ry(e,n,t){const r=e.x,i=e.y,o=n.x,s=n.y,a=t.x,l=t.y,c=r-o,u=i-s,d=a-o,f=l-s,h=(f*(c*(r+o)+u*(i+s))-u*(d*(a+o)+f*(l+s)))/(2*c*f-2*u*d),p=(-d*(c*(r+o)+u*(i+s))+c*(d*(a+o)+f*(l+s)))/(2*c*f-2*u*d),v=Math.sqrt(Math.pow(r-h,2)+Math.pow(i-p,2));return[new be(h,p),v]}function Jn(e){return e.type=="circle"?e.radius:Math.min(e.width,e.height)/2}function fi(e,n,t,r,i,o,s){const a=gt({});we(()=>new Set(Object.keys(e.value)),(c,u)=>{u||(u=new Set([]));for(const d of c)u.has(d)||oy(e,a,d,!1,n,i);for(const d of u)c.has(d)||(t.delete(d),r.delete(d),o==null||o(d,a[d]),delete a[d])},{immediate:!0}),we(()=>[...t],(c,u)=>{const d=u?c.filter(h=>!u.includes(h)):c,f=u?u.filter(h=>!c.includes(h)):[];d.forEach(h=>{const p=a[h];p&&!p.selected&&(p.selected=!0)}),f.forEach(h=>{const p=a[h];p&&p.selected&&(p.selected=!1)})},{immediate:!0}),we(()=>[...r],(c,u)=>{const d=c.filter(h=>!u.includes(h)),f=u.filter(h=>!c.includes(h));d.forEach(h=>{const p=a[h];p&&!p.hovered&&(p.hovered=!0)}),f.forEach(h=>{const p=a[h];p&&p.hovered&&(p.hovered=!1)})});const l=Q(()=>{const c=s?s():Object.values(a);return n.zOrder.enabled?iy(c,n.zOrder,r,t):c});return{states:a,zOrderedList:l}}function oy(e,n,t,r,i,o){const s={id:t,selected:r,hovered:!1,selectable:Q(()=>e.value[t]?te.value(i.selectable,e.value[t]):M(s.selectable)),zIndex:Q(()=>e.value[t]?te.value(i.zOrder.zIndex,e.value[t]):M(s.zIndex))};n[t]=s,o(e,t,n[t])}function iy(e,n,t,r){return n.bringToFrontOnHover&&n.bringToFrontOnSelected?e.sort((i,o)=>{const s=t.has(i.id),a=t.has(o.id);if(s!=a)return s?1:-1;const l=r.has(i.id),c=r.has(o.id);return l!=c?l?1:-1:i.zIndex-o.zIndex}):n.bringToFrontOnHover?e.sort((i,o)=>{const s=t.has(i.id),a=t.has(o.id);return s!=a?s?1:-1:i.zIndex-o.zIndex}):n.bringToFrontOnSelected?e.sort((i,o)=>{const s=r.has(i.id),a=r.has(o.id);return s!=a?s?1:-1:i.zIndex-o.zIndex}):e.sort((i,o)=>i.zIndex-o.zIndex)}function sy(e){return typeof btoa===void 0?Buffer.from(e).toString("base64").replaceAll("=",""):btoa(e).replaceAll("=","")}function ay(){return{markers:gt({}),referenceCount:{}}}function ly(e){const{markers:n,referenceCount:t}=e;function r(a,l){var c;const u=(c=t[a])!=null?c:0;t[a]=u+1,u||(n[a]=l)}function i(a){var l;const c=(l=t[a])!=null?l:0;c&&(c-1===0?(delete n[a],delete t[a]):t[a]=c-1)}function o(a){a&&i(a)}function s(a,l,c,u,d){if(a.type==="none"){o(c);return}if(a.type==="custom")return o(c),a.customId;const f=cy(a,l,u),h=uy(f,d);return h===c||(o(c),r(h,f)),h}return{makeMarker:s,clearMarker:o}}function cy(e,n,t){var r;return Ro(qe({},e),{color:(r=e.color)!=null?r:t,isSource:n})}function uy(e,n){const t=sy(e.color),r=e.isSource?"L":"R",i=e.units==="strokeWidth"?"rel":"abs";return`marker_${n}_${e.type}_${e.width}_${e.height}_${e.margin}_${t}_${r}_${i}`}function hi(e,n,t){return{objects:e,selected:n,hovered:t}}const vu=Symbol("states"),dy={type:"none",width:0,height:0,margin:0,units:"strokeWidth",color:null};function fy(e,n,t,r,i,o,s){const a=gt({}),l=fn({});vt(()=>{const w=Object.fromEntries(Object.keys(e.objects.value).map(_=>[_,{}]));Object.entries(n.objects.value).forEach(([_,b])=>{w!=null&&w[b.source]||(w[b.source]={}),w!=null&&w[b.target]||(w[b.target]={}),w[b.source][_]=b.target,w[b.target][_]=b.source}),co(l,w)});const{states:c,zOrderedList:u}=fi(e.objects,r.node,e.selected,e.hovered,(w,_,b)=>{vy(w,_,b,r.node,l,i)},(w,_)=>{const b=i.nodes;delete b[w]}),d=Zg(),f=Vm(e.objects,n.objects,r),h=ae([]),{states:p,zOrderedList:v}=fi(n.objects,r.edge,n.selected,n.hovered,(w,_,b)=>{my(w,_,b,r.edge,o,c,f,i,s,d)},(w,_)=>{var b;(b=_.stopWatchHandle)==null||b.call(_)},()=>h.value);vt(()=>{h.value=yy(f.edgeGroups,p)}),we(f.edgeGroups,w=>wy(a,f,r),{immediate:!0});const{states:m,zOrderedList:g}=fi(t.objects,r.path,t.selected,t.hovered,(w,_,b)=>{const x=b;x.clickable=Q(()=>w.value[_]?te.value(r.path.clickable,w.value[_]):!1),x.hoverable=Q(()=>w.value[_]?te.value(r.path.hoverable,w.value[_]):!1),x.path=w.value[_],x.edges=Q(()=>w.value[_].edges.map(T=>({edgeId:T,edge:n.objects.value[T]})).filter(T=>T.edge))}),y={nodeStates:c,edgeStates:p,edgeGroupStates:f,summarizedEdgeStates:a,pathStates:m,layouts:i,nodeZOrderedList:u,edgeZOrderedList:v,pathZOrderedList:g};return tn(vu,y),y}function hy(e){return e.summarized}function Vt(){return Se(St(vu),"states")}function py(e,n,t,r){return t&&r.hover?te.values(r.hover,e):gu(e,n,r)}function gu(e,n,t){return n&&t.selected?te.values(t.selected,e):te.values(t.normal,e)}function vy(e,n,t,r,i,o){t.shape=Q(()=>e.value[n]?py(e.value[n],t.selected,t.hovered,r):M(t.shape)),t.staticShape=Q(()=>e.value[n]?gu(e.value[n],t.selected,r):M(t.staticShape)),t.label=Q(()=>e.value[n]?te.values(r.label,e.value[n]):M(t.label)),t.labelText=Q(()=>{var s,a;return r.label.text instanceof Function?M(t.label).text:e.value[n]?(a=(s=e.value[n])==null?void 0:s[M(t.label).text])!=null?a:"":M(t.labelText)}),t.draggable=Q(()=>e.value[n]?te.value(r.draggable,e.value[n]):M(t.draggable)),t.oppositeNodeIds=Xt(i,n),t.oppositeNodes=Q(()=>Object.entries(t.oppositeNodeIds).reduce((s,a)=>{const[l,c]=a,u=o.nodes[c];return u&&(s[l]={nodeId:c,pos:qe({},u)}),s},{}))}function gy(e,n,t,r){return n?te.values(r.selected,e):t&&r.hover?te.values(r.hover,e):te.values(r.normal,e)}function cl(e){return e.type==="none"?dy:e}function my(e,n,t,r,i,o,s,a,l,c){const{makeMarker:u,clearMarker:d}=ly(i);Object.assign(t,{origin:{p1:{x:0,y:0},p2:{x:0,y:0}},labelPosition:{p1:{x:0,y:0},p2:{x:0,y:0}},position:{p1:{x:0,y:0},p2:{x:0,y:0}}});const f=Q(()=>{const g=e.value[n],y=gy(g,t.selected,t.hovered,r);isNaN(+y.width)&&(console.warn("[v-network-graph] Edge width is invalid value. id=[%s] value=[%s]",n,y.width),y.width=1),(y.color===void 0||y.color===null)&&(console.warn("[v-network-graph] Edge color is invalid value. id=[%s] value=[%s]",n,y.color),y.color="#000000");let w=te.value(r.normal.width,g);isNaN(+w)&&(w=1);const _=cl(te.values(r.marker.source,[g,y])),b=cl(te.values(r.marker.target,[g,y]));return{stroke:y,normalWidth:w,source:_,target:b}});t.line=f;const h=Xt(s.edgeLayoutPoints,n),p=Xt(s.summarizedEdges,n),v=vt(()=>{var g,y,w,_,b;const x=e.value[n];if(!x)return;const T=a.nodes[x==null?void 0:x.source],E=a.nodes[x==null?void 0:x.target],S=(g=o[x.source])==null?void 0:g.staticShape,P=(y=o[x.target])==null?void 0:y.staticShape;if(!T||!E||!S||!P)return;const C=Zm(h.value,(w=p.value)!=null?w:!1,T,E,l.value,r.keepOrder),[A,N]=ny(T,E,S,P),k=l.value;t.labelPosition=Ui(C,A*k,N*k);let j=0,L=0;const U=f.value;if(U.source.type!=="none"){const Y=U.source;j=Y.margin+Y.width,Y.units==="strokeWidth"&&(j*=U.normalWidth)}if(U.target.type!=="none"){const Y=U.target;L=Y.margin+Y.width,Y.units==="strokeWidth"&&(L*=U.normalWidth)}r.margin&&(j+=r.margin,L+=r.margin);const G=!!r.margin||U.source.type!=="none"||U.target.type!=="none";if(x.source===x.target){t.origin=xo(T,E);const Y=te.values(r.selfLoop,x),[le,ve]=_y(T,S,Y,G,j,L,(b=(_=h.value)==null?void 0:_.pointInGroup)!=null?b:0,k);t.position=le,t.loop=ve,t.curve=void 0;return}else t.loop=void 0;if(G&&(j+=A,L+=N),r.type==="straight")t.origin=C,t.curve=void 0,j===0&&L===0?t.position=t.origin:t.position=Ui(t.origin,j*k,L*k);else{t.origin=xo(T,E);const Y=h.value?h.value.groupWidth/2-h.value.pointInGroup:0,[le,ve]=by(t.origin,C,Y,j*k,L*k);t.position=le,t.curve=ve}}),m=vt(()=>{e.value[n]&&(t.sourceMarkerId=u(f.value.source,!0,t.sourceMarkerId,f.value.stroke.color,c),t.targetMarkerId=u(f.value.target,!1,t.targetMarkerId,f.value.stroke.color,c))});t.stopWatchHandle=()=>{v(),m(),d(t.sourceMarkerId),d(t.targetMarkerId)}}function yy(e,n){return Object.entries(e).map(([t,r])=>{var i;return r.summarize?{id:(i=Object.keys(r.edges)[0])!=null?i:t,summarized:!0,key:t,group:r,zIndex:Object.keys(r.edges).map(o=>{var s,a;return(a=(s=n[o])==null?void 0:s.zIndex)!=null?a:0}).reduce((o,s)=>Math.max(o,s))}:Object.entries(r.edges).map(([o,s])=>{var a,l;return{id:o,summarized:!1,key:o,edge:s,zIndex:(l=(a=n[o])==null?void 0:a.zIndex)!=null?l:0}})}).flat()}function by(e,n,t,r,i){const o=Le.fromLinePosition(e),s=Le.fromLinePosition(n),a=Qm(n),[l,c]=ry(o.source,o.target,a);let u,d;if(t===0)return r===0&&i===0?u=e:u=Ui(e,r,i),[u,d];const f=Le.fromVectors(l,a),h=ir(Le.fromVectors(l,o.source),f);if(r===0&&i===0)u=e;else{let g=r/c,y=i/c;h>0&&(g*=-1,y*=-1),u=xo(vn(o.source,l,g),vn(o.target,l,-y));let w=ir(Le.fromVectors(l,o.source),Le.fromVectors(l,o.target)),_=ir(Le.fromPositions(l,u.p1),Le.fromPositions(l,u.p2));if(h*w<0&&(w=Hi(w),h*_<0&&(_=Hi(_))),w*_<0){const b=a.clone().add(s.v.normalize().multiplyScalar(.5));return u=xo(a,b),[u,d]}}const[p,v]=Jm(u),m=Gi(p,l,v,h).map(g=>g.toObject());return d={center:a,theta:h,circle:{center:l,radius:c},control:m},[u,d]}function _y(e,n,t,r,i,o,s,a){const l=a,c=(t.radius+s/2)*l,u=t.offset*l+c,d=(t.angle-90)*(Math.PI/180),f=be.fromObject({x:e.x+u*Math.cos(d),y:e.y+u*Math.sin(d)}),h=t.isClockwise;let p,v;if(r){const y=Br(f,c,be.fromObject(e),Jn(n)*l);if(y){[p,v]=y;let w=1;if(h||([p,v]=[v,p],w=-1),i!==0||o!==0){const _=i*l/c*w,b=o*l/c*w;p=vn(p,f,_),v=vn(v,f,-b)}}}if(p===void 0||v===void 0){const y=be.fromObject(e).subtract(f).normalize().multiplyScalar(c);let w=1*(Math.PI/180);h||(w*=-1),p=f.clone().add(wo(y,w)),v=f.clone().add(wo(y,-w))}const m=be.fromObject(p).subtract(f).angleDegree(),g=(be.fromObject(v).subtract(f).angleDegree()+360-m)%360>=180;return[{p1:p,p2:v},{center:f,radius:[c,c],isLargeArc:h?g:!g,isClockwise:h}]}function wy(e,n,t){const r=n.edgeGroups;Object.entries(r).filter(([i,o])=>o.summarize&&!(i in e)).forEach(([i,o])=>{const s={stroke:void 0};s.stroke=Q(()=>te.values(t.edge.summarized.stroke,o.edges)),e[i]=s}),Object.keys(e).forEach(i=>{var o;(o=n.edgeGroups[i])!=null&&o.summarize||delete e[i]})}class kr{static valueOf(n){return Array.from(n.values())}}const xy=3,Ey=6,mu=500;function uo(e){return e==="touch"?Ey:xy}function Rs(e,n,t,r){let i=e.get(n);if(i)i.id!==t&&(i=void 0);else{const a=Array.from(e.entries()).find(([l,c])=>c.id===t);if(a){const[l,c]=a;e.delete(l),i=c}}let o,s;return[i,o,s]=yu(i,r,t),e.set(n,i),[o,s]}function yu(e,n,t){const r=Date.now();e&&r-e.lastTime<=mu?(e.count++,e.lastTime=r):e={count:1,lastTime:r,id:t};const i={view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,metaKey:n.metaKey,button:n.button,buttons:n.buttons,detail:e.count};let o,s;return n instanceof PointerEvent?(Object.assign(i,{pointerId:n.pointerId,width:n.width,height:n.height,pressure:n.pressure,tangentialPressure:n.tangentialPressure,tiltX:n.tiltX,tiltY:n.tiltY,twist:n.twist,pointerType:n.pointerType,isPrimary:n.isPrimary}),o=new PointerEvent("click",i),e.count===2&&(s=new PointerEvent("dblclick",i))):(o=new MouseEvent("click",i),e.count===2&&(s=new MouseEvent("dblclick",i))),[e,o,s]}function $s(e){const n=Date.now();Array.from(e.entries()).filter(([t,r])=>n-r.lastTime>mu).map(([t,r])=>e.delete(t))}function Ty(e,n,t,r,i,o,s){const a={pointers:new Map,follow:{followedPointerId:-1,nodeBasePositions:{}},hoveredNodesPre:new Set,clicks:new Map},l={pointermove:h,pointerup:v,pointercancel:p};function c(_){const b=a.follow.followedPointerId===_.pointerId,x=i.has(_.nodeId),T=!(_.pointerId in a.pointers);if(b&&T||b&&!x){const E=kr.valueOf(a.pointers).find(S=>i.has(S.nodeId));if(!E){a.follow={followedPointerId:-1,nodeBasePositions:{}};return}_=E,a.follow.followedPointerId=_.pointerId}else{const E=a.pointers.get(a.follow.followedPointerId);if(!E){a.follow={followedPointerId:-1,nodeBasePositions:{}};return}_=E}if(b||x){const E=kr.valueOf(a.pointers).map(S=>S.nodeId);a.follow.nodeBasePositions=Object.fromEntries(Array.from(i).filter(S=>!E.includes(S)).filter(S=>{var P;return(P=e[S])==null?void 0:P.draggable}).map(S=>[S,pi(n.nodes,S)])),_.dragBasePosition=qe({},_.latestPosition),_.nodeBasePosition=pi(n.nodes,_.nodeId)}}we(i,_=>{const b=a.pointers.get(a.follow.followedPointerId);b&&c(b),_.size>0&&t.selectionMode.value!=="node"?t.selectionMode.value="node":_.size===0&&t.selectionMode.value==="node"&&(t.selectionMode.value="container")}),we(t.selectionMode,_=>{_!=="node"&&i.clear()});function u(_,b){const x=_.dragBasePosition.x-b.pageX,T=_.dragBasePosition.y-b.pageY,E=a.follow.followedPointerId==_.pointerId?qe({[_.nodeId]:_.nodeBasePosition},a.follow.nodeBasePositions):{[_.nodeId]:_.nodeBasePosition},S=o.value;return Object.fromEntries(Object.entries(E).map(([P,C])=>[P,{x:C.x-x/S,y:C.y-T/S}]))}function d(_,b){var x,T;if(b.isTrusted||b.shiftKey&&!["container","node"].includes(t.selectionMode.value))return;t.selectionMode.value="node";const E=(T=(x=e[_])==null?void 0:x.selectable)!=null?T:!1;if(E){const S=kr.valueOf(a.pointers).filter(P=>i.has(P.nodeId)).length>0;b.shiftKey||S?i.has(_)?i.delete(_):typeof E=="number"&&i.size>=E||i.add(_):i.has(_)||(i.clear(),i.add(_))}s.emit("node:click",{node:_,event:b})}function f(_,b){b.isTrusted||s.emit("node:dblclick",{node:_,event:b})}function h(_){var b;_.stopPropagation();const x=a.pointers.get(_.pointerId);if(!x)return;x.latestPosition={x:_.pageX,y:_.pageY},x.moveCounter++;const T=uo(_.pointerType);if(x.moveCounter<=T||!((b=e[x.nodeId])!=null&&b.draggable))return;if(x.moveCounter===T+1){const S=u(x,{pointerId:x.pointerId,pageX:x.dragBasePosition.x,pageY:x.dragBasePosition.y});s.emit("node:dragstart",S)}const E=u(x,_);s.emit("node:pointermove",E)}function p(_){_.stopPropagation();let b=a.pointers.get(_.pointerId);if(b){for(b of a.pointers.values()){const x=b.nodeId,T=uo(_.pointerType);if(b.moveCounter>T){const E=u(b,{pointerId:b.pointerId,pageX:b.latestPosition.x,pageY:b.latestPosition.y});s.emit("node:dragend",E)}s.emit("node:pointerup",{node:x,event:_})}a.pointers.clear(),a.follow={followedPointerId:-1,nodeBasePositions:{}},ct(l).forEach(([x,T])=>{document.removeEventListener(x,T)}),t.viewMode.value="default"}}function v(_){var b,x,T;_.stopPropagation();const E=a.pointers.get(_.pointerId);if(!E)return;a.pointers.delete(_.pointerId);const S=E.nodeId,P=uo(_.pointerType),C=E.moveCounter>P;if(C){if((b=e[E.nodeId])!=null&&b.draggable){const A=u(E,_);s.emit("node:dragend",A),s.emit("node:pointerup",{node:S,event:_})}}else s.emit("node:pointerup",{node:S,event:_});if(!C){const[A,N]=Rs(a.clicks,E.pointerId,S,_);(x=E.eventTarget)==null||x.dispatchEvent(A),N&&((T=E.eventTarget)==null||T.dispatchEvent(N))}a.pointers.size===0?(a.follow={followedPointerId:-1,nodeBasePositions:{}},ct(l).forEach(([A,N])=>{document.removeEventListener(A,N)}),$s(a.clicks),t.viewMode.value="default"):c(E),r.clear(),a.hoveredNodesPre.forEach(r.add,r)}function m(_,b){if(b.button==2||(b.stopPropagation(),!["default","node"].includes(t.viewMode.value)))return;a.pointers.size==0&&(t.viewMode.value="node",ct(l).forEach(([T,E])=>{document.addEventListener(T,E)}));const x={pointerId:b.pointerId,nodeId:_,moveCounter:0,nodeBasePosition:pi(n.nodes,_),dragBasePosition:{x:b.pageX,y:b.pageY},latestPosition:{x:b.pageX,y:b.pageY},eventTarget:b.currentTarget};a.pointers.set(b.pointerId,x),i.has(_)&&(a.follow.followedPointerId<0?(a.follow.followedPointerId=b.pointerId,c(x)):delete a.follow.nodeBasePositions[x.nodeId]),s.emit("node:pointerdown",{node:_,event:b})}function g(_,b){a.hoveredNodesPre.add(_),!(a.pointers.size>0)&&(r.add(_),s.emit("node:pointerover",{node:_,event:b}))}function y(_,b){a.hoveredNodesPre.delete(_),!(a.pointers.size>0)&&(r.delete(_),s.emit("node:pointerout",{node:_,event:b}))}function w(_,b){b.stopPropagation(),s.emit("node:contextmenu",{node:_,event:b})}return{handleNodePointerDownEvent:m,handleNodePointerOverEvent:g,handleNodePointerOutEvent:y,handleNodeClickEvent:d,handleNodeDoubleClickEvent:f,handleNodeContextMenu:w}}function pi(e,n){var t;const r=(t=e[n])!=null?t:{x:0,y:0};return qe({},r)}function Oy(e,n,t,r,i){const o={pointers:new Map,pointerPeekCount:0,clicks:new Map},s={pointerup:l,pointercancel:c};we(r,b=>{b.size>0&&n.selectionMode.value!=="edge"?n.selectionMode.value="edge":b.size===0&&n.selectionMode.value==="edge"&&(n.selectionMode.value="container")}),we(n.selectionMode,b=>{b!=="edge"&&r.clear()});function a(b,x){if(x.button==2||(x.stopPropagation(),!["default","edge"].includes(n.viewMode.value)))return;o.pointers.size==0&&(n.viewMode.value="edge",ct(s).forEach(([E,S])=>{document.addEventListener(E,S)}),o.pointerPeekCount=0),o.pointerPeekCount++;const T={pointerId:x.pointerId,id:b,eventTarget:x.currentTarget};o.pointers.set(x.pointerId,T),i.emit("edge:pointerdown",Et(b,x))}function l(b){var x,T;b.stopPropagation();const E=o.pointers.get(b.pointerId);if(!E)return;o.pointers.delete(b.pointerId);const S=E.id;i.emit("edge:pointerup",Et(S,b));const[P,C]=Rs(o.clicks,E.pointerId,S instanceof Array?S.join(","):S,b);(x=E.eventTarget)==null||x.dispatchEvent(P),C&&((T=E.eventTarget)==null||T.dispatchEvent(C)),o.pointers.size===0&&(o.pointerPeekCount=0,ct(s).forEach(([A,N])=>{document.removeEventListener(A,N)}),$s(o.clicks),n.viewMode.value="default")}function c(b){if(b.stopPropagation(),!!o.pointers.get(b.pointerId)){for(const x of o.pointers.values()){const T=x.id;i.emit("edge:pointerup",Et(T,b))}o.pointers.clear(),o.pointerPeekCount=0,ct(s).forEach(([x,T])=>{document.removeEventListener(x,T)}),i.emit("view:mode","default")}}function u(b,x){var T;if(x.isTrusted||x.shiftKey&&!["container","edge"].includes(n.selectionMode.value))return;n.selectionMode.value="edge";const E=b instanceof Array?b:[b],S=kr.valueOf(o.pointers).filter(P=>(P.id instanceof Array?P.id:[P.id]).every(C=>r.has(C))).length>0;if(b instanceof Array)E.find(P=>{var C;return(C=e[P])==null?void 0:C.selectable})&&(x.shiftKey||S?E.some(P=>r.has(P))?E.forEach(P=>r.delete(P)):E.forEach(P=>{var C;const A=(C=e[P])==null?void 0:C.selectable;typeof A=="number"&&r.size>=A||r.add(P)}):(r.clear(),E.forEach(P=>r.add(P))));else{const P=(T=e[b])==null?void 0:T.selectable;P&&(x.shiftKey||S?r.has(b)?r.delete(b):typeof P=="number"&&r.size>=P||r.add(b):r.has(b)||(r.clear(),r.add(b)))}i.emit("edge:click",Et(b,x))}function d(b,x){x.isTrusted||i.emit("edge:dblclick",Et(b,x))}function f(b,x){t.add(b),i.emit("edge:pointerover",Et(b,x))}function h(b,x){t.delete(b),i.emit("edge:pointerout",Et(b,x))}function p(b,x){x.stopPropagation(),i.emit("edge:contextmenu",Et(b,x))}function v(b,x){if(x.button==2||(x.stopPropagation(),!["default","edge"].includes(n.viewMode.value)))return;o.pointers.size==0&&(n.viewMode.value="edge",ct(s).forEach(([E,S])=>{document.addEventListener(E,S)}),o.pointerPeekCount=0),o.pointerPeekCount++;const T={pointerId:x.pointerId,id:b,eventTarget:x.currentTarget};o.pointers.set(x.pointerId,T),i.emit("edge:pointerdown",Et(b,x))}function m(b,x){b.forEach(T=>t.add(T)),i.emit("edge:pointerover",Et(b,x))}function g(b,x){b.forEach(T=>t.delete(T)),i.emit("edge:pointerout",Et(b,x))}function y(b,x){u(b,x)}function w(b,x){d(b,x)}function _(b,x){x.stopPropagation(),i.emit("edge:contextmenu",Et(b,x))}return{handleEdgePointerDownEvent:a,handleEdgePointerOverEvent:f,handleEdgePointerOutEvent:h,handleEdgeClickEvent:u,handleEdgeDoubleClickEvent:d,handleEdgeContextMenu:p,handleEdgesPointerDownEvent:v,handleEdgesPointerOverEvent:m,handleEdgesPointerOutEvent:g,handleEdgesClickEvent:y,handleEdgesDoubleClickEvent:w,handleEdgesContextMenu:_}}function Et(e,n){return e instanceof Array?{edges:e,event:n,summarized:!0}:{edge:e,edges:[e],event:n,summarized:!1}}function ky(e,n,t,r){const i={moveCounter:0,pointerCounter:0,clickState:void 0},o={pointermove:a,pointerup:l,pointercancel:l};function s(h){i.moveCounter=0,i.pointerCounter===0&&ct(o).forEach(([p,v])=>{document.addEventListener(p,v,{passive:!0})}),i.pointerCounter++}function a(h){i.moveCounter++}function l(h){if(i.pointerCounter--,i.pointerCounter<=0){i.pointerCounter=0,ct(o).forEach(([v,m])=>{document.removeEventListener(v,m)});const p=uo(h.pointerType);if(i.moveCounter<=p){if(h.shiftKey&&n.selectionMode.value!=="container")return;n.selectionMode.value="container";const[v,m,g]=yu(i.clickState,h,"view");i.clickState=v,e.value.dispatchEvent(m),g&&e.value.dispatchEvent(g)}}}function c(h){h.isTrusted||(h.stopPropagation(),r.emit("view:click",{event:h}))}function u(h){h.isTrusted||(h.stopPropagation(),r.emit("view:dblclick",{event:h}))}function d(h){r.emit("view:contextmenu",{event:h}),i.pointerCounter>0&&(i.pointerCounter=0,ct(o).forEach(([p,v])=>{var m;(m=e.value)==null||m.removeEventListener(p,v)}))}const f=h=>{h.preventDefault()};wn(()=>{const h=e.value;h&&(h.addEventListener("pointerdown",s,{passive:!0}),h.addEventListener("click",c,{passive:!1}),h.addEventListener("dblclick",u,{passive:!1}),h.addEventListener("contextmenu",d,{passive:!1}),t.value&&h.addEventListener("wheel",f,{passive:!1}))}),Vn(()=>{const h=e.value;h&&(h.removeEventListener("pointerdown",s),h.removeEventListener("click",c),h.removeEventListener("dblclick",u),h.removeEventListener("contextmenu",d),t.value&&h.removeEventListener("wheel",f))}),we(t,(h,p)=>{const v=e.value;!v||h===p||(h?v.addEventListener("wheel",f,{passive:!1}):v.removeEventListener("wheel",f))})}function Sy(e,n,t,r,i,o){const s={pointers:new Map,pointerPeekCount:0,clicks:new Map};function a(g,y){var w,_;return i.value?{path:(_=(w=e[g])==null?void 0:w.path)!=null?_:g,event:y}:{path:g,event:y}}const l={pointerup:u,pointercancel:d};we(r,g=>{g.size>0&&n.selectionMode.value!=="path"?n.selectionMode.value="path":g.size===0&&n.selectionMode.value==="path"&&(n.selectionMode.value="container")}),we(n.selectionMode,g=>{g!=="path"&&r.clear()});function c(g,y){var w;if(!((w=e[g])!=null&&w.clickable)||y.button==2||(y.stopPropagation(),!["default","path"].includes(n.viewMode.value)))return;s.pointers.size==0&&(n.viewMode.value="path",ct(l).forEach(([b,x])=>{document.addEventListener(b,x)}),s.pointerPeekCount=0),s.pointerPeekCount++;const _={pointerId:y.pointerId,id:g,eventTarget:y.currentTarget};s.pointers.set(y.pointerId,_),o.emit("path:pointerdown",a(g,y))}function u(g){var y,w;const _=s.pointers.get(g.pointerId);if(!_)return;g.stopPropagation(),s.pointers.delete(g.pointerId);const b=_.id;o.emit("path:pointerup",a(b,g));const[x,T]=Rs(s.clicks,_.pointerId,b,g);(y=_.eventTarget)==null||y.dispatchEvent(x),T&&((w=_.eventTarget)==null||w.dispatchEvent(T)),s.pointers.size===0&&(s.pointerPeekCount=0,ct(l).forEach(([E,S])=>{document.removeEventListener(E,S)}),$s(s.clicks),n.viewMode.value="default")}function d(g){if(s.pointers.get(g.pointerId)){g.stopPropagation();for(const y of s.pointers.values()){const w=y.id;o.emit("path:pointerup",a(w,g))}s.pointers.clear(),s.pointerPeekCount=0,ct(l).forEach(([y,w])=>{document.removeEventListener(y,w)}),o.emit("view:mode","default")}}function f(g,y){var w;(w=e[g])!=null&&w.hoverable&&(t.add(g),o.emit("path:pointerover",a(g,y)))}function h(g,y){var w;(w=e[g])!=null&&w.hoverable&&(t.delete(g),o.emit("path:pointerout",a(g,y)))}function p(g,y){var w,_,b;if(y.isTrusted||!((w=e[g])!=null&&w.clickable)||y.shiftKey&&!["container","path"].includes(n.selectionMode.value))return;n.selectionMode.value="path";const x=(b=(_=e[g])==null?void 0:_.selectable)!=null?b:!1;if(x){const T=kr.valueOf(s.pointers).filter(E=>r.has(E.id)).length>0;y.shiftKey||T?r.has(g)?r.delete(g):typeof x=="number"&&r.size>=x||r.add(g):r.has(g)||(r.clear(),r.add(g))}o.emit("path:click",a(g,y))}function v(g,y){var w;y.isTrusted||(w=e[g])!=null&&w.clickable&&o.emit("path:dblclick",a(g,y))}function m(g,y){var w;(w=e[g])!=null&&w.clickable&&(y.stopPropagation(),o.emit("path:contextmenu",a(g,y)))}return{handlePathPointerDownEvent:c,handlePathPointerOverEvent:f,handlePathPointerOutEvent:h,handlePathClickEvent:p,handlePathDoubleClickEvent:v,handlePathContextMenu:m}}function Py(){}function Ay(e,n,t,r){for(var i=e.length,o=t+(r?1:-1);r?o--:++o<i;)if(n(e[o],o,e))return o;return-1}function Cy(e){return e!==e}function Iy(e,n,t){for(var r=t-1,i=e.length;++r<i;)if(e[r]===n)return r;return-1}function jy(e,n,t){return n===n?Iy(e,n,t):Ay(e,Cy,t)}function My(e,n){var t=e==null?0:e.length;return!!t&&jy(e,n,0)>-1}function Ly(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+n];return o}var Ny=Math.ceil,Ry=Math.max;function Ds(e,n,t){(t?Jc(e,n,t):n===void 0)?n=1:n=Ry(eu(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,o=0,s=Array(Ny(r/n));i<r;)s[o++]=Ly(e,i,i+=n);return s}var $y=function(){return At.Date.now()};const vi=$y;var Dy="Expected a function",Fy=Math.max,zy=Math.min;function By(e,n,t){var r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(Dy);n=_o(n)||0,Gt(t)&&(u=!!t.leading,d="maxWait"in t,o=d?Fy(_o(t.maxWait)||0,n):o,f="trailing"in t?!!t.trailing:f);function h(x){var T=r,E=i;return r=i=void 0,c=x,s=e.apply(E,T),s}function p(x){return c=x,a=setTimeout(g,n),u?h(x):s}function v(x){var T=x-l,E=x-c,S=n-T;return d?zy(S,o-E):S}function m(x){var T=x-l,E=x-c;return l===void 0||T>=n||T<0||d&&E>=o}function g(){var x=vi();if(m(x))return y(x);a=setTimeout(g,v(x))}function y(x){return a=void 0,f&&r?h(x):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function _(){return a===void 0?s:y(vi())}function b(){var x=vi(),T=m(x);if(r=arguments,i=this,l=x,T){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(g,n),h(l)}return a===void 0&&(a=setTimeout(g,n)),s}return b.cancel=w,b.flush=_,b}function Uy(e,n,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(n,e[r]))return!0;return!1}var Hy=1/0,Gy=rr&&1/Ss(new rr([,-0]))[1]==Hy?function(e){return new rr(e)}:Py;const Vy=Gy;var Zy=200;function Ky(e,n,t){var r=-1,i=My,o=e.length,s=!0,a=[],l=a;if(t)s=!1,i=Uy;else if(o>=Zy){var c=n?null:Vy(e);if(c)return Ss(c);s=!1,i=ou,l=new zr}else l=n?[]:a;e:for(;++r<o;){var u=e[r],d=n?n(u):u;if(u=t||u!==0?u:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;n&&l.push(d),a.push(u)}else i(l,d,t)||(l!==a&&l.push(d),a.push(u))}return a}function Wy(e){return e&&e.length?Ky(e):[]}function Yy(e){return lr(this,null,function*(){const n=yield(yield fetch(e)).blob();return new Promise((t,r)=>{try{const i=new FileReader;i.onload=function(){t(this.result)},i.readAsDataURL(n)}catch(i){r(i)}})})}function Vi(e,n,t){var r;const i=e.createSVGPoint();i.x=t.x,i.y=t.y;const o=i.matrixTransform((r=n.getCTM())==null?void 0:r.inverse());return{x:o.x,y:o.y}}function Xy(e,n,t){const r=e.createSVGPoint();r.x=t.x,r.y=t.y;const i=r.matrixTransform(n.getCTM());return{x:i.x,y:i.y}}function bu(e,n,t){var r;const i=e.cloneNode(!0),o=n.getBBox(),s=1/t,a={x:Math.floor((o.x-10)*s),y:Math.floor((o.y-10)*s),width:Math.ceil((o.width+20)*s),height:Math.ceil((o.height+20)*s)};i.setAttribute("width",a.width.toString()),i.setAttribute("height",a.height.toString());const l=i.querySelector(".v-ng-viewport");l.setAttribute("transform",`translate(${-a.x} ${-a.y}), scale(${s})`),l.removeAttribute("style"),i.setAttribute("viewBox",`0 0 ${a.width} ${a.height}`),i.removeAttribute("style");const c=document.createNodeIterator(i,NodeFilter.SHOW_COMMENT);for(;c.nextNode();){const u=c.referenceNode;(r=u.parentNode)==null||r.removeChild(u)}return i}function Jy(e){return lr(this,null,function*(){let n=!1,t=e.getAttribute("href");if(t||(n=!0,t=e.getAttribute("xlink:href")),!(!t||t.startsWith("data:")))try{const r=yield Yy(t);e.setAttribute(n?"xlink:href":"href",r)}catch{console.warn("Image download failed.",t);return}})}function Qy(e,n,t){return lr(this,arguments,function*(r,i,o,s={}){const a=bu(r,i,o);if(s.embedImages){const l=Array.from(a.querySelectorAll("image")).map(c=>Jy(c));yield Promise.all(l)}return a})}function qy(e,n,t,r,i,o){const s=Q(()=>!!o.node.selectable&&o.view.boxSelectionEnabled),a=Q(()=>n.viewMode.value==="box-selection"),l=ae(),c=ae(),u={pointers:new Set,points:new Map,startPoint:null,selectedNodesAtSelectStarted:new Set,selectionType:"append",options:{stopTrigger:"pointerup",selectionType:"append",selectionTypeWithShiftKey:"same"}},d=By(()=>{eb(Se(e.value,"container"),Se(l.value,"viewport"),c,t.nodes,r,i,u.selectedNodesAtSelectStarted,u.selectionType)},50,{maxWait:100}),f=new tb(e,p,v,m,h,g);function h(x){if(u.options.stopTrigger!=="click"||u.pointers.size>0)return;const T={x:x.offsetX,y:x.offsetY};u.startPoint&&be.fromObject(u.startPoint).distance(T)>10||b()}function p(x){x.stopPropagation();const T={x:x.offsetX,y:x.offsetY};u.pointers.size===0&&(u.startPoint=T,f.activate(),u.selectedNodesAtSelectStarted.clear(),i.forEach(E=>u.selectedNodesAtSelectStarted.add(E)),u.options.selectionTypeWithShiftKey==="same"?u.selectionType=u.options.selectionType:u.selectionType=x.shiftKey?u.options.selectionTypeWithShiftKey:u.options.selectionType),u.pointers.has(x.pointerId)||u.pointers.add(x.pointerId),u.points.set(x.pointerId,T),y()}function v(x){if(u.pointers.delete(x.pointerId),u.pointers.size===1){const T=Se(e.value).getBoundingClientRect(),E={x:x.x-T.x,y:x.y-T.y};u.startPoint=E}else u.pointers.size===0&&(f.deactivate(),u.options.stopTrigger==="pointerup"&&b(),u.selectedNodesAtSelectStarted.clear());y()}function m(x){const T=Se(e.value).getBoundingClientRect(),E={x:x.x-T.x,y:x.y-T.y};u.points.set(x.pointerId,E),y(),d()}function g(x){x.key==="Escape"&&u.options.stopTrigger!=="manual"&&(x.stopPropagation(),b())}function y(){let x,T;const E=Array.from(u.pointers);if(E.length>=2){const S=E[0],P=E[E.length-1];x=u.points.get(S),T=u.points.get(P)}else if(u.startPoint&&E.length===1){const S=E[0];x=u.startPoint,T=u.points.get(S)}else x=void 0,T=void 0;x&&T?(c.value={pos:{x:Math.min(x.x,T.x),y:Math.min(x.y,T.y)},size:{width:Math.abs(T.x-x.x),height:Math.abs(T.y-x.y)}},c.value.size.width===0&&(c.value.size.width=1),c.value.size.height===0&&(c.value.size.height=1)):c.value&&(c.value=void 0)}const w=new nb(e,x=>{s.value&&o.view.selection.detector(x)&&(_({stop:"manual",type:"append",withShiftKey:"invert"}),w.activate())},x=>{s.value&&o.view.selection.detector(x)&&(u.pointers.size===0?b():u.options.stopTrigger="pointerup",w.deactivate())});we(s,x=>{x?w.register():w.unregister()}),wn(()=>{var x;l.value=(x=e.value)==null?void 0:x.querySelector(".v-ng-viewport"),s.value&&w.register()}),Vn(()=>{b(),s.value&&w.unregister()});function _(x={}){var T,E,S;u.options={stopTrigger:(T=x.stop)!=null?T:"pointerup",selectionType:(E=x.type)!=null?E:"append",selectionTypeWithShiftKey:(S=x.withShiftKey)!=null?S:"same"},n.viewMode.value!=="box-selection"&&(n.viewMode.value="box-selection",u.pointers.clear(),f.register())}function b(){n.viewMode.value==="box-selection"&&(n.viewMode.value="default",f.unregister())}return{isBoxSelectionMode:a,selectionBox:c,startBoxSelection:_,stopBoxSelection:b}}function eb(e,n,t,r,i,o,s,a){if(!t.value)return;const l=t.value,c=Vi(e,n,l.pos),u=Vi(e,n,{x:l.pos.x+l.size.width,y:l.pos.y+l.size.height}),d=new Set(Object.entries(r).filter(([f,h])=>c.x<=h.x&&h.x<=u.x&&c.y<=h.y&&h.y<=u.y).map(([f,h])=>f));if(a==="append")o.forEach(f=>{d.has(f)||o.delete(f)}),d.forEach(f=>{var h,p;const v=(p=(h=i[f])==null?void 0:h.selectable)!=null?p:!1;(v===!0||typeof v=="number"&&o.size<v)&&o.add(f)});else{const f=new Set(s);f.forEach(h=>{d.has(h)&&f.delete(h)}),d.forEach(h=>{var p,v;if(!s.has(h)){const m=(v=(p=i[h])==null?void 0:p.selectable)!=null?v:!1;(m===!0||typeof m=="number"&&f.size<m)&&f.add(h)}}),o.clear(),f.forEach(h=>o.add(h))}}class tb{constructor(n,t,r,i,o,s){this._container=n,this._handlePointerDownEvent=t,this._handlePointerUpEvent=r,this._handlePointerMoveEvent=i,this._handleClickEvent=o,this._handleKeyDownEvent=s,this._ignoreEvent=a=>a.stopPropagation()}register(){const n={capture:!0,passive:!1},t=Se(this._container.value,"container");t.addEventListener("pointerdown",this._handlePointerDownEvent,n),t.addEventListener("click",this._handleClickEvent,n),t.addEventListener("pointerenter",this._ignoreEvent,n),t.addEventListener("pointerleave",this._ignoreEvent,n),document.addEventListener("keydown",this._handleKeyDownEvent,n)}activate(){const n={capture:!0,passive:!1};document.addEventListener("pointermove",this._handlePointerMoveEvent,n),document.addEventListener("pointerup",this._handlePointerUpEvent,n)}deactivate(){const n={capture:!0};document.removeEventListener("pointermove",this._handlePointerMoveEvent,n),document.removeEventListener("pointerup",this._handlePointerUpEvent,n)}unregister(){this.deactivate();const n={capture:!0};if(this._container.value){const t=this._container.value;t.removeEventListener("pointerdown",this._handlePointerDownEvent,n),t.removeEventListener("click",this._handleClickEvent,n),t.removeEventListener("pointerenter",this._ignoreEvent,n),t.removeEventListener("pointerleave",this._ignoreEvent,n),document.removeEventListener("keydown",this._handleKeyDownEvent,n)}}}class nb{constructor(n,t,r){this._container=n,this._handleKeyDownEvent=t,this._handleKeyUpEvent=r,this._preventDefault=i=>{i.stopPropagation(),i.preventDefault()}}register(){document.addEventListener("keydown",this._handleKeyDownEvent,{capture:!0,passive:!0})}activate(){document.addEventListener("keyup",this._handleKeyUpEvent,{capture:!0,passive:!0}),Se(this._container.value,"container").addEventListener("contextmenu",this._preventDefault,{passive:!1})}deactivate(){document.removeEventListener("keyup",this._handleKeyUpEvent,{capture:!0}),this._container.value&&this._container.value.removeEventListener("contextmenu",this._preventDefault)}unregister(){this.deactivate(),document.removeEventListener("keydown",this._handleKeyDownEvent,{capture:!0})}}const _u=Symbol("mouseEventHandlers");function rb(e,n,t,r,i,o,s,a,l,c,u,d,f,h,p,v){const m={selectionMode:ae("container"),viewMode:ae("default")};s.size>0?m.selectionMode.value="node":a.size>0?m.selectionMode.value="edge":l.size>0&&(m.selectionMode.value="path"),we(m.viewMode,y=>{v.emit("view:mode",y)}),ky(e,m,h,v);const g=qe(qe(qe(qe({selectedNodes:s,hoveredNodes:c,selectedEdges:a,hoveredEdges:u,selectedPaths:l,hoveredPaths:d},Ty(r,n,m,c,s,t,v)),Oy(i,m,u,a,v)),Sy(o,m,d,l,f,v)),qy(e,m,n,r,s,p));return tn(_u,g),g}function Zr(){return Se(St(_u),"mouseEventHandlers")}function ob(e){return{all:e=e||new Map,on:function(n,t){var r=e.get(n);r?r.push(t):e.set(n,[t])},off:function(n,t){var r=e.get(n);r&&(t?r.splice(r.indexOf(t)>>>0,1):e.set(n,[]))},emit:function(n,t){var r=e.get(n);r&&r.slice().map(function(i){i(t)}),(r=e.get("*"))&&r.slice().map(function(i){i(n,t)})}}}const wu=Symbol("emitter");function ib(){const e=ob();return tn(wu,e),e}function sb(){return Se(St(wu),"event emitter")}var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Go={getGlobalThis:function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Eo<"u")return Eo;if(typeof this<"u")return this;throw new Error("Unable to locate global `this`")},extend:function(e,n){e=e||{};for(var t in n)this.isObject(n[t])?e[t]=this.extend(e[t],n[t]):e[t]=n[t];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isObject:function(e){return Object.prototype.toString.call(e)==="[object Object]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var n,t;if(this.isElement(e))n=e;else if(typeof e=="string"||e instanceof String){if(n=document.querySelector(e),!n)throw new Error("Provided selector did not find any elements. Selector: "+e)}else throw new Error("Provided selector is not an HTML object nor String");if(n.tagName.toLowerCase()==="svg")t=n;else if(n.tagName.toLowerCase()==="object")t=n.contentDocument.documentElement;else if(n.tagName.toLowerCase()==="embed")t=n.getSVGDocument().documentElement;else throw n.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return t},proxy:function(e,n){return function(){return e.apply(n,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,n){if(e.clientX===void 0||e.clientX===null)if(e.clientX=0,e.clientY=0,e.touches!==void 0&&e.touches.length){if(e.touches[0].clientX!==void 0)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(e.touches[0].pageX!==void 0){var t=n.getBoundingClientRect();e.clientX=e.touches[0].pageX-t.left,e.clientY=e.touches[0].pageY-t.top}}else e.originalEvent!==void 0&&e.originalEvent.clientX!==void 0&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},touchNormalize:function(e,n,t){if(e.touches!==void 0&&e.touches.length){if(e.touches[t].clientX!==void 0)e.clientX=e.touches[t].clientX,e.clientY=e.touches[t].clientY;else if(e.touches[t].pageX!==void 0){var r=n.getBoundingClientRect();e.clientX=e.touches[t].pageX-r.left,e.clientY=e.touches[t].pageY-r.top}}else(e.clientX===void 0||e.clientX===null)&&(e.clientX=0,e.clientY=0,e.originalEvent!==void 0&&e.originalEvent.clientX!==void 0&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY))},isDblClick:function(e,n){if(e.detail===2)return!0;if(n!=null){var t=e.timeStamp-n.timeStamp,r=Math.sqrt(Math.pow(e.clientX-n.clientX,2)+Math.pow(e.clientY-n.clientY,2));return t<250&&r<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(e,n,t){var r=this,i,o,s,a=null,l=0;t||(t={});var c=function(){l=t.leading===!1?0:r.now(),a=null,s=e.apply(i,o),a||(i=o=null)};return function(){var u=r.now();!l&&t.leading===!1&&(l=u);var d=n-(u-l);return i=this,o=arguments,d<=0||d>n?(clearTimeout(a),a=null,l=u,s=e.apply(i,o),a||(i=o=null)):!a&&t.trailing!==!1&&(a=setTimeout(c,d)),s}},createRequestAnimationFrame:function(e){var n=null;return e!=="auto"&&e<60&&e>1&&(n=Math.floor(1e3/e)),n===null?window.requestAnimationFrame||ul(33):ul(n)},calculateDistance:function(e,n){var t=e.x-n.x,r=e.y-n.y;return Math.sqrt(t*t+r*r)}};function ul(e){return function(n){window.setTimeout(n,e)}}var ab=Go,lb=function(){var e="",n,t,r,i=[],o={passive:!0},s={passive:!1};ab.getGlobalThis().addEventListener?(n="addEventListener",t="removeEventListener"):(n="attachEvent",t="detachEvent",e="on");function a(){return r||(r="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll"),r}function l(v,m){var g=function(y){!y&&(y=window.event);var w={originalEvent:y,target:y.target||y.srcElement,type:"wheel",deltaMode:y.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){y.preventDefault?y.preventDefault():y.returnValue=!1}};return a()=="mousewheel"?(w.deltaY=-.025*y.wheelDelta,y.wheelDeltaX&&(w.deltaX=-.025*y.wheelDeltaX)):w.deltaY=y.detail,m(w)};return i.push({element:v,fn:g}),g}function c(v){for(var m=0;m<i.length;m++)if(i[m].element===v)return i[m].fn;return function(){}}function u(v){for(var m=0;m<i.length;m++)if(i[m].element===v)return i.splice(m,1)}function d(v,m,g,y){var w;a()==="wheel"?w=g:w=l(v,g),v[n](e+m,w,y?o:s)}function f(v,m,g,y){var w;a()==="wheel"?w=g:w=c(v),v[t](e+m,w,y?o:s),u(v)}function h(v,m,g){d(v,a(),m,g),a()=="DOMMouseScroll"&&d(v,"MozMousePixelScroll",m,g)}function p(v,m,g){f(v,a(),m,g),a()=="DOMMouseScroll"&&f(v,"MozMousePixelScroll",m,g)}return{on:h,off:p}}(),to=Go,xu="unknown";typeof document<"u"&&document.documentMode&&(xu="ie");var Fs={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,n){var t=null;if(to.isElement(n)?t=n:t=e.querySelector(n),!t){var r=Array.prototype.slice.call(e.childNodes||e.children).filter(function(l){return l.nodeName!=="defs"&&l.nodeName!=="#text"});r.length===1&&r[0].nodeName==="g"&&r[0].getAttribute("transform")===null&&(t=r[0])}if(!t){var i="viewport-"+new Date().toISOString().replace(/\D/g,"");t=document.createElementNS(this.svgNS,"g"),t.setAttribute("id",i);var o=e.childNodes||e.children;if(o&&o.length>0)for(var s=o.length;s>0;s--)o[o.length-s].nodeName!=="defs"&&t.appendChild(o[o.length-s]);e.appendChild(t)}var a=[];return t.getAttribute("class")&&(a=t.getAttribute("class").split(" ")),~a.indexOf("svg-pan-zoom_viewport")||(a.push("svg-pan-zoom_viewport"),t.setAttribute("class",a.join(" "))),t},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),e.parentNode!==null){var n=e.getAttribute("style")||"";n.toLowerCase().indexOf("overflow")===-1&&e.setAttribute("style","overflow: hidden; "+n)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:to.throttle(function(){for(var e=document.querySelectorAll("defs"),n=e.length,t=0;t<n;t++){var r=e[t];r.parentNode.insertBefore(r,r)}},Eo?Eo.internetExplorerRedisplayInterval:null),setCTM:function(e,n,t){var r=this,i="matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")";e.setAttributeNS(null,"transform",i),"transform"in e.style?e.style.transform=i:"-ms-transform"in e.style?e.style["-ms-transform"]=i:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=i),xu==="ie"&&t&&(t.parentNode.insertBefore(t,t),window.setTimeout(function(){r.refreshDefsGlobal()},r.internetExplorerRedisplayInterval))},getEventPoint:function(e,n){var t=n.createSVGPoint();return to.mouseAndTouchNormalize(e,n),t.x=e.clientX,t.y=e.clientY,t},getTouchPoint:function(e,n,t){var r=n.createSVGPoint();return to.touchNormalize(e,n,t),r.x=e.clientX,r.y=e.clientY,r},getSvgCenterPoint:function(e,n,t){return this.createSVGPoint(e,n/2,t/2)},createSVGPoint:function(e,n,t){var r=e.createSVGPoint();return r.x=n,r.y=t,r}},dt=Fs,cb={enable:function(e){var n=e.svg.querySelector("defs");n||(n=document.createElementNS(dt.svgNS,"defs"),e.svg.appendChild(n));var t=n.querySelector("style#svg-pan-zoom-controls-styles");if(!t){var r=document.createElementNS(dt.svgNS,"style");r.setAttribute("id","svg-pan-zoom-controls-styles"),r.setAttribute("type","text/css"),r.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",n.appendChild(r)}var i=document.createElementNS(dt.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls"),i.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),i.setAttribute("class","svg-pan-zoom-control"),i.appendChild(this._createZoomIn(e)),i.appendChild(this._createZoomReset(e)),i.appendChild(this._createZoomOut(e)),e.svg.appendChild(i),e.controlIcons=i},_createZoomIn:function(e){var n=document.createElementNS(dt.svgNS,"g");n.setAttribute("id","svg-pan-zoom-zoom-in"),n.setAttribute("transform","translate(30.5 5) scale(0.015)"),n.setAttribute("class","svg-pan-zoom-control"),n.addEventListener("click",function(){e.getPublicInstance().zoomIn()},!1),n.addEventListener("touchstart",function(){e.getPublicInstance().zoomIn()},!1);var t=document.createElementNS(dt.svgNS,"rect");t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","1500"),t.setAttribute("height","1400"),t.setAttribute("class","svg-pan-zoom-control-background"),n.appendChild(t);var r=document.createElementNS(dt.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(r),n},_createZoomReset:function(e){var n=document.createElementNS(dt.svgNS,"g");n.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),n.setAttribute("transform","translate(5 35) scale(0.4)"),n.setAttribute("class","svg-pan-zoom-control"),n.addEventListener("click",function(){e.getPublicInstance().reset()},!1),n.addEventListener("touchstart",function(){e.getPublicInstance().reset()},!1);var t=document.createElementNS(dt.svgNS,"rect");t.setAttribute("x","2"),t.setAttribute("y","2"),t.setAttribute("width","182"),t.setAttribute("height","58"),t.setAttribute("class","svg-pan-zoom-control-background"),n.appendChild(t);var r=document.createElementNS(dt.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(r);var i=document.createElementNS(dt.svgNS,"path");return i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),i.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(i),n},_createZoomOut:function(e){var n=document.createElementNS(dt.svgNS,"g");n.setAttribute("id","svg-pan-zoom-zoom-out"),n.setAttribute("transform","translate(30.5 70) scale(0.015)"),n.setAttribute("class","svg-pan-zoom-control"),n.addEventListener("click",function(){e.getPublicInstance().zoomOut()},!1),n.addEventListener("touchstart",function(){e.getPublicInstance().zoomOut()},!1);var t=document.createElementNS(dt.svgNS,"rect");t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","1500"),t.setAttribute("height","1400"),t.setAttribute("class","svg-pan-zoom-control-background"),n.appendChild(t);var r=document.createElementNS(dt.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(r),n},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}},ub=Fs,gn=Go,Ue=function(e,n){this.init(e,n)};Ue.prototype.init=function(e,n){this.viewport=e,this.options=n,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=gn.proxy(this.updateCTM,this),this.requestAnimationFrame=gn.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var t=this.processCTM();this.setCTM(t),this.updateCTM()};Ue.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var n=e.split(/[\s\,]/).filter(function(r){return r}).map(parseFloat);this.viewBox.x=n[0],this.viewBox.y=n[1],this.viewBox.width=n[2],this.viewBox.height=n[3];var t=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=isFinite(t)?t:1,this.activeState.x=(this.options.width-this.viewBox.width*t)/2,this.activeState.y=(this.options.height-this.viewBox.height*t)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};Ue.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height};Ue.prototype.getViewBox=function(){return gn.extend({},this.viewBox)};Ue.prototype.processCTM=function(){var e=this.getCTM();if(this.options.fit||this.options.contain){var n;this.options.fit?n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):n=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),n=isFinite(n)?n:1,e.a=n,e.d=n,e.e=-this.viewBox.x*n,e.f=-this.viewBox.y*n}if(this.options.center){var t=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*e.a)*.5,r=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*e.a)*.5;e.e=t,e.f=r}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e};Ue.prototype.getOriginalState=function(){return gn.extend({},this.originalState)};Ue.prototype.getState=function(){return gn.extend({},this.activeState)};Ue.prototype.getZoom=function(){return this.activeState.zoom};Ue.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};Ue.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom};Ue.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};Ue.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e};Ue.prototype.setCTM=function(e){var n=this.isZoomDifferent(e),t=this.isPanDifferent(e);if(n||t){if(n&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))===!1?(e.a=e.d=this.activeState.zoom,n=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),t){var r=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),i=!1,o=!1;r===!1?(e.e=this.getPan().x,e.f=this.getPan().y,i=o=!0):gn.isObject(r)&&(r.x===!1?(e.e=this.getPan().x,i=!0):gn.isNumber(r.x)&&(e.e=r.x),r.y===!1?(e.f=this.getPan().y,o=!0):gn.isNumber(r.y)&&(e.f=r.y)),i&&o||!this.isPanDifferent(e)?t=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(n||t)&&this.updateCTMOnNextFrame()}};Ue.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a};Ue.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f};Ue.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f};Ue.prototype.pendingUpdate=!1;Ue.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))};Ue.prototype.updateCTM=function(){var e=this.getCTM();ub.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)};var db=function(e,n){return new Ue(e,n)},Eu=lb,Zi=cb,lt=Go,Ye=Fs,fb=db,Oe=function(e,n){this.init(e,n)},hb={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},Tu={passive:!0},Ou={passive:!1};Oe.prototype.init=function(e,n){var t=this;this.svg=e,this.defs=e.querySelector("defs"),Ye.setupSvgAttributes(this.svg),this.options=lt.extend(lt.extend({},hb),n),this.state="none";var r=Ye.getBoundingClientRectNormalized(e);this.width=r.width,this.height=r.height,this.viewport=fb(Ye.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(o,s){if(t.viewport&&t.options.beforeZoom)return t.options.beforeZoom(o,s)},onZoom:function(o){if(t.viewport&&t.options.onZoom)return t.options.onZoom(o)},beforePan:function(o,s){if(t.viewport&&t.options.beforePan)return t.options.beforePan(o,s)},onPan:function(o){if(t.viewport&&t.options.onPan)return t.options.onPan(o)},onUpdatedCTM:function(o){if(t.viewport&&t.options.onUpdatedCTM)return t.options.onUpdatedCTM(o)}});var i=this.getPublicInstance();i.setBeforeZoom(this.options.beforeZoom),i.setOnZoom(this.options.onZoom),i.setBeforePan(this.options.beforePan),i.setOnPan(this.options.onPan),i.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&Zi.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};Oe.prototype.setupHandlers=function(){var e=this,n=null;if(this.eventListeners={pointerdown:function(o){if(o.pointerType!=="touch"){var s=e.handleMouseDown(o,n);return n=o,s}},touchstart:function(o){var s=e.handleTouchStart(o,n);return n=o,s},pointerup:function(o){if(o.pointerType!=="touch")return e.handleMouseUp(o)},touchend:function(o){return e.handleTouchEnd(o)},pointermove:function(o){if(o.pointerType!=="touch")return e.handleMouseMove(o)},touchmove:function(o){return e.handleTouchMove(o)},pointerleave:function(o){if(o.pointerType!=="touch")return e.handleMouseUp(o)},pointercancel:function(o){if(o.pointerType!=="touch")return e.handleMouseUp(o)},touchleave:function(o){return e.handleTouchEnd(o)},touchcancel:function(o){return e.handleTouchEnd(o)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var t=this.options.customEventsHandler.haltEventListeners;if(t&&t.length)for(var r=t.length-1;r>=0;r--)this.eventListeners.hasOwnProperty(t[r])&&delete this.eventListeners[t[r]]}for(var i in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(i,this.eventListeners[i],this.options.preventMouseEventsDefault?Ou:Tu);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())};Oe.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)};var n=!this.options.preventMouseEventsDefault;Eu.on(this.options.eventsListenerElement||this.svg,this.wheelListener,n),this.options.mouseWheelZoomEnabled=!0}};Oe.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;Eu.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}};Oe.prototype.handleMouseWheel=function(e){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var n=e.deltaY||1,t=Date.now()-this.lastMouseWheelEventTime,r=3+Math.max(0,30-t);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&e.deltaMode===0&&e.wheelDelta&&(n=e.deltaY===0?0:Math.abs(e.wheelDelta)/e.deltaY),n=-.3<n&&n<.3?n:(n>0?1:-1)*Math.log(Math.abs(n)+10)/r;var i=this.svg.getScreenCTM().inverse(),o=Ye.getEventPoint(e,this.svg).matrixTransform(i),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*n);this.zoomAtPoint(s,o)}};Oe.prototype.zoomAtPoint=function(e,n,t){var r=this.viewport.getOriginalState();t?(e=Math.max(this.options.minZoom*r.zoom,Math.min(this.options.maxZoom*r.zoom,e)),e=e/this.getZoom()):this.getZoom()*e<this.options.minZoom*r.zoom?e=this.options.minZoom*r.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*r.zoom&&(e=this.options.maxZoom*r.zoom/this.getZoom());var i=this.viewport.getCTM(),o=n.matrixTransform(i.inverse()),s=this.svg.createSVGMatrix().translate(o.x,o.y).scale(e).translate(-o.x,-o.y),a=i.multiply(s);a.a!==i.a&&this.viewport.setCTM(a)};Oe.prototype.zoom=function(e,n){this.zoomAtPoint(e,Ye.getSvgCenterPoint(this.svg,this.width,this.height),n)};Oe.prototype.publicZoom=function(e,n){n&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,n)};Oe.prototype.publicZoomAtPoint=function(e,n,t){if(t&&(e=this.computeFromRelativeZoom(e)),lt.getType(n)!=="SVGPoint")if("x"in n&&"y"in n)n=Ye.createSVGPoint(this.svg,n.x,n.y);else throw new Error("Given point is invalid");this.zoomAtPoint(e,n,t)};Oe.prototype.getZoom=function(){return this.viewport.getZoom()};Oe.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};Oe.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom};Oe.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)};Oe.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};Oe.prototype.reset=function(){this.resetZoom(),this.resetPan()};Oe.prototype.handleDblClick=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled){var n=e.target.getAttribute("class")||"";if(n.indexOf("svg-pan-zoom-control")>-1)return!1}var t;e.shiftKey?t=1/((1+this.options.zoomScaleSensitivity)*2):t=(1+this.options.zoomScaleSensitivity)*2;var r=Ye.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(t,r)};Oe.prototype.handleMouseDown=function(e,n){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),lt.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&lt.isDblClick(e,n)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=Ye.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))};Oe.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var n=Ye.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),t=this.firstEventCTM.translate(n.x-this.stateOrigin.x,n.y-this.stateOrigin.y);this.viewport.setCTM(t)}};Oe.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&(this.state="none")};Oe.prototype.handleTouchStart=function(e,n){if(e.touches.length==1)this.handleMouseDown(e,n);else{this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.firstEventCTM=this.viewport.getCTM();var t=Ye.getTouchPoint(e,this.svg,0),r=Ye.getTouchPoint(e,this.svg,1);this.firstDistance=lt.calculateDistance(t,r),t.x=(t.x+r.x)/2,t.y=(t.y+r.y)/2,this.stateOrigin=t.matrixTransform(this.firstEventCTM.inverse()),this.firstZoomLevel=this.getZoom()}};Oe.prototype.handleTouchMove=function(e){if(e.touches.length==1)this.handleMouseMove(e);else{if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),!this.options.panEnabled&&!this.options.zoomEnabled)return;var n=Ye.getTouchPoint(e,this.svg,0),t=Ye.getTouchPoint(e,this.svg,1),r=this.svg.createSVGPoint();if(r.x=(n.x+t.x)/2,r.y=(n.y+t.y)/2,this.state==="pan"&&this.options.panEnabled){var i=r.matrixTransform(this.firstEventCTM.inverse()),o=this.firstEventCTM.translate(i.x-this.stateOrigin.x,i.y-this.stateOrigin.y);this.viewport.setCTM(o)}if(this.options.zoomEnabled){var s=lt.calculateDistance(n,t),a=s/this.firstDistance,l=this.svg.getScreenCTM().inverse(),c=r.matrixTransform(l);this.zoomAtPoint(this.firstZoomLevel*a,c,!0)}}};Oe.prototype.handleTouchEnd=function(e){if(e.touches.length==0)this.handleMouseUp(e);else if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.firstEventCTM=this.viewport.getCTM(),e.touches.length==1)this.stateOrigin=Ye.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse());else{var n=Ye.getTouchPoint(e,this.svg,0),t=Ye.getTouchPoint(e,this.svg,1);this.firstDistance=lt.calculateDistance(n,t),n.x=(n.x+t.x)/2,n.y=(n.y+t.y)/2,this.stateOrigin=n.matrixTransform(this.firstEventCTM.inverse())}};Oe.prototype.fit=function(){var e=this.viewport.getViewBox(),n=Math.min(this.width/e.width,this.height/e.height);this.zoom(n,!0)};Oe.prototype.contain=function(){var e=this.viewport.getViewBox(),n=Math.max(this.width/e.width,this.height/e.height);this.zoom(n,!0)};Oe.prototype.center=function(){var e=this.viewport.getViewBox(),n=(this.width-(e.width+e.x*2)*this.getZoom())*.5,t=(this.height-(e.height+e.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:n,y:t})};Oe.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};Oe.prototype.pan=function(e){var n=this.viewport.getCTM();n.e=e.x,n.f=e.y,this.viewport.setCTM(n)};Oe.prototype.panBy=function(e){var n=this.viewport.getCTM();n.e+=e.x,n.f+=e.y,this.viewport.setCTM(n)};Oe.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}};Oe.prototype.resize=function(){var e=Ye.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var n=this.viewport;n.options.width=this.width,n.options.height=this.height,n.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())};Oe.prototype.destroy=function(){var e=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var n in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(n,this.eventListeners[n],this.options.preventMouseEventsDefault?Ou:Tu);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),dn=dn.filter(function(t){return t.svg!==e.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};Oe.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(n){return e.pan(n),e.pi},panBy:function(n){return e.panBy(n),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(n){return e.options.beforePan=n===null?null:lt.proxy(n,e.publicInstance),e.pi},setOnPan:function(n){return e.options.onPan=n===null?null:lt.proxy(n,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,Zi.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,Zi.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(n){return e.options.zoomScaleSensitivity=n,e.pi},setMinZoom:function(n){return e.options.minZoom=n,e.pi},setMaxZoom:function(n){return e.options.maxZoom=n,e.pi},setBeforeZoom:function(n){return e.options.beforeZoom=n===null?null:lt.proxy(n,e.publicInstance),e.pi},setOnZoom:function(n){return e.options.onZoom=n===null?null:lt.proxy(n,e.publicInstance),e.pi},zoom:function(n){return e.publicZoom(n,!0),e.pi},zoomBy:function(n){return e.publicZoom(n,!1),e.pi},zoomAtPoint:function(n,t){return e.publicZoomAtPoint(n,t,!0),e.pi},zoomAtPointBy:function(n,t){return e.publicZoomAtPoint(n,t,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(n){return e.options.onUpdatedCTM=n===null?null:lt.proxy(n,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var dn=[],pb=function(e,n){var t=lt.getSvg(e);if(t===null)return null;for(var r=dn.length-1;r>=0;r--)if(dn[r].svg===t)return dn[r].instance.getPublicInstance();return dn.push({svg:t,instance:new Oe(t,n)}),dn[dn.length-1].instance.getPublicInstance()},vb=pb;const gb={fitToContents(){return this.fit().center().zoomOut().zoomOut(),this},getViewArea(){const e=this.getSizes(),n=this.getPan(),t=e.realZoom;n.x/=t,n.y/=t;const r={width:e.width/t,height:e.height/t};return{box:{top:-n.y,bottom:r.height-n.y,left:-n.x,right:r.width-n.x},center:{x:r.width/2-n.x,y:r.height/2-n.y}}},getViewBox(){return this.getViewArea().box},setViewBox(e){const n=e.right-e.left,t=e.bottom-e.top,{width:r,height:i}=this.getSizes(),o=n/t,s=r/i,a=o<s?t*s:n,l=o>s?n/s:t,c=Math.min(r/a,i/l),u=this.getRealZoom(),d=this.getZoom(),f=u/d;this.zoom(c/f);const h={x:(e.left+n/2)*c,y:(e.top+t/2)*c};this.pan({x:-h.x+a/2*c,y:-h.y+l/2*c})},getRealZoom(){return this.getSizes().realZoom},applyAbsoluteZoomLevel(e,n,t){const r=Math.max(1e-4,n),i=Math.max(r,t),o=Math.max(Math.min(i,e),r),s=this.getRealZoom(),a=this.getZoom(),l=s/a;this.setMinZoom(r/l).setMaxZoom(i/l).zoom(o/l)},isPanEnabled(){return this._isPanEnabled},enablePan(){return this._isPanEnabled=!0,this._internalEnablePan(),this},disablePan(){return this._isPanEnabled=!1,this._internalDisablePan(),this},isZoomEnabled(){return this._isZoomEnabled},enableZoom(){return this._isZoomEnabled=!0,this._internalEnableZoom(),this},disableZoom(){return this._isZoomEnabled=!1,this._internalDisableZoom(),this},setPanEnabled(e){return e?this.enablePan():this.disablePan(),this},setZoomEnabled(e){return e?(this.enableZoom(),this.enableDblClickZoom()):(this.disableZoom(),this.disableDblClickZoom()),this}};function mb(e,n){var t,r;const i=e;return i._isPanEnabled=(t=n.panEnabled)!=null?t:!0,i._isZoomEnabled=(r=n==null?void 0:n.zoomEnabled)!=null?r:!0,i._internalIsPanEnabled=i.isPanEnabled,i._internalEnablePan=i.enablePan,i._internalDisablePan=i.disablePan,i._internalIsZoomEnabled=i.isZoomEnabled,i._internalEnableZoom=i.enableZoom,i._internalDisableZoom=i.disableZoom,Object.assign(e,gb),i}function yb(e,n){var t,r,i,o,s,a;const l=(r=(t=n.customEventsHandler)==null?void 0:t.init)!=null?r:d=>{},c=(o=(i=n.customEventsHandler)==null?void 0:i.destroy)!=null?o:d=>{},u=(a=(s=n.customEventsHandler)==null?void 0:s.haltEventListeners)!=null?a:[];return n.mouseWheelZoomEnabled===void 0&&(n.mouseWheelZoomEnabled=n.zoomEnabled),n.customEventsHandler={init:d=>{mb(d.instance,n),l(d)},destroy:d=>c(d),haltEventListeners:u},vb(e,n)}function bb(e,n){const t=ae();let r=0;const i=[],o=[],s=()=>{r=1,i.forEach(l=>l()),i.length=0},a=()=>{r=2,o.forEach(l=>l()),o.length=0};return wn(()=>{var l,c,u,d,f,h;const p=Se(e.value,"<svg>"),v=(c=(l=n.customEventsHandler)==null?void 0:l.init)!=null?c:w=>{},m=(d=(u=n.customEventsHandler)==null?void 0:u.destroy)!=null?d:w=>{},g=(h=(f=n.customEventsHandler)==null?void 0:f.haltEventListeners)!=null?h:[];n.customEventsHandler={init:w=>{t.value=w.instance,v(w),s()},destroy:w=>{a(),m(w)},haltEventListeners:g};const y=()=>{const w=p.getBoundingClientRect();w.width!==0&&w.height!==0?yb(p,n):setTimeout(y,200)};y()}),Vn(()=>{var l;(l=t.value)==null||l.destroy(),t.value=void 0}),{svgPanZoom:t,onSvgPanZoomMounted:l=>{r===0?i.push(l):r===1&&l()},onSvgPanZoomUnmounted:l=>{r===0||r===1?o.push(l):l()}}}const ku=Symbol("zoomLevel");function _b(e,n){const t=Q(()=>n.scalingObjects?1:1/e.value);return tn(ku,{zoomLevel:e,scale:t}),{scale:t}}function mt(){return Se(St(ku),"zoomLevel")}function wb(e){return e instanceof Promise||e&&typeof e.then=="function"}function xb(){let e=null;const n=ae({enabled:!1,duration:300,timingFunction:"linear"});function t(r,i=300,o="linear"){e&&(clearTimeout(e),e=null),n.value={enabled:!0,duration:i,timingFunction:o},wr(()=>lr(this,null,function*(){const s=r();wb(s)&&(yield s),e&&clearTimeout(e),e=window==null?void 0:window.setTimeout(()=>{n.value.enabled=!1,e=null},i)}))}return{transitionWhile:t,transitionOption:n}}function Eb(e){const n=ae({}),t=ae(!1);let r=1;const i=new Map;return vt(()=>{if(e.value instanceof Array){const o=new Set([]);if(n.value=Object.fromEntries(e.value.map(s=>{let a=s.id;return a||(t.value||(t.value=!0,console.warn("[v-network-graph] Please specify the `id` field for the `Path` object. Currently, this works for compatibility, but in the future, the id field will be required.")),a=i.get(s),a||(a="path-"+r++,i.set(s,a))),o.add(a),[a,s]})),t.value)for(const[s,a]of Array.from(i.entries()))o.has(a)||i.delete(s)}else n.value=e.value}),{objects:n,isInCompatibilityModeForPath:t}}function Tb(e,n,t,r){if(r){const o=ae(r(e[n])),s=a=>{Fn(a,o.value)||(o.value=a),Fn(a,e[n])||t(`update:${n}`,a)};return we(()=>r(o.value),s),we(()=>e[n],a=>s(r(a))),o.value!==e[n]&&t(`update:${n}`,o.value),o}const i=ae(e[n]);return we(()=>e[n],o=>{Fn(o,i.value)||(i.value=o)}),we(i,o=>{Fn(o,e[n])||t(`update:${n}`,o)}),i}function gi(e,n,t,r){const i=gt(new Set);return we(()=>e[n],()=>{const o=e[n].filter(s=>s in t.value);Fn(o,Array.from(i))||(i.clear(),o.forEach(i.add,i))},{deep:!0,immediate:!0}),we(i,()=>{const o=Array.from(i);Fn(e[n],o)||r(`update:${n}`,o)}),fn(i)}const Su=Symbol("selection");function Ob(e,n,t){tn(Su,{selectedNodes:e,selectedEdges:n,selectedPaths:t})}function kb(){return Se(St(Su),"Selections")}const Pu=Symbol("layouts");function Sb(e){tn(Pu,e)}function zs(){return Se(St(Pu),"Layouts")}function Pb(e,n){for(let t=0;t<e.length-1;t++)n(e[t],e[t+1])}function yr(e,n){const t=e.indexOf(n);t>=0&&e.splice(t,1)}function Ab(e,n,t){const r=e.indexOf(n);r<0||e.splice(r+1,0,t)}function Cb(e,n){const t=["edges","edge-labels","focusring","nodes","node-labels","paths"];return Q(()=>{const r=Wy(e.view.builtInLayerOrder).filter(o=>{const s=t.includes(o);return s||console.warn(`Layer ${o} is not a built-in layer.`),s}).reverse(),i=[...t];return Pb(r,(o,s)=>{yr(i,s),Ab(i,o,s)}),"edge-label"in n||"edges-label"in n||yr(i,"edge-labels"),e.node.focusring.visible||yr(i,"focusring"),e.node.label.visible===!1&&yr(i,"node-labels"),e.path.visible||yr(i,"paths"),i})}const Ib=["x","y","width","height","fill","stroke","stroke-width","stroke-dasharray"],jb=xe({__name:"VSelectionBox",props:{box:null,config:null},setup(e){return(n,t)=>(Z(),ee("rect",{class:"v-ng-selection-box",x:Math.round(e.box.pos.x),y:Math.round(e.box.pos.y),width:Math.ceil(e.box.size.width),height:Math.ceil(e.box.size.height),fill:e.config.color,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeDasharray},null,8,Ib))}}),Mb=["points","fill"],Lb=xe({__name:"VMarkerHeadArrow",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){const n=e,t=Q(()=>{const r=n.width,i=n.height;return n.isSource?`${r} ${i}, 0 ${i/2}, ${r} 0`:`0 0, ${r} ${i/2}, 0 ${i}`});return(r,i)=>(Z(),ee("polygon",{points:M(t),fill:e.color},null,8,Mb))}}),Nb=["points","stroke-width","stroke"],Rb=xe({__name:"VMarkerHeadAngle",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){const n=e,t=Q(()=>n.units==="strokeWidth"?1:Math.min(n.width,n.height)/5),r=Q(()=>{const i=t.value/2,o=n.width,s=n.height;return n.isSource?`${o-i} ${s-i}, ${i} ${s/2}, ${o-i} ${i}`:`${i} ${i}, ${o-i} ${s/2}, ${i} ${s-i}`});return(i,o)=>(Z(),ee("polyline",{points:M(r),fill:"none","stroke-width":M(t),stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,Nb))}}),$b=["fill","cx","cy","rx","ry"],Db=xe({__name:"VMarkerHeadCircle",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){return(n,t)=>(Z(),ee("ellipse",{fill:e.color,cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2},null,8,$b))}}),Fb=["id","markerWidth","markerHeight","refX","refY","markerUnits"],zb=xe({__name:"VMarkerHead",props:{id:null,marker:null,scale:null},setup(e){const n=e,t={arrow:Lb,angle:Rb,circle:Db},r=Q(()=>n.marker.width*(n.marker.units==="strokeWidth"?1:n.scale)),i=Q(()=>n.marker.height*(n.marker.units==="strokeWidth"?1:n.scale)),o=Q(()=>{const s=n.marker.margin*(n.marker.units==="strokeWidth"?1:n.scale);return n.marker.isSource?r.value+s:-s});return(s,a)=>e.marker.type!=="none"&&e.marker.type!=="custom"?(Z(),ee("marker",{key:0,id:e.id,markerWidth:M(r),markerHeight:M(i),refX:M(o),refY:M(i)/2,orient:"auto",markerUnits:e.marker.units,class:"v-ng-marker"},[(Z(),ye(pf(t[e.marker.type]),{width:M(r),height:M(i),refX:M(o),color:e.marker.color,"is-source":e.marker.isSource,units:e.marker.units},null,8,["width","height","refX","color","is-source","units"]))],8,Fb)):at("",!0)}}),Bb={class:"v-ng-background-grid","shape-rendering":"crispEdges"},Ub=["d"],Hb=["d"],Gb=["d"],Vb=["d"],Zb=xe({__name:"VBackgroundGrid",setup(e){const{container:n,svgPanZoom:t}=ws(),{zoomLevel:r}=mt(),i=sb(),o=Gg(),s=ae({x:0,y:0}),a=ae({width:500,height:500});wn(()=>{var f;const h=(f=t.value)==null?void 0:f.getPan();h&&(s.value={x:-h.x,y:-h.y});const p=n.value.getBoundingClientRect();a.value={width:p.width,height:p.height}}),i.on("view:resize",f=>{a.value={width:f.width,height:f.height}}),i.on("view:pan",f=>{s.value={x:-f.x,y:-f.y}}),i.on("view:zoom",()=>{var f;const h=(f=t.value)==null?void 0:f.getPan();h&&(s.value={x:-h.x,y:-h.y})});const l=ae([]),c=ae([]),u=ae([]),d=ae([]);return vt(()=>{const f=[],h=[],p=[],v=[],m=1/r.value,g=o.grid.interval,y=s.value.x*m,w=s.value.y*m,_=Math.floor(a.value.width/g+1)*g,b=Math.floor(a.value.height/g+1)*g,x=(s.value.x+_)*m,T=(s.value.y+b)*m,E=o.grid.thickIncrements,S=o.grid.line.dasharray,P=o.grid.thick.dasharray;let C={stroke:o.grid.thick.color,"stroke-width":o.grid.thick.width,"stroke-dasharray":P,"stroke-dashoffset":P?y/m:void 0},A={stroke:o.grid.line.color,"stroke-width":o.grid.line.width,"stroke-dasharray":S,"stroke-dashoffset":S?y/m:void 0};const N=(s.value.x+_)*m;for(let j=w;j<=T;j+=g){const L=Math.floor(j/g);E&&L%E===0?f.push([L,L*g,y,N,C]):p.push([L,L*g,y,N,A])}C=qe({},C),C["stroke-dashoffset"]=P?w/m:void 0,A=qe({},A),A["stroke-dashoffset"]=S?w/m:void 0;const k=(s.value.y+b)*m;for(let j=y;j<=x;j+=g){const L=Math.floor(j/g);E&&L%E===0?h.push([L,L*g,w,k,C]):v.push([L,L*g,w,k,A])}c.value=f,l.value=h,d.value=p,u.value=v}),(f,h)=>(Z(),ee("g",Bb,[(Z(!0),ee(fe,null,Re(d.value,([p,v,m,g,y])=>(Z(),ee("path",Ot({key:`nv${p}`,d:`M ${m} ${v} L ${g} ${v}`},y,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Ub))),128)),(Z(!0),ee(fe,null,Re(u.value,([p,v,m,g,y])=>(Z(),ee("path",Ot({key:`nh${p}`,d:`M ${v} ${m} L ${v} ${g}`},y,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Hb))),128)),(Z(!0),ee(fe,null,Re(c.value,([p,v,m,g,y])=>(Z(),ee("path",Ot({key:`tv${p}`,d:`M ${m} ${v} L ${g} ${v}`},y,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Gb))),128)),(Z(!0),ee(fe,null,Re(l.value,([p,v,m,g,y])=>(Z(),ee("path",Ot({key:`th${p}`,d:`M ${v} ${m} L ${v} ${g}`},y,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Vb))),128))]))}}),Kb=xe({__name:"VBackgroundViewport",setup(e){const{viewport:n}=ws(),t=ae(),r=(o,s,a)=>{o.forEach(l=>{var c;return s.setAttribute(l,(c=a.getAttribute(l))!=null?c:"")})},i=new MutationObserver(o=>{if(!t.value)return;const s=o.map(a=>{var l;return(l=a.attributeName)!=null?l:""}).filter(Boolean);r(s,t.value,n.value)});return wn(()=>{const o=["transform","style"];i.observe(n.value,{attributes:!0,attributeFilter:o}),t.value&&r(o,t.value,n.value)}),Vn(()=>{i.disconnect()}),(o,s)=>(Z(),ee("g",{ref_key:"background",ref:t,class:"v-ng-background-viewport"},[Ie(o.$slots,"default")],512))}}),Wb=["d","stroke-width"],Yb=xe({__name:"VEdgeBackground",props:{id:null,state:null,sourcePos:{default:void 0},targetPos:{default:void 0}},setup(e){const n=e,{scale:t}=mt(),r=Vr(),{handleEdgePointerDownEvent:i,handleEdgePointerOverEvent:o,handleEdgePointerOutEvent:s,handleEdgeClickEvent:a,handleEdgeDoubleClickEvent:l,handleEdgeContextMenu:c}=Zr(),u=Q(()=>{const f=n.state.position;if(n.state.loop){const{radius:h,isLargeArc:p,isClockwise:v}=n.state.loop,[m,g]=h,y=p?1:0,w=v?1:0;return`M ${f.p1.x} ${f.p1.y} A ${m} ${g} 0 ${y} ${w} ${f.p2.x} ${f.p2.y}`}else{if(r.type==="straight"||!n.state.curve)return`M ${f.p1.x} ${f.p1.y} L ${f.p2.x} ${f.p2.y}`;{const h=[...n.state.curve.control,{x:f.p2.x,y:f.p2.y}],p=[];return p.push(`M ${f.p1.x} ${f.p1.y}`),Ds(h,2).forEach(([v,m])=>p.push(`Q ${v.x} ${v.y} ${m.x} ${m.y}`)),p.join(" ")}}}),d=Q(()=>(n.state.line.stroke.width+10)*t.value);return(f,h)=>(Z(),ee("path",{class:Ge({"v-ng-line-background":!0,selectable:e.state.selectable}),d:M(u),stroke:"transparent","stroke-width":M(d),fill:"none",onPointerdown:h[0]||(h[0]=Rt(p=>M(i)(e.id,p),["stop"])),onPointerenterPassive:h[1]||(h[1]=p=>M(o)(e.id,p)),onPointerleavePassive:h[2]||(h[2]=p=>M(s)(e.id,p)),onClick:h[3]||(h[3]=Rt(p=>M(a)(e.id,p),["stop"])),onDblclick:h[4]||(h[4]=Rt(p=>M(l)(e.id,p),["stop"])),onContextmenu:h[5]||(h[5]=p=>M(c)(e.id,p))},null,42,Wb))}}),Xb=xe({__name:"VEdgeBackgrounds",setup(e){const{edgeStates:n,edgeGroupStates:t,layouts:r}=Vt();return(i,o)=>(Z(!0),ee(fe,null,Re(M(t).edgeGroups,({summarize:s,edges:a})=>(Z(),ee(fe,null,[s?at("",!0):(Z(!0),ee(fe,{key:0},Re(a,(l,c)=>(Z(),ye(Yb,{key:c,id:c,state:M(n)[c],"source-pos":M(r).nodes[l.source],"target-pos":M(r).nodes[l.target]},null,8,["id","state","source-pos","target-pos"]))),128))],64))),256))}}),Jb=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap"],Au=xe({__name:"VLine",props:{p1:null,p2:null,config:null},setup(e){const n=e,{scale:t}=mt(),r=Q(()=>n.config.width*t.value),i=Q(()=>Gr(n.config.dasharray,t.value)),o=Q(()=>{const s=n.config.animate?zo(n.config.dasharray)*n.config.animationSpeed*t.value:!1;return s?`--animation-speed:${s}`:void 0});return(s,a)=>(Z(),ee("path",{class:Ge({"v-ng-line":!0,animate:e.config.animate}),d:`M ${e.p1.x} ${e.p1.y} L ${e.p2.x} ${e.p2.y}`,stroke:e.config.color,"stroke-width":M(r),"stroke-dasharray":M(i),"stroke-linecap":e.config.linecap,style:en(M(o))},null,14,Jb))}}),Qb=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap"],qb=xe({__name:"VArc",props:{p1:null,p2:null,radius:null,isLargeArc:{type:Boolean},isClockwise:{type:Boolean},config:null},setup(e){const n=e,{scale:t}=mt(),r=Q(()=>n.config.width*t.value),i=Q(()=>Gr(n.config.dasharray,t.value)),o=Q(()=>{const a=n.config.animate?zo(n.config.dasharray)*n.config.animationSpeed*t.value:!1;return a?`--animation-speed:${a}`:void 0}),s=Q(()=>{const{p1:a,p2:l,radius:c,isLargeArc:u,isClockwise:d}=n,[f,h]=c,p=u?1:0,v=d?1:0;return`M ${a.x} ${a.y} A ${f} ${h} 0 ${p} ${v} ${l.x} ${l.y}`});return(a,l)=>(Z(),ee("path",{class:Ge({"v-ng-line":!0,animate:e.config.animate}),d:M(s),stroke:e.config.color,"stroke-width":M(r),"stroke-dasharray":M(i),"stroke-linecap":e.config.linecap,style:en(M(o)),fill:"none"},null,14,Qb))}}),e0=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap","marker-start","marker-end"],t0=xe({__name:"VEdgeCurved",props:{state:null,config:null,markerStart:{default:void 0},markerEnd:{default:void 0}},setup(e){const n=e,{scale:t}=mt(),r=Q(()=>{var a,l;const c=n.state.position,u=[...(l=(a=n.state.curve)==null?void 0:a.control)!=null?l:[],{x:c.p2.x,y:c.p2.y}],d=[];return d.push(`M ${c.p1.x} ${c.p1.y}`),Ds(u,2).forEach(([f,h])=>d.push(`Q ${f.x} ${f.y} ${h.x} ${h.y}`)),d.join(" ")}),i=Q(()=>n.config.width*t.value),o=Q(()=>Gr(n.config.dasharray,t.value)),s=Q(()=>{const a=n.config.animate?zo(n.config.dasharray)*n.config.animationSpeed*t.value:!1;return a?`--animation-speed:${a}`:void 0});return(a,l)=>(Z(),ee("path",{class:Ge({"v-ng-line":!0,animate:e.config.animate}),d:M(r),fill:"none",stroke:e.config.color,"stroke-width":M(i),"stroke-dasharray":M(o),"stroke-linecap":e.config.linecap,style:en(M(s)),"marker-start":e.markerStart,"marker-end":e.markerEnd},null,14,e0))}}),n0=xe({__name:"VEdge",props:{id:null,state:null,sourcePos:{default:void 0},targetPos:{default:void 0}},setup(e){const n=Vr();return(t,r)=>e.state.loop?(Z(),ye(qb,Ot({key:0},e.state.position,{radius:e.state.loop.radius,"is-large-arc":e.state.loop.isLargeArc,"is-clockwise":e.state.loop.isClockwise,class:[{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"],config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0}),null,16,["radius","is-large-arc","is-clockwise","class","config","marker-start","marker-end"])):M(n).type=="straight"||!e.state.curve?(Z(),ye(Au,Ot({key:1,"data-edge-id":e.id},e.state.position,{class:[{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"],config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0}),null,16,["data-edge-id","class","config","marker-start","marker-end"])):(Z(),ye(t0,{key:2,"data-edge-id":e.id,class:Ge([{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"]),state:e.state,config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0},null,8,["data-edge-id","class","state","config","marker-start","marker-end"]))}}),r0=["cx","cy","r","fill","stroke","stroke-width","stroke-dasharray"],o0=["x","y","width","height","rx","ry","fill","stroke","stroke-width","stroke-dasharray"],Vo=xe({__name:"VShape",props:{baseX:{default:0},baseY:{default:0},config:null},setup(e){const n=e,{scale:t}=mt(),r=ae(n.baseX),i=ae(n.baseY),o=ae(0),s=ae("#000000"),a=ae(void 0),l=ae(0),c=ae(0),u=ae(0),d=ae(0);return vt(()=>{var f;const h=t.value;o.value=n.config.strokeWidth*h,s.value=(f=n.config.strokeColor)!=null?f:"none",a.value=Gr(n.config.strokeDasharray,h),n.config.type==="circle"?(r.value=n.baseX,i.value=n.baseY,l.value=n.config.radius*h):(c.value=n.config.width*h,u.value=n.config.height*h,d.value=n.config.borderRadius*h,r.value=n.baseX-c.value/2,i.value=n.baseY-u.value/2)}),(f,h)=>e.config.type==="circle"?(Z(),ee("circle",{key:0,class:"v-ng-shape-circle",cx:r.value,cy:i.value,r:l.value,fill:e.config.color,stroke:s.value,"stroke-width":o.value,"stroke-dasharray":a.value},null,8,r0)):(Z(),ee("rect",{key:1,class:"v-ng-shape-rect",x:r.value,y:i.value,width:c.value,height:u.value,rx:d.value,ry:d.value,fill:e.config.color,stroke:s.value,"stroke-width":o.value,"stroke-dasharray":a.value},null,8,o0))}}),i0=["rx","ry","fill","transform"],s0=["x","y","dominant-baseline","font-family","font-size","fill"],a0=["x","dy","dominant-baseline"],Zo=xe({__name:"VLabelText",props:{text:null,x:{default:0},y:{default:0},dominantBaseline:{default:"central"},config:null},setup(e){const n=e,t=Hf(),{scale:r}=mt(),i=Q(()=>{var m,g;return(g=(m=n.text)==null?void 0:m.toString().split(/\r?\n/))!=null?g:""}),o=Q(()=>{var m;return(m=t["font-size"])!=null?m:n.config.fontSize*r.value}),s=Q(()=>o.value*n.config.lineHeight),a=Q(()=>{const m=n.dominantBaseline;return m==="hanging"?0:m==="central"?-(s.value*(i.value.length-1))/2:-s.value*(i.value.length-1)}),l=ae(),c=ae(""),u=gt({x:0,y:0,width:0,height:0}),d=Q(()=>{var m,g;const y=n.config.background;if(!y)return u;let w,_;y.padding instanceof Object?(w=y.padding.vertical,_=y.padding.horizontal):(w=(m=y.padding)!=null?m:0,_=(g=y.padding)!=null?g:0);const b=s.value-o.value;return{x:u.x-_*r.value,y:u.y-w*r.value-b/2,width:u.width+_*2*r.value,height:u.height+w*2*r.value+b}});let f;const h=()=>{n.config.background&&n.config.background.visible?!f&&l.value&&(f=v(l.value,u,c)):(f==null||f.disconnect(),f=void 0)};wn(()=>h()),we(()=>n.config.background&&n.config.background.visible,(m,g)=>{m!=g&&h()}),Vn(()=>{f==null||f.disconnect(),f=void 0});function p(m,g,y){var w;const _=m.getBBox();g.x=_.x,g.y=_.y,g.width=_.width,g.height=_.height,y.value=(w=m.getAttribute("transform"))!=null?w:void 0}function v(m,g,y){const w=new MutationObserver(()=>{p(m,g,y)});return w.observe(m,{attributes:!0,attributeFilter:["x","y","transform","font-size"]}),p(m,g,y),w}return(m,g)=>{var y,w,_,b,x,T;return Z(),ee(fe,null,[e.config.background&&e.config.background.visible?(Z(),ee("rect",Ot({key:0,class:"v-ng-text-background"},M(d),{rx:((w=(y=e.config.background)==null?void 0:y.borderRadius)!=null?w:0)*M(r),ry:((b=(_=e.config.background)==null?void 0:_.borderRadius)!=null?b:0)*M(r),fill:(T=(x=e.config.background)==null?void 0:x.color)!=null?T:"#ffffff",transform:c.value}),null,16,i0)):at("",!0),Jt("text",Ot({ref_key:"element",ref:l,class:"v-ng-text"},m.$attrs,{x:e.x,y:e.y,"dominant-baseline":e.dominantBaseline,"font-family":m.$attrs["font-family"]?`${m.$attrs["font-family"]}`:e.config.fontFamily,"font-size":M(o),fill:m.$attrs.fill?`${m.$attrs.fill}`:e.config.color}),[M(i).length<=1?(Z(),ee(fe,{key:0},[Tc(Oi(e.text),1)],64)):(Z(!0),ee(fe,{key:1},Re(M(i),(E,S)=>(Z(),ee("tspan",{key:S,x:e.x,dy:S==0?M(a):M(s),"dominant-baseline":e.dominantBaseline},Oi(E),9,a0))),128))],16,s0)],64)}}}),l0=xe({__name:"VEdgeSummarized",props:{edges:null,layouts:null},setup(e){const n=e,t=Vr(),{handleEdgesPointerDownEvent:r,handleEdgesPointerOverEvent:i,handleEdgesPointerOutEvent:o,handleEdgesClickEvent:s,handleEdgesDoubleClickEvent:a,handleEdgesContextMenu:l}=Zr(),{edgeStates:c}=Vt(),u=ae({p1:{x:0,y:0},p2:{x:0,y:0}}),d=ae({x:0,y:0});vt(()=>{const w=Object.keys(n.edges).find(_=>_ in c);w&&(u.value=c[w].position,d.value={x:(u.value.p1.x+u.value.p2.x)/2,y:(u.value.p1.y+u.value.p2.y)/2})});const f=Q(()=>Object.keys(n.edges)),h=Q(()=>te.values(t.summarized.label,n.edges)),p=Q(()=>te.values(t.summarized.shape,n.edges)),v=Q(()=>te.values(t.summarized.stroke,n.edges)),m=Q(()=>f.value.some(w=>c[w].hovered)),g=Q(()=>f.value.some(w=>c[w].selectable)),y=Q(()=>f.value.some(w=>c[w].selected));return(w,_)=>(Z(),ee("g",{class:Ge({"v-ng-line-summarized":!0,hovered:M(m),selectable:M(g),selected:M(y)}),onPointerdown:_[0]||(_[0]=Rt(b=>M(r)(M(f),b),["stop"])),onPointerenterPassive:_[1]||(_[1]=b=>M(i)(M(f),b)),onPointerleavePassive:_[2]||(_[2]=b=>M(o)(M(f),b)),onClick:_[3]||(_[3]=Rt(b=>M(s)(M(f),b),["stop"])),onDblclick:_[4]||(_[4]=Rt(b=>M(a)(M(f),b),["stop"])),onContextmenu:_[5]||(_[5]=b=>M(l)(M(f),b))},[He(Au,Ot(u.value,{config:M(v),"data-edge-id":M(f)[0]}),null,16,["config","data-edge-id"]),He(Vo,{"base-x":d.value.x,"base-y":d.value.y,config:M(p)},null,8,["base-x","base-y","config"]),He(Zo,{text:Object.keys(e.edges).length.toString(),x:d.value.x,y:d.value.y,config:M(h),"text-anchor":"middle","dominant-baseline":"central"},null,8,["text","x","y","config"])],34))}}),c0={class:"v-ng-edge-overlay"},dl=xe({__name:"VEdgeOverlay",props:{edgeId:{default:void 0},edge:{default:void 0},edges:{default:()=>({})},state:null,isSummarized:{type:Boolean}},setup(e){const n=e,{svg:t}=ws(),{scale:r}=mt(),i=Vr();function o(){return n.isSummarized?te.values(i.summarized.stroke,n.edges):n.state.line.stroke}function s(u){return{source:u.p1,target:u.p2}}function a(u){if(u.curve)return u.curve.center;{const d=u.origin.p1,f=u.origin.p2;return{x:(d.x+f.x)/2,y:(d.y+f.y)/2}}}function l(){var u;if(!t.value)return 0;const d=(u=n.edgeId)!=null?u:Object.keys(n.edges)[0],f=t.value.querySelector(`path[data-edge-id="${d}"]`);return f?f.getTotalLength():0}function c(u){var d;if(!t.value||!isFinite(u))return n.state.position.p1;n.state;const f=(d=n.edgeId)!=null?d:Object.keys(n.edges)[0],h=t.value.querySelector(`path[data-edge-id="${f}"]`);if(!h)return n.state.position.p1;const p=h.getPointAtLength(u);return{x:p.x,y:p.y}}return(u,d)=>(Z(),ee("g",c0,[e.isSummarized?Ie(u.$slots,"default",{key:0,edges:e.edges,isSummarized:e.isSummarized,stroke:o(),position:s(e.state.origin),center:a(e.state),hovered:e.state.hovered,selected:e.state.selected,scale:M(r),length:l(),pointAtLength:c}):Ie(u.$slots,"default",{key:1,edgeId:e.edgeId,edge:e.edge,edges:{[e.edgeId]:e.edge},isSummarized:e.isSummarized,stroke:o(),position:s(e.state.origin),center:a(e.state),hovered:e.state.hovered,selected:e.state.selected,scale:M(r),length:l(),pointAtLength:c})]))}}),u0=xe({__name:"VEdgeGroups",props:{hasEdgeOverlaySlot:{type:Boolean}},setup(e){const{edgeStates:n,edgeZOrderedList:t,layouts:r}=Vt();return(i,o)=>(Z(!0),ee(fe,null,Re(M(t),s=>(Z(),ee(fe,null,[M(hy)(s)?(Z(),ee(fe,{key:0},[(Z(),ye(l0,{key:s.key,edges:s.group.edges,layouts:M(r).nodes},null,8,["edges","layouts"])),e.hasEdgeOverlaySlot?(Z(),ye(dl,{key:s.key,edges:s.group.edges,state:M(n)[Object.keys(s.group.edges)[0]],"is-summarized":!0},{default:Fe(a=>[Ie(i.$slots,"default",st(tt(a)))]),_:2},1032,["edges","state"])):at("",!0)],64)):(Z(),ee(fe,{key:1},[(Z(),ye(n0,{id:s.key,key:s.key,state:M(n)[s.key],"source-pos":M(r).nodes[s.edge.source],"target-pos":M(r).nodes[s.edge.target]},null,8,["id","state","source-pos","target-pos"])),e.hasEdgeOverlaySlot?(Z(),ye(dl,{key:s.key,"edge-id":s.key,edge:s.edge,state:M(n)[s.key],"is-summarized":!1},{default:Fe(a=>[Ie(i.$slots,"default",st(tt(a)))]),_:2},1032,["edge-id","edge","state"])):at("",!0)],64))],64))),256))}}),d0={class:"v-ng-layer-edges"},f0=xe({__name:"VEdgesLayer",setup(e){const n=No(),t=Q(()=>"edge-overlay"in n);return(r,i)=>(Z(),ee("g",d0,[He(Xb),He(u0,{"has-edge-overlay-slot":M(t)},dc({_:2},[M(t)?{name:"default",fn:Fe(o=>[Ie(r.$slots,"edge-overlay",st(tt(o)))]),key:"0"}:void 0]),1032,["has-edge-overlay-slot"])]))}}),h0=xe({__name:"VEdgeLabelPlace",props:{edgeId:null,edge:null,config:null,state:null},setup(e){const n=e,{scale:t}=mt(),r=Q(()=>pu(n.state.labelPosition,n.state.line.stroke,n.config.margin,n.config.padding,t.value));return(i,o)=>e.state.loop?at("",!0):Ie(i.$slots,"default",{key:0,edgeId:e.edgeId,edge:e.edge,config:e.config,area:M(r),hovered:e.state.hovered,selected:e.state.selected,scale:M(t)})}}),p0=xe({__name:"VEdgeLabelsPlace",props:{edges:null,config:null,state:null,summarizeState:null},setup(e){const n=e,{scale:t}=mt(),r=Q(()=>{var i,o;return pu(n.state.labelPosition,(o=(i=n.summarizeState)==null?void 0:i.stroke)!=null?o:n.state.line.stroke,n.config.margin,n.config.padding,t.value)});return(i,o)=>e.state.loop?at("",!0):Ie(i.$slots,"default",{key:0,edges:e.edges,config:e.config,area:M(r),hovered:e.state.hovered,selected:e.state.selected,scale:M(t)})}}),v0={class:"v-ng-edge-labels"},g0=xe({__name:"VEdgeLabels",props:{enableEdgeLabel:{type:Boolean,default:!1},enableEdgesLabel:{type:Boolean,default:!1}},setup(e){const n=Vr(),{edgeStates:t,edgeGroupStates:r,summarizedEdgeStates:i}=Vt(),o=Q(()=>{const a={},l={};return Object.entries(r.edgeGroups).forEach(([c,u])=>{Object.keys(u.edges).length>0&&(u.summarize?l[c]=u:a[c]=u)}),{individual:a,summarized:l}});function s(a){return Object.keys(a.edges)[0]}return(a,l)=>(Z(),ee("g",v0,[e.enableEdgeLabel?(Z(!0),ee(fe,{key:0},Re(M(o).individual,(c,u)=>(Z(),ee(fe,{key:u},[(Z(!0),ee(fe,null,Re(c.edges,(d,f)=>(Z(),ye(h0,{key:f,"edge-id":f,edge:d,config:M(n).label,state:M(t)[f]},{default:Fe(h=>[Ie(a.$slots,"edge-label",st(tt(h)))]),_:2},1032,["edge-id","edge","config","state"]))),128))],64))),128)):at("",!0),e.enableEdgesLabel?(Z(!0),ee(fe,{key:1},Re(M(o).summarized,(c,u)=>(Z(),ye(p0,{key:u,edges:c.edges,config:M(n).label,state:M(t)[s(c)],"summarize-state":M(i)[s(c)]},{default:Fe(d=>[Ie(a.$slots,"edges-label",st(tt(d)))]),_:2},1032,["edges","config","state","summarize-state"]))),128)):at("",!0)]))}}),m0=xe({__name:"VEdgeLabelsLayer",props:{enableEdgeLabel:{type:Boolean,default:!1},enableEdgesLabel:{type:Boolean,default:!1}},setup(e){return(n,t)=>(Z(),ye(g0,{"enable-edge-label":e.enableEdgeLabel,"enable-edges-label":e.enableEdgesLabel,class:"v-ng-layer-edge-labels"},dc({_:2},[e.enableEdgeLabel?{name:"edge-label",fn:Fe(r=>[Ie(n.$slots,"edge-label",st(tt(r)))]),key:"0"}:void 0,e.enableEdgesLabel?{name:"edges-label",fn:Fe(r=>[Ie(n.$slots,"edges-label",st(tt(r)))]),key:"1"}:void 0]),1032,["enable-edge-label","enable-edges-label"]))}}),y0=xe({__name:"VNodeFocusRing",props:{id:null,state:null,pos:{default:void 0}},setup(e){const n=e,t=Q(()=>{var s;return((s=n.pos)==null?void 0:s.x)||0}),r=Q(()=>{var s;return((s=n.pos)==null?void 0:s.y)||0}),i=Uo(),o=gt({});return vt(()=>{var s,a,l;const c=n.state.shape;if(c.type==="circle"){const u={type:"circle",radius:c.radius+((s=c.strokeWidth)!=null?s:0)/2+i.focusring.padding+i.focusring.width/2,color:"none",strokeWidth:i.focusring.width,strokeColor:i.focusring.color,strokeDasharray:i.focusring.dasharray};Object.assign(o,u)}else{const u={type:"rect",width:c.width+((a=c.strokeWidth)!=null?a:0)+i.focusring.padding*2+i.focusring.width,height:c.height+((l=c.strokeWidth)!=null?l:0)+i.focusring.padding*2+i.focusring.width,borderRadius:c.borderRadius>0?c.borderRadius+i.focusring.padding:0,color:"none",strokeWidth:i.focusring.width,strokeColor:i.focusring.color,strokeDasharray:i.focusring.dasharray};Object.assign(o,u)}}),(s,a)=>(Z(),ye(Vo,{class:"v-ng-node-focusring","base-x":M(t),"base-y":M(r),config:o},null,8,["base-x","base-y","config"]))}}),b0={class:"v-ng-layer-nodes-selections"},_0=xe({__name:"VFocusringLayer",setup(e){const{nodeStates:n}=Vt(),{selectedNodes:t}=kb(),r=zs();return(i,o)=>(Z(),ee("g",b0,[(Z(!0),ee(fe,null,Re(M(t),s=>(Z(),ye(y0,{id:s,key:s,state:M(n)[s],pos:M(r).nodes[s]},null,8,["id","state","pos"]))),128))]))}}),w0=["transform"],fl=xe({__name:"VNode",props:{id:null,state:null,pos:{default:void 0}},setup(e){const n=e,t=Q(()=>{var d;return((d=n.pos)==null?void 0:d.x)||0}),r=Q(()=>{var d;return((d=n.pos)==null?void 0:d.y)||0}),{scale:i}=mt(),{handleNodePointerDownEvent:o,handleNodePointerOverEvent:s,handleNodePointerOutEvent:a,handleNodeClickEvent:l,handleNodeDoubleClickEvent:c,handleNodeContextMenu:u}=Zr();return(d,f)=>(Z(),ee("g",{class:Ge({"v-ng-node":!0,hover:e.state.hovered,selected:e.state.selected}),transform:`translate(${M(t)} ${M(r)})`,onPointerdown:f[0]||(f[0]=Rt(h=>M(o)(e.id,h),["stop"])),onPointerenterPassive:f[1]||(f[1]=h=>M(s)(e.id,h)),onPointerleavePassive:f[2]||(f[2]=h=>M(a)(e.id,h)),onClick:f[3]||(f[3]=Rt(h=>M(l)(e.id,h),["stop"])),onDblclick:f[4]||(f[4]=Rt(h=>M(c)(e.id,h),["stop"])),onContextmenu:f[5]||(f[5]=h=>M(u)(e.id,h))},[Ie(d.$slots,"override-node",{nodeId:e.id,scale:M(i),config:e.state.shape,class:Ge({draggable:e.state.draggable,selectable:e.state.selectable})},()=>[He(Vo,{config:e.state.shape,class:Ge({"v-ng-node-default":!0,draggable:e.state.draggable,selectable:e.state.selectable})},null,8,["config","class"])])],42,w0))}}),x0=xe({__name:"VNodesLayer",setup(e){const n=No(),t=Q(()=>"override-node"in n),{nodeZOrderedList:r}=Vt(),i=Uo(),o=zs();return(s,a)=>M(t)?(Z(),ye($r,{key:0,name:M(i).transition,css:!!M(i).transition,tag:"g",class:"v-ng-layer-nodes"},{default:Fe(()=>[(Z(!0),ee(fe,null,Re(M(r),l=>(Z(),ye(fl,{id:l.id,key:l.id,state:l,pos:M(o).nodes[l.id]},{"override-node":Fe(c=>[Ie(s.$slots,"override-node",st(tt(c)))]),_:2},1032,["id","state","pos"]))),128))]),_:3},8,["name","css"])):(Z(),ye($r,{key:1,name:M(i).transition,css:!!M(i).transition,tag:"g",class:"v-ng-layer-nodes"},{default:Fe(()=>[(Z(!0),ee(fe,null,Re(M(r),l=>(Z(),ye(fl,{id:l.id,key:l.id,state:l,pos:M(o).nodes[l.id]},null,8,["id","state","pos"]))),128))]),_:1},8,["name","css"]))}}),Cu={[ce.NORTH]:0,[ce.NORTH_EAST]:1,[ce.EAST]:2,[ce.SOUTH_EAST]:3,[ce.SOUTH]:4,[ce.SOUTH_WEST]:5,[ce.WEST]:6,[ce.NORTH_WEST]:7,[ce.CENTER]:-1},E0=[(e,n)=>ln(e,0,n?90:60),(e,n)=>ln(e,45,n?90:45),(e,n)=>ln(e,90,n?60:30),(e,n)=>ln(e,135,n?90:45),(e,n)=>ln(e,180,n?90:60),(e,n)=>ln(e,225,n?90:45),(e,n)=>ln(e,270,n?60:30),(e,n)=>ln(e,315,n?90:45)];function T0(e,n,t,r,i){if(i===ce.CENTER)return ce.CENTER;const o=[];Object.entries(t).forEach(([l,c])=>{let u=!1;if(c.nodeId===e){const f=r(l);f&&(u=!0,c=Ro(qe({},c),{pos:{x:f.x,y:f.y}}))}const d=(Ls(Ps(c.pos,n))+360+90)%360;o.push([d,u])});const s=O0(i),a=[s,(s+4)%8,(s+2)%8,(s-2+8)%8,(s+1)%8,(s-1+8)%8,(s+3)%8,(s-3+8)%8].find(l=>o.every(c=>!E0[l](...c)));return a===void 0?i:k0(a,i)}function ln(e,n,t){e%=360;const r=(n-t+360)%360,i=(n+t)%360;return r<=i?r<e&&e<i:r<e||e<i}function O0(e){var n;return(n=Cu[e])!=null?n:0}function k0(e,n){var t,r;return(r=(t=Object.entries(Cu)[e])==null?void 0:t[0])!=null?r:n}const S0=["transform"],hl=xe({__name:"VNodeLabel",props:{id:null,state:null,pos:{default:void 0}},setup(e){const n=e,t=Uo(),{edgeStates:r}=Vt(),{scale:i}=mt(),{handleNodePointerDownEvent:o,handleNodePointerOverEvent:s,handleNodePointerOutEvent:a,handleNodeClickEvent:l,handleNodeDoubleClickEvent:c,handleNodeContextMenu:u}=Zr(),d=Q(()=>{var P;return((P=n.pos)==null?void 0:P.x)||0}),f=Q(()=>{var P;return((P=n.pos)==null?void 0:P.y)||0}),h=Q(()=>n.state.label.direction===ce.CENTER?0:n.state.label.margin*i.value),p=ae(0),v=ae(0),m=ae(0),g=ae(0),y=Q(()=>{var P;const C=n.state.label.direction,A=n.state.label.directionAutoAdjustment;if(A===!1)return C;const N={x:d.value,y:f.value};return A===!0?T0(n.state.id,N,n.state.oppositeNodes,k=>{var j,L;return(L=(j=r[k])==null?void 0:j.loop)==null?void 0:L.center},C):(P=A({nodeId:n.state.id,pos:N,oppositeNodes:n.state.oppositeNodes}))!=null?P:C}),w=Q(()=>{switch(y.value){case ce.CENTER:case ce.NORTH:case ce.SOUTH:return"middle";case ce.EAST:case ce.NORTH_EAST:case ce.SOUTH_EAST:return"start";case ce.WEST:case ce.NORTH_WEST:case ce.SOUTH_WEST:default:return"end"}}),_=Q(()=>{switch(y.value){case ce.NORTH:case ce.NORTH_EAST:case ce.NORTH_WEST:return"text-top";case ce.SOUTH:case ce.SOUTH_EAST:case ce.SOUTH_WEST:return"hanging";case ce.CENTER:case ce.EAST:case ce.WEST:default:return"central"}}),b=Q(()=>{switch(y.value){case ce.CENTER:case ce.NORTH:case ce.SOUTH:return 0;case ce.EAST:return v.value;case ce.WEST:return-v.value;case ce.NORTH_EAST:case ce.SOUTH_EAST:return g.value;case ce.NORTH_WEST:case ce.SOUTH_WEST:default:return-g.value}}),x=Q(()=>{switch(y.value){case ce.NORTH:return-p.value;case ce.SOUTH:return p.value;case ce.CENTER:case ce.EAST:case ce.WEST:return 0;case ce.NORTH_EAST:case ce.NORTH_WEST:return-m.value;case ce.SOUTH_EAST:case ce.SOUTH_WEST:default:return m.value}});vt(()=>{const P=i.value,C=n.state.shape;if(C.type=="circle"){const A=C.radius*P,N=A+h.value,k=Math.sqrt(nt(N,2)/2);p.value=A+h.value,v.value=A+h.value,m.value=k,g.value=k}else{const A=C.borderRadius*P,N=C.width*P,k=C.height*P,j=A+h.value,L=Math.sqrt(nt(j,2)/2);p.value=k/2+h.value,v.value=N/2+h.value,m.value=k/2-A+L,g.value=N/2-A+L}});const T=Q(()=>P=>t.label.handleNodeEvents?{pointerdown:C=>{C.stopPropagation(),o(P,C)},pointerenter:C=>s(P,C),pointerleave:C=>a(P,C),click:C=>{C.stopPropagation(),l(P,C)},dblclick:C=>{C.stopPropagation(),c(P,C)},contextmenu:C=>{u(P,C)}}:{}),E=Q(()=>{const P=t.label.handleNodeEvents;return{"v-ng-node-label":!0,hover:P&&n.state.hovered,selected:P&&n.state.selected}}),S=Q(()=>{const P=t.label.handleNodeEvents;return{draggable:P&&n.state.draggable,selectable:P&&n.state.selectable}});return(P,C)=>(Z(),ee("g",Ot({class:M(E),transform:`translate(${M(d)} ${M(f)})`},vf(M(T)(e.id),!0)),[Ie(P.$slots,"override-node-label",{nodeId:e.id,scale:M(i),text:e.state.labelText,x:M(b),y:M(x),config:e.state.label,shape:e.state.shape,textAnchor:M(w),dominantBaseline:M(_),class:Ge(M(S))},()=>[He(Zo,{text:e.state.labelText,x:0,y:0,config:e.state.label,"text-anchor":M(w),"dominant-baseline":M(_),class:Ge(M(S)),transform:`translate(${M(b)} ${M(x)})`},null,8,["text","config","text-anchor","dominant-baseline","class","transform"])])],16,S0))}}),P0=xe({__name:"VNodeLabelsLayer",setup(e){const n=No(),t=Q(()=>"override-node-label"in n),{nodeZOrderedList:r}=Vt(),i=Uo(),o=zs(),s=Q(()=>a(r.value));function a(l){return l.filter(c=>{var u;return c.label.visible&&((u=c.labelText)!=null?u:!1)})}return(l,c)=>M(t)?(Z(),ye($r,{key:0,name:M(i).transition,css:!!M(i).transition,tag:"g",class:"v-ng-layer-node-labels"},{default:Fe(()=>[(Z(!0),ee(fe,null,Re(M(s),u=>(Z(),ye(hl,{id:u.id,key:u.id,state:u,pos:M(o).nodes[u.id]},{"override-node-label":Fe(d=>[Ie(l.$slots,"override-node-label",st(tt(d)))]),_:2},1032,["id","state","pos"]))),128))]),_:3},8,["name","css"])):(Z(),ye($r,{key:1,name:M(i).transition,css:!!M(i).transition,tag:"g",class:"v-ng-layer-node-labels"},{default:Fe(()=>[(Z(!0),ee(fe,null,Re(M(s),u=>(Z(),ye(hl,{id:u.id,key:u.id,state:u,pos:M(o).nodes[u.id]},null,8,["id","state","pos"]))),128))]),_:1},8,["name","css"]))}});function no(...e){return e.find(n=>!!n)}const A0=Number.EPSILON*100;function C0(e,n,t,r,i,o,s,a){var l,c;const u=e.edges,d=I0(u),f=u.map((g,y)=>M0(g,d[y],r[g.edgeId])),h=[];let p=!1,v=!1;{const g=f[0];let y=Jn(n[g.source].shape)*i;const w=a+(s==="edgeOfNode"?y:0),_=w<=0?g.line.source:pl(g,w,t,!0);h.push(_),y=Jn(n[g.target].shape)*i,a>0&&De.distance(g.line.source,g.line.target)<=w+y&&(p=!0)}const m=u.length;for(let g=1;g<m;g++){const y=f[g-1],w=f[g],_=w.source,b=be.fromObject((l=t[_])!=null?l:{x:0,y:0}),x=j0(y,w,b),T=Jn(n[_].shape)*i,E=Math.max(T*(2/3),T-4*i),S=Ki(y),P=Ki(w),C=ro(y,b,E,S),A=ro(w,b,E,!P),N=ro(y,b,T,S),k=ro(w,b,T,!P);let j;if(x){const L=De.distance(x,b);if(L<E)j=[no(C,N,y.line.target),x,no(A,k,w.line.source)];else if(L<=T){let U,G;N&&C?U=De.distance(x,C)<De.distance(x,N)?C:N:U=N||y.line.target,k&&A?G=De.distance(x,A)<De.distance(x,k)?A:k:G=k||w.line.source,j=[U,x,G]}else C&&A?j=[C,b,A]:N&&k?j=[N,b,k]:j=[no(C,N,y.line.target),b,no(A,k,w.line.source)]}else C&&A?j=[C,b,A]:N&&k?j=[N,b,k]:j=[y.line.target,b,w.line.source];if(y.curve){const L=h[h.length-1];if(L){const U=L instanceof Array?L[L.length-1]:L;let G;j instanceof Array?G=o?j[0]:j[1]:G=j;const Y=Gi(U,y.curve.circle.center,G,y.curve.theta);j instanceof Array&&o?h.push([...Y,...j]):h.push([...Y,G])}}else if(y.loop){const[L,U,G]=gl(b,y,T);h.push(L),h.push(G),j instanceof Array&&o?h.push([U,j[1],j[2]]):h.push(j[2])}else o||!(j instanceof Array)?h.push(j):w.curve?h.push(j[1]):w.loop?h.push(j[0]):h.push(j[0],j[2])}{const g=f[f.length-1];let y=Jn(n[g.target].shape)*i;const w=a+(s==="edgeOfNode"?y:0),_=w<=0?g.line.target:pl(g,w,t,!1);if(y=Jn(n[g.source].shape)*i,g.loop){const b=be.fromObject((c=t[g.target])!=null?c:{x:0,y:0}),[x,T,E]=gl(b,g,y);h.push(x),h.push(E)}else if(g.curve){const b=h[h.length-1],x=b instanceof Array?b[b.length-1]:b,T=Gi(x,g.curve.circle.center,_,g.curve.theta);h.push([...T,_])}else h.push(_);a>0&&De.distance(g.line.source,g.line.target)<=w+y&&(v=!0)}return p&&(h.shift(),h[0]instanceof Array&&h.unshift(h[0][0])),v&&h.pop(),h}function I0(e){const n=e.length;if(n<=1)return[!0];const t=[];let r=null,i=!0;for(let o=0;o<n;o++){const s=e[o].edge.source,a=e[o].edge.target;if(o===0)if(n>2){const l=[s,a].sort(),c=[e[1].edge.source,e[1].edge.target].sort();l[0]===c[0]&&l[1]===c[1]?[e[2].edge.source,e[2].edge.target].includes(e[1].edge.target)?i=a===e[1].edge.source:i=a===e[1].edge.target:i=[e[1].edge.source,e[1].edge.target].includes(a)}else i=[e[1].edge.source,e[1].edge.target].includes(a);else s===a||(i=r===s);t.push(i),r=i?a:s}return t}function pl(e,n,t,r){const i=r?e.source:e.target,o=e.curve;if(o){let s=n/o.circle.radius;return o.theta>0&&(s*=-1),r||(s*=-1),be.fromObject(vn(r?e.line.source:e.line.target,o.circle.center,s))}else{let s,a;if(r?(s=e.line.target,a=e.line.source):(s=e.line.source,a=e.line.target),t[i]){const l=Ho(s,a,be.fromObject(t[i]),n);return l===null?s:l}else return s}}function j0(e,n,t){let r=null;if(e.loop||n.loop)r=null;else if(e.curve)if(n.curve){if(e.line.target.isEqualTo(n.line.source))return e.line.target.clone();r=Br(e.curve.circle.center,e.curve.circle.radius,n.curve.circle.center,n.curve.circle.radius,e.curve.center)}else r=ty(n.line.target,n.line.source,e.curve.circle.center,e.curve.circle.radius,t);else if(n.curve)r=Ho(e.line.source,e.line.target,n.curve.circle.center,n.curve.circle.radius);else{const i=vl(e.line),o=vl(n.line);!isFinite(i)&&!isFinite(o)||Math.abs(i-o)<A0?r=null:r=An(e.line,n.line)}return r}function ro(e,n,t,r){if(e.loop){const i=Br(n,t,e.loop.center,e.loop.radius[0]);return i?r?i[0]:i[1]:null}else return e.curve?Br(n,t,e.curve.circle.center,e.curve.circle.radius,be.fromObject(e.curve.center)):Ho(r?e.line.source:e.line.target,r?e.line.target:e.line.source,n,t)}function M0(e,n,t){let r=t.origin,i=e.edge.source,o=e.edge.target,s=t.curve;const a=t.loop;a?r=t.position:n||(r=ey(r),i=e.edge.target,o=e.edge.source,s&&(s=Ro(qe({},s),{theta:-s.theta})));const l=Le.fromLinePosition(r);return{edgeId:e.edgeId,source:i,target:o,line:l,direction:n,curve:s,loop:a}}function vl(e){return(e.target.y-e.source.y)/(e.target.x-e.source.x)}function gl(e,n,t){const{radius:r,center:i}=Se(n.loop,"Loop of edge parameter"),[o,s]=r,a=Br(e,t,i,r[0]);let[l,c]=a?a.reverse():[n.line.source,n.line.target];const u=Ki(n);u||([l,c]=[c,l]);const d=l,f=c,h=be.fromObject(d).subtract(i).angleDegree();let p=(be.fromObject(f).subtract(i).angleDegree()+360-h)%360>=180;return p=u?p:!p,[d,f,`A ${o} ${s} 0 ${p?1:0} ${u?1:0} ${f.x} ${f.y}`]}function Ki(e){return e.loop?e.direction?e.loop.isClockwise:!e.loop.isClockwise:!0}const L0=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap","stroke-linejoin"],N0=xe({__name:"VPath",props:{path:null},setup(e){const n=e,{nodeStates:t,edgeStates:r,layouts:i}=Vt(),{scale:o}=mt(),s=ru();function a(f){if(f.edges.length===0)return[];const h=te.value(s.margin,f.path)*o.value;return C0(f,t,i.nodes,r,o.value,s.curveInNode,s.end,h)}function l(f){const h=a(f);let p=!0;return h.map(v=>{if(v===null)p=!0;else{if(typeof v=="string")return v;if(v instanceof Array){v=[...v];const m=[];if(v.length%2===1){const g=v[0];v=v.slice(1),m.push(`L ${g.x} ${g.y}`)}return Ds(v,2).map(([g,y])=>m.push(`Q ${g.x} ${g.y} ${y.x} ${y.y}`)),m.join(" ")}else{const m=p;return p=!1,`${m?"M ":"L "}${v.x} ${v.y}`}}}).join(" ")}const c=Q(()=>{const f=n.path;return f.selected?te.values(s.selected,f.path):f.hovered&&s.hover?te.values(s.hover,f.path):te.values(s.normal,f.path)}),u=Q(()=>Gr(c.value.dasharray,o.value)),d=Q(()=>{const f=c.value.animate?zo(c.value.dasharray)*c.value.animationSpeed*o.value:!1;return f?`--animation-speed:${f}`:void 0});return(f,h)=>(Z(),ee("path",{class:Ge({"v-ng-path":!0,animate:M(c).animate,clickable:e.path.clickable,hoverable:e.path.hoverable}),d:l(e.path),fill:"none",stroke:M(c).color,"stroke-width":M(c).width*M(o),"stroke-dasharray":M(u),"stroke-linecap":M(c).linecap,"stroke-linejoin":M(c).linejoin,style:en(M(d))},null,14,L0))}}),R0=xe({__name:"VPaths",setup(e){const{pathZOrderedList:n}=Vt(),t=ru(),{handlePathPointerDownEvent:r,handlePathPointerOverEvent:i,handlePathPointerOutEvent:o,handlePathClickEvent:s,handlePathDoubleClickEvent:a,handlePathContextMenu:l}=Zr();return(c,u)=>(Z(),ye($r,{name:M(t).transition,css:!!M(t).transition,tag:"g",class:"v-ng-paths"},{default:Fe(()=>[(Z(!0),ee(fe,null,Re(M(n),d=>(Z(),ye(N0,{key:d.id,path:d,onPointerdown:f=>M(r)(d.id,f),onPointerenterPassive:f=>M(i)(d.id,f),onPointerleavePassive:f=>M(o)(d.id,f),onClick:Rt(f=>M(s)(d.id,f),["stop"]),onDblclick:Rt(f=>M(a)(d.id,f),["stop"]),onContextmenu:f=>M(l)(d.id,f)},null,8,["path","onPointerdown","onPointerenterPassive","onPointerleavePassive","onClick","onDblclick","onContextmenu"]))),128))]),_:1},8,["name","css"]))}}),$0=xe({__name:"VPathsLayer",setup(e){return(n,t)=>(Z(),ye(R0))}}),D0={key:0},F0=xe({__name:"VNetworkGraph",props:{nodes:{default:()=>({})},edges:{default:()=>({})},paths:{default:()=>({})},layouts:{default:()=>({})},zoomLevel:{default:1},selectedNodes:{default:()=>[]},selectedEdges:{default:()=>[]},selectedPaths:{default:()=>[]},configs:{default:()=>({})},layers:{default:()=>({})},eventHandlers:{default:()=>({})}},emits:["update:zoomLevel","update:selectedNodes","update:selectedEdges","update:selectedPaths","update:layouts"],setup(e,{expose:n,emit:t}){const r=e,i=["override-node","override-node-label","edge-overlay","edge-label","edges-label"],o=No(),s=Xt(r,"nodes"),a=Xt(r,"edges"),{objects:l,isInCompatibilityModeForPath:c}=Eb(Xt(r,"paths")),u=ib();Object.entries(r.eventHandlers).forEach(([$,re])=>{u.on($,re)});const d=Hg(Xt(r,"configs")),f=Q(()=>{const $=new Set(Object.keys(o));i.forEach(oe=>$.delete(oe));const re=Object.fromEntries(Ch.map(oe=>[oe,[]]));return Object.assign(re,Object.entries(r.layers).reduce((oe,[ue,Ke])=>($.delete(ue),Ke in oe?oe[Ke].push(ue):oe[Ke]=[ue],oe),{})),re.root.push(...$),re}),h=Q(()=>d.view.grid.visible),p=Q(()=>{const $=f.value;return h.value||$.background.length>0||$.grid.length>0}),v=Cb(d,o),m=ae(),g=ae(),y=ae(),w=ae(0),_=Q(()=>w.value!==0),b=Tb(r,"zoomLevel",t,$=>($=Math.max($,d.view.minZoomLevel),$=Math.min($,d.view.maxZoomLevel),$)),{svgPanZoom:x,onSvgPanZoomMounted:T,onSvgPanZoomUnmounted:E}=bb(g,{viewportSelector:".v-ng-viewport",minZoom:d.view.minZoomLevel,maxZoom:d.view.maxZoomLevel,dblClickZoomEnabled:_t(d.view),mouseWheelZoomEnabled:wt(d.view),fit:!0,center:!0,zoomEnabled:d.view.zoomEnabled,preventMouseEventsDefault:!1,onZoom:$=>{var re,oe;if(w.value===2)return;const ue=(oe=(re=x.value)==null?void 0:re.getRealZoom())!=null?oe:1;Math.abs(b.value-ue)>=1e-6&&(b.value=ue,u.emit("view:zoom",ue))},panEnabled:d.view.panEnabled,onPan:$=>{w.value!==2&&u.emit("view:pan",$)}});Ih({container:m,svg:g,viewport:y,svgPanZoom:x});const S={width:0,height:0},P=globalThis.ResizeObserver?new ResizeObserver(()=>{var $,re,oe;if(($=x.value)==null||$.resize(),!d.view.autoPanOnResize)return;const ue=(re=m.value)==null?void 0:re.getBoundingClientRect();if(ue){const Ke=-(S.width-ue.width)/2,Qo=-(S.height-ue.height)/2;(oe=x.value)==null||oe.panBy({x:Ke,y:Qo});const{width:pr,height:qo}=ue;(S.width!==pr||S.height!==qo)&&(Object.assign(S,{width:pr,height:qo}),u.emit("view:resize",{x:ue.x,y:ue.y,width:pr,height:qo}))}}):void 0;T(()=>{var $,re,oe;const ue=Se(m.value,"svg-pan-zoom container");P==null||P.observe(ue),(re=($=d.view).onSvgPanZoomInitialized)==null||re.call($,Se(x.value,"svg-pan-zoom instance"));const Ke=ue.getBoundingClientRect(),{width:Qo,height:pr}=Ke;Object.assign(S,{width:Qo,height:pr}),(oe=y.value)==null||oe.addEventListener("touchstart",on,{passive:!1})}),E(()=>{var $;P==null||P.disconnect(),($=y.value)==null||$.removeEventListener("touchstart",on)});const C=$=>{var re;(re=x.value)==null||re.applyAbsoluteZoomLevel($,d.view.minZoomLevel,d.view.maxZoomLevel)};we(()=>d.view.panEnabled,$=>{var re;(re=x.value)==null||re.setPanEnabled($)}),we(()=>[d.view.zoomEnabled,_t(d.view),wt(d.view)],()=>{const $=x.value;$&&Ct($,d.view.zoomEnabled,d.view.doubleClickZoomEnabled,d.view.mouseWheelZoomEnabled)}),we(b,$=>C($)),we(()=>[d.view.minZoomLevel,d.view.maxZoomLevel],$=>{C(b.value)});const{scale:A}=_b(b,d.view);T(()=>{const $=r.zoomLevel;C($)});const N=$=>{var re;Object.keys(r.nodes).length>0?((re=x.value)==null||re.updateBBox(),wr($)):$()},k=()=>{N(()=>{x.value&&(x.value.fitToContents(),u.emit("view:fit",void 0))})},j=()=>{N(()=>{var $;($=x.value)==null||$.center()})},L=()=>{var $,re;return(re=($=x.value)==null?void 0:$.getViewBox())!=null?re:{top:0,bottom:0,left:0,right:0}},U=$=>{var re;return(re=x.value)==null?void 0:re.setViewBox($)},G=gi(r,"selectedNodes",s,t);we(G,$=>u.emit("node:select",Array.from($)));const Y=gi(r,"selectedEdges",a,t);we(Y,$=>u.emit("edge:select",Array.from($)));const le=gi(r,"selectedPaths",l,t);we(le,$=>u.emit("path:select",Array.from($))),Ob(G,Y,le);const ve=fn(new Set),je=fn(new Set),yt=fn(new Set),rt=fn({nodes:{}});Sb(rt),we(()=>r.layouts,()=>Object.assign(rt,r.layouts),{deep:!0,immediate:!0}),we(rt,()=>t("update:layouts",rt),{deep:!0});const Zt=ay(),Ze=ae(!1);u.on("node:dragstart",$=>Ze.value=!0),u.on("node:dragend",$=>Ze.value=!1),u.on("view:mode",$=>{var re,oe,ue,Ke;d.view.panEnabled&&($==="default"?(re=x.value)==null||re.enablePan():(oe=x.value)==null||oe.disablePan()),d.view.zoomEnabled&&($==="default"?(ue=x.value)==null||ue.enableZoom():(Ke=x.value)==null||Ke.disableZoom())});const bt=Q(()=>d.view.panEnabled||d.view.zoomEnabled||d.node.draggable),{nodeStates:$t,edgeStates:z,pathStates:V}=fy(hi(s,G,ve),hi(a,Y,je),hi(l,le,yt),In(d),rt,Zt,A),K=Q(()=>wt(d.view)),{isBoxSelectionMode:O,selectionBox:I,startBoxSelection:R,stopBoxSelection:B}=rb(g,In(rt),In(b),$t,z,V,G,Y,le,ve,je,yt,c,K,d,u),H=()=>({layouts:fn(rt.nodes),nodePositions:Xt(rt,"nodes"),nodes:s,edges:a,configs:In(d),scale:In(A),emitter:u,svgPanZoom:Se(x.value)});we(()=>d.view.layoutHandler,($,re)=>{re.deactivate(),$.activate(H())});const{transitionWhile:X,transitionOption:J}=xb(),F=Q(()=>{const $=J.value;return $.enabled?{"--transition-duration":$.duration+"ms","--transition-function":$.timingFunction}:{}});T(()=>{N(()=>{const $=Se(x.value,"svg-pan-zoom");d.view.layoutHandler.activate(H()),wr(()=>{const re=d.view.autoPanAndZoomOnLoad;if(d.view.fit||re!==!1){const oe=Object.keys(r.nodes).length==0,ue=$.getPan();if(oe||re==="center-zero"){const Ke=$.getSizes();$.pan({x:Ke.width/2,y:Ke.height/2})}else re==="fit-content"||d.view.fit?k():re==="center-content"&&j();wr(()=>{const Ke=$.getPan();ue.x===Ke.x&&ue.y===Ke.y&&u.emit("view:pan",Ke)})}u.emit("view:load"),w.value=1})})}),E(()=>{w.value=2,u.emit("view:unload"),d.view.layoutHandler.deactivate()});function W(){var $;($=x.value)==null||$.zoomIn()}function D(){var $;($=x.value)==null||$.zoomOut()}function ne($){var re;(re=x.value)==null||re.pan($)}function q($){var re;(re=x.value)==null||re.panBy($)}function ie(){return Se(x.value).getPan()}function se(){const $=Se(x.value).getSizes();return{width:$.width,height:$.height,viewBox:$.viewBox}}function de($){return Vi(Se(g.value,"svg"),Se(y.value,"viewport"),$)}function pe($){return Xy(Se(g.value,"svg"),Se(y.value,"viewport"),$)}function _e(){return bu(Se(g.value,"svg"),Se(y.value,"viewport"),A.value).outerHTML}function Pe(){return lr(this,arguments,function*($={}){return(yield Xe($)).outerHTML})}function Xe(){return lr(this,arguments,function*($={}){return Qy(Se(g.value,"svg"),Se(y.value,"viewport"),A.value,$)})}n({fitToContents:k,panToCenter:j,getViewBox:L,setViewBox:U,transitionWhile:X,startBoxSelection:R,stopBoxSelection:B,zoomIn:W,zoomOut:D,panTo:ne,panBy:q,getPan:ie,getSizes:se,translateFromDomToSvgCoordinates:de,translateFromSvgToDomCoordinates:pe,getAsSvg:_e,exportAsSvgText:Pe,exportAsSvgElement:Xe});function Ct($,re,oe,ue){$.setZoomEnabled(re),re&&oe?$.enableDblClickZoom():$.disableDblClickZoom(),re&&ue?$.enableMouseWheelZoom():$.disableMouseWheelZoom()}function _t($){return $.zoomEnabled&&$.doubleClickZoomEnabled}function wt($){return $.zoomEnabled&&$.mouseWheelZoomEnabled}function on($){$.stopPropagation()}return($,re)=>(Z(),ee("div",{ref_key:"container",ref:m,class:"v-network-graph v-ng-container"},[(Z(),ee("svg",{ref_key:"svg",ref:g,class:Ge(["v-ng-canvas",{show:M(_),dragging:Ze.value,touches:M(bt),"box-selection-mode":M(O)}]),width:"100%",height:"100%"},[(Z(!0),ee(fe,null,Re(M(f).root,oe=>Ie($.$slots,oe,{key:oe,scale:M(A)})),128)),Object.keys(M(Zt).markers).length>0?(Z(),ee("defs",D0,[(Z(!0),ee(fe,null,Re(M(Zt).markers,(oe,ue)=>(Z(),ye(zb,{id:ue,key:ue,marker:oe,scale:M(A)},null,8,["id","marker","scale"]))),128))])):at("",!0),M(p)?(Z(),ye(Kb,{key:1},{default:Fe(()=>[(Z(!0),ee(fe,null,Re(M(f).background,oe=>(Z(),ee("g",{key:oe,class:"v-ng-layer"},[Ie($.$slots,oe,{scale:M(A)})]))),128)),M(h)?(Z(),ye(Zb,{key:0})):at("",!0),(Z(!0),ee(fe,null,Re(M(f).grid,oe=>(Z(),ee("g",{key:oe,class:"v-ng-layer"},[Ie($.$slots,oe,{scale:M(A)})]))),128))]),_:3})):at("",!0),Jt("g",{ref_key:"viewport",ref:y,class:Ge(["v-ng-viewport",{"v-ng-transition":M(J).enabled}]),style:en(M(F))},[(Z(!0),ee(fe,null,Re(M(f).base,oe=>(Z(),ee("g",{key:oe,class:"v-ng-layer"},[Ie($.$slots,oe,{scale:M(A)})]))),128)),(Z(!0),ee(fe,null,Re(M(v),oe=>(Z(),ee(fe,{key:oe},[oe==="edges"?(Z(),ye(f0,{key:0},{"edge-overlay":Fe(ue=>[Ie($.$slots,"edge-overlay",st(tt(ue)))]),_:3})):oe==="edge-labels"?(Z(),ye(m0,{key:1,"enable-edge-label":"edge-label"in M(o),"enable-edges-label":"edges-label"in M(o)},{"edge-label":Fe(ue=>[Ie($.$slots,"edge-label",st(tt(ue)))]),"edges-label":Fe(ue=>[Ie($.$slots,"edges-label",st(tt(ue)))]),_:3},8,["enable-edge-label","enable-edges-label"])):oe==="focusring"?(Z(),ye(_0,{key:2})):oe==="nodes"?(Z(),ye(x0,{key:3},{"override-node":Fe(ue=>[Ie($.$slots,"override-node",st(tt(ue)))]),_:3})):oe==="node-labels"?(Z(),ye(P0,{key:4},{"override-node-label":Fe(ue=>[Ie($.$slots,"override-node-label",st(tt(ue)))]),_:3})):oe==="paths"?(Z(),ye($0,{key:5})):at("",!0),(Z(!0),ee(fe,null,Re(M(f)[oe],ue=>(Z(),ee("g",{key:ue,class:"v-ng-layer"},[Ie($.$slots,ue,{scale:M(A)})]))),128))],64))),128))],6),M(I)?(Z(),ye(jb,{key:2,box:M(I),config:M(d).view.selection.box},null,8,["box","config"])):at("",!0)],2))],512))}}),z0=xe({__name:"VEdgeLabel",props:{area:null,config:null,text:{default:""},align:{default:"center"},verticalAlign:{default:"center"},edge:{default:void 0},hovered:{type:Boolean,default:void 0},selected:{type:Boolean,default:void 0},scale:{default:void 0}},setup(e){const n=e,t=ae(0),r=ae(0),i=ae("middle"),o=ae("central"),s=ae(0);vt(()=>{const l=n.area.source,c=n.area.target;n.align==="source"?(l.above.x==c.above.x?i.value=l.above.y>c.above.y?"start":"end":i.value=l.above.x<c.above.x?"start":"end",n.verticalAlign==="above"?(t.value=l.above.x,r.value=l.above.y,o.value="text-top"):n.verticalAlign==="below"?(t.value=l.below.x,r.value=l.below.y,o.value="hanging"):(t.value=(l.above.x+l.below.x)/2,r.value=(l.above.y+l.below.y)/2,o.value="central")):n.align==="target"?(l.above.x==c.above.x?i.value=l.above.y<c.above.y?"start":"end":i.value=l.above.x>c.above.x?"start":"end",n.verticalAlign==="above"?(t.value=c.above.x,r.value=c.above.y,o.value="text-top"):n.verticalAlign==="below"?(t.value=c.below.x,r.value=c.below.y,o.value="hanging"):(t.value=(c.above.x+c.below.x)/2,r.value=(c.above.y+c.below.y)/2,o.value="central")):(i.value="middle",n.verticalAlign==="above"?(t.value=(l.above.x+c.above.x)/2,r.value=(l.above.y+c.above.y)/2,o.value="text-top"):n.verticalAlign==="below"?(t.value=(l.below.x+c.below.x)/2,r.value=(l.below.y+c.below.y)/2,o.value="hanging"):(t.value=(l.above.x+c.below.x)/2,r.value=(l.above.y+c.below.y)/2,o.value="central"));let u=Le.fromPositions(l.above,c.above).v.angleDegree();(u<-90||u>=90)&&(u=u+180,u>180&&(u-=360)),s.value=u});const a=Q(()=>o.value==="central"&&!n.config.background?Ro(qe({},n.config),{background:{visible:!0,color:"#ffffff",padding:{vertical:1,horizontal:4},borderRadius:2}}):n.config);return(l,c)=>(Z(),ye(Zo,{class:"v-ng-edge-label",text:e.text,x:t.value,y:r.value,config:M(a),"text-anchor":i.value,"dominant-baseline":o.value,transform:`rotate(${s.value} ${t.value} ${r.value})`},null,8,["text","x","y","config","text-anchor","dominant-baseline","transform"]))}}),B0=Object.freeze(Object.defineProperty({__proto__:null,VEdgeLabel:z0,VLabelText:Zo,VNetworkGraph:F0,VShape:Vo},Symbol.toStringTag,{value:"Module"})),U0=function(e){Object.entries(B0).forEach(([n,t])=>{e.component(n,t)})},H0="modulepreload",G0=function(e){return"/fable-dice/"+e},ml={},Ko=function(n,t,r){if(!t||t.length===0)return n();const i=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=G0(o),o in ml)return;ml[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":H0,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>n())};var V0=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const Z0=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>V0(void 0,void 0,void 0,function*(){return yield(yield Ko(()=>Promise.resolve().then(()=>Wo),void 0)).fetch(...t)}):n=fetch,(...t)=>n(...t)};class Bs extends Error{constructor(n,t="FunctionsError",r){super(n),super.name=t,this.context=r}}class K0 extends Bs{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class W0 extends Bs{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Y0 extends Bs{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var X0=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};class J0{constructor(n,{headers:t={},customFetch:r}={}){this.url=n,this.headers=t,this.fetch=Z0(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return X0(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=t;let a={},l;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(h=>{throw new K0(h)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new W0(c);if(!c.ok)throw new Y0(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield c.json():d==="application/octet-stream"?f=yield c.blob():d==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var Wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cr={},q0={get exports(){return cr},set exports(e){cr=e}};(function(e,n){var t=typeof self<"u"?self:Wi,r=function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(k){return k&&DataView.prototype.isPrototypeOf(k)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(k){return k&&c.indexOf(Object.prototype.toString.call(k))>-1};function d(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function f(k){return typeof k!="string"&&(k=String(k)),k}function h(k){var j={next:function(){var L=k.shift();return{done:L===void 0,value:L}}};return a.iterable&&(j[Symbol.iterator]=function(){return j}),j}function p(k){this.map={},k instanceof p?k.forEach(function(j,L){this.append(L,j)},this):Array.isArray(k)?k.forEach(function(j){this.append(j[0],j[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(j){this.append(j,k[j])},this)}p.prototype.append=function(k,j){k=d(k),j=f(j);var L=this.map[k];this.map[k]=L?L+", "+j:j},p.prototype.delete=function(k){delete this.map[d(k)]},p.prototype.get=function(k){return k=d(k),this.has(k)?this.map[k]:null},p.prototype.has=function(k){return this.map.hasOwnProperty(d(k))},p.prototype.set=function(k,j){this.map[d(k)]=f(j)},p.prototype.forEach=function(k,j){for(var L in this.map)this.map.hasOwnProperty(L)&&k.call(j,this.map[L],L,this)},p.prototype.keys=function(){var k=[];return this.forEach(function(j,L){k.push(L)}),h(k)},p.prototype.values=function(){var k=[];return this.forEach(function(j){k.push(j)}),h(k)},p.prototype.entries=function(){var k=[];return this.forEach(function(j,L){k.push([L,j])}),h(k)},a.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function v(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function m(k){return new Promise(function(j,L){k.onload=function(){j(k.result)},k.onerror=function(){L(k.error)}})}function g(k){var j=new FileReader,L=m(j);return j.readAsArrayBuffer(k),L}function y(k){var j=new FileReader,L=m(j);return j.readAsText(k),L}function w(k){for(var j=new Uint8Array(k),L=new Array(j.length),U=0;U<j.length;U++)L[U]=String.fromCharCode(j[U]);return L.join("")}function _(k){if(k.slice)return k.slice(0);var j=new Uint8Array(k.byteLength);return j.set(new Uint8Array(k)),j.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(k){this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:a.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:a.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():a.arrayBuffer&&a.blob&&l(k)?(this._bodyArrayBuffer=_(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||u(k))?this._bodyArrayBuffer=_(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var k=v(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var k=v(this);if(k)return k;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(k){var j=k.toUpperCase();return x.indexOf(j)>-1?j:k}function E(k,j){j=j||{};var L=j.body;if(k instanceof E){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,j.headers||(this.headers=new p(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!L&&k._bodyInit!=null&&(L=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new p(j.headers)),this.method=T(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function S(k){var j=new FormData;return k.trim().split("&").forEach(function(L){if(L){var U=L.split("="),G=U.shift().replace(/\+/g," "),Y=U.join("=").replace(/\+/g," ");j.append(decodeURIComponent(G),decodeURIComponent(Y))}}),j}function P(k){var j=new p,L=k.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(U){var G=U.split(":"),Y=G.shift().trim();if(Y){var le=G.join(":").trim();j.append(Y,le)}}),j}b.call(E.prototype);function C(k,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new p(j.headers),this.url=j.url||"",this._initBody(k)}b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var k=new C(null,{status:0,statusText:""});return k.type="error",k};var A=[301,302,303,307,308];C.redirect=function(k,j){if(A.indexOf(j)===-1)throw new RangeError("Invalid status code");return new C(null,{status:j,headers:{location:k}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(j,L){this.message=j,this.name=L;var U=Error(j);this.stack=U.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function N(k,j){return new Promise(function(L,U){var G=new E(k,j);if(G.signal&&G.signal.aborted)return U(new s.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function le(){Y.abort()}Y.onload=function(){var ve={status:Y.status,statusText:Y.statusText,headers:P(Y.getAllResponseHeaders()||"")};ve.url="responseURL"in Y?Y.responseURL:ve.headers.get("X-Request-URL");var je="response"in Y?Y.response:Y.responseText;L(new C(je,ve))},Y.onerror=function(){U(new TypeError("Network request failed"))},Y.ontimeout=function(){U(new TypeError("Network request failed"))},Y.onabort=function(){U(new s.DOMException("Aborted","AbortError"))},Y.open(G.method,G.url,!0),G.credentials==="include"?Y.withCredentials=!0:G.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&a.blob&&(Y.responseType="blob"),G.headers.forEach(function(ve,je){Y.setRequestHeader(je,ve)}),G.signal&&(G.signal.addEventListener("abort",le),Y.onreadystatechange=function(){Y.readyState===4&&G.signal.removeEventListener("abort",le)}),Y.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return N.polyfill=!0,o.fetch||(o.fetch=N,o.Headers=p,o.Request=E,o.Response=C),s.Headers=p,s.Request=E,s.Response=C,s.fetch=N,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;n=i.fetch,n.default=i.fetch,n.fetch=i.fetch,n.Headers=i.Headers,n.Request=i.Request,n.Response=i.Response,e.exports=n})(q0,cr);const Us=Q0(cr),Wo=Hu({__proto__:null,default:Us},[cr]);class e_{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.allowEmpty=n.allowEmpty,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Us:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const v=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),m=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&m&&m.length>1&&(d=parseInt(m[1]))}else{const v=await o.text();try{c=JSON.parse(v),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,h="OK")}catch{o.status===404&&v===""?(f=204,h="No Content"):c={message:v}}if(c&&this.allowEmpty&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("Results contain 0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>({error:{message:`FetchError: ${o.message}`,details:"",hint:"",code:o.code||""},data:null,count:null,status:0,statusText:""}))),i.then(n,t)}}class t_ extends e_{select(n){let t=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i}={}){const o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(o,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){const a=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Qn extends t_{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}}class n_{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let o=!1;const s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Qn({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t}={}){const r="POST",i=[],o=n;if(t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(n)){const s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Qn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i}={}){const o="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];t!==void 0&&this.url.searchParams.set("on_conflict",t);const a=n;return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Qn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){const r="PATCH",i=[],o=n;return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Qn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qn({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const r_="1.4.1",o_={"X-Client-Info":`postgrest-js/${r_}`};class i_{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},o_),t),this.schema=r,this.fetch=i}from(n){const t=new URL(`${this.url}/${n}`);return new n_(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(n,t={},{head:r=!1,count:i}={}){let o;const s=new URL(`${this.url}/rpc/${n}`);let a;r?(o="HEAD",Object.entries(t).forEach(([c,u])=>{s.searchParams.append(c,`${u}`)})):(o="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Qn({method:o,url:s,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var mi,yl;function s_(){if(yl)return mi;yl=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return mi=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),mi}const a_="websocket",l_="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",c_=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],u_="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",d_=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],f_="1.0.34",h_={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},p_="https://github.com/theturtle32/WebSocket-Node",v_={node:">=4.0.0"},g_={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},m_={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},y_={verbose:!1},b_={test:"tape test/unit/*.js",gulp:"gulp"},__="index",w_={lib:"./lib"},x_="lib/browser.js",E_="Apache-2.0",T_={name:a_,description:l_,keywords:c_,author:u_,contributors:d_,version:f_,repository:h_,homepage:p_,engines:v_,dependencies:g_,devDependencies:m_,config:y_,scripts:b_,main:__,directories:w_,browser:x_,license:E_};var O_=T_.version,Nn;if(typeof globalThis=="object")Nn=globalThis;else try{Nn=s_()}catch{}finally{if(!Nn&&typeof window<"u"&&(Nn=window),!Nn)throw new Error("Could not determine global this")}var Ur=Nn.WebSocket||Nn.MozWebSocket,k_=O_;function Iu(e,n){var t;return n?t=new Ur(e,n):t=new Ur(e),t}Ur&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(Iu,e,{get:function(){return Ur[e]}})});var S_={w3cwebsocket:Ur?Iu:null,version:k_};const P_="2.7.1",A_={"X-Client-Info":`realtime-js/${P_}`},C_="1.0.0",ju=1e4,I_=1e3;var Sr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sr||(Sr={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jt||(jt={}));var Yi;(function(e){e.websocket="websocket"})(Yi||(Yi={}));var Rn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rn||(Rn={}));class Mu{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class j_{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(n.slice(s,s+i));s=s+i;const l=r.decode(n.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class yi{constructor(n,t,r={},i=ju){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var bl;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bl||(bl={}));class Pr{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pr.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Pr.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pr.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0),v=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){const d=n[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const _l=(e,n,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=M_(s,e,n,i),o),{})},M_=(e,n,t,r)=>{const i=n.find(a=>a.name===e),o=i==null?void 0:i.type,s=t[e];return o&&!r.includes(o)?Lu(o,s):Xi(s)},Lu=(e,n)=>{if(e.charAt(0)==="_"){const t=e.slice(1,e.length);return $_(n,t)}switch(e){case Ce.bool:return L_(n);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return N_(n);case Ce.json:case Ce.jsonb:return R_(n);case Ce.timestamp:return D_(n);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Xi(n);default:return Xi(n)}},Xi=e=>e,L_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N_=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},R_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},$_=(e,n)=>{if(typeof e!="string")return e;const t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Lu(n,a))}return e},D_=e=>typeof e=="string"?e.replace(" ","T"):e;var wl=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},xl;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xl||(xl={}));var El;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(El||(El={}));var Tl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tl||(Tl={}));class Hs{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new yi(this,jt.join,this.params,this.timeout),this.rejoinTimer=new Mu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Pr(this)}subscribe(n,t=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s}}=this.params;this._onError(c=>n&&n("CHANNEL_ERROR",c)),this._onClose(()=>n&&n("CLOSED"));const a={},l={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){n&&n("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,f=(u=d==null?void 0:d.length)!==null&&u!==void 0?u:0,h=[];for(let p=0;p<f;p++){const v=d[p],{filter:{event:m,schema:g,table:y,filter:w}}=v,_=c&&c[p];if(_&&_.event===m&&_.schema===g&&_.table===y&&_.filter===w)h.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,n&&n("SUBSCRIBED");return}}).receive("error",c=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(n,t={}){return wl(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(n={}){return wl(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(n,t={}){return new Promise(r=>{var i,o,s;const a=this._push(n.type,n,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),n.type==="broadcast"&&!(!((s=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ft.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new yi(this,jt.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yi(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;const s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=jt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,v,m;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(v=h.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var p,v,m,g,y,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,b=(p=h.filter)===null||p===void 0?void 0:p.event;return _&&((v=t.ids)===null||v===void 0?void 0:v.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const _=(y=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:m,commit_timestamp:g,type:y,errors:w}=p;f=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:g,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Hs.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(jt.close,{},n)}_onError(n){this._on(jt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=_l(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=_l(n.columns,n.old_record)),t}}var bi=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const F_=()=>{};class z_{constructor(n,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=A_,this.params={},this.timeout=ju,this.transport=S_.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=F_,this.conn=null,this.sendBuffer=[],this.serializer=new j_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${n}/${Yi.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mu(()=>bi(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n)))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return bi(this,void 0,void 0,function*(){const t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return bi(this,void 0,void 0,function*(){const n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return Rn.Connecting;case Sr.open:return Rn.Open;case Sr.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}channel(n,t={config:{}}){this.isConnected()||this.connect();const r=new Hs(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){const{topic:t,event:r,payload:i,ref:o}=n;let s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};if(this.log("push",`${t} ${r} (${o})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(s)())return"rate limited"}else s();else this.sendBuffer.push(s)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(jt.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C_}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;(s&&s===this.pendingHeartbeatRef||i===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(jt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;const r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(I_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(n,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(n(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class Nu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function it(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class B_ extends Nu{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ol extends Nu{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}var Ru=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const $u=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>Ru(void 0,void 0,void 0,function*(){return yield(yield Ko(()=>Promise.resolve().then(()=>Wo),void 0)).fetch(...t)}):n=fetch,(...t)=>n(...t)},U_=()=>Ru(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ko(()=>Promise.resolve().then(()=>Wo),void 0)).Response:Response});var hr=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H_=(e,n)=>hr(void 0,void 0,void 0,function*(){const t=yield U_();e instanceof t?e.json().then(r=>{n(new B_(_i(r),e.status||500))}).catch(r=>{n(new Ol(_i(r),r))}):n(new Ol(_i(e),e))}),G_=(e,n,t,r)=>{const i={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Yo(e,n,t,r,i,o){return hr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,G_(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>H_(l,a))})})}function Ji(e,n,t,r){return hr(this,void 0,void 0,function*(){return Yo(e,"GET",n,t,r)})}function $n(e,n,t,r,i){return hr(this,void 0,void 0,function*(){return Yo(e,"POST",n,r,i,t)})}function V_(e,n,t,r,i){return hr(this,void 0,void 0,function*(){return Yo(e,"PUT",n,r,i,t)})}function Du(e,n,t,r,i){return hr(this,void 0,void 0,function*(){return Yo(e,"DELETE",n,r,i,t)})}var Ft=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const Z_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W_{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=$u(i)}uploadOrUpdate(n,t,r,i){return Ft(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},K_),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl)):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,{method:n,body:o,headers:a});return u.ok?{data:{path:l},error:null}:{data:null,error:yield u.json()}}catch(o){if(it(o))return{data:null,error:o};throw o}})}upload(n,t,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}update(n,t,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t){return Ft(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}copy(n,t){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield $n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}createSignedUrl(n,t,r){return Ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield $n(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(it(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Ft(this,void 0,void 0,function*(){try{const i=yield $n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(it(i))return{data:null,error:i};throw i}})}download(n,t){return Ft(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(n);return{data:yield(yield Ji(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Ft(this,void 0,void 0,function*(){try{return{data:yield Du(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}})}list(n,t,r){return Ft(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Z_),t),{prefix:n||""});return{data:yield $n(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(it(i))return{data:null,error:i};throw i}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const Y_="2.3.1",X_={"X-Client-Info":`storage-js/${Y_}`};var Xn=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};class J_{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},X_),t),this.fetch=$u(r)}listBuckets(){return Xn(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}getBucket(n){return Xn(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Xn(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public},{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Xn(this,void 0,void 0,function*(){try{return{data:yield V_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public},{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Xn(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Xn(this,void 0,void 0,function*(){try{return{data:yield Du(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}})}}class Q_ extends J_{constructor(n,t={},r){super(n,t,r)}from(n){return new W_(this.url,this.headers,n,this.fetch)}}const q_="2.12.1",ew={"X-Client-Info":`supabase-js/${q_}`};var tw=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const nw=e=>{let n;return e?n=e:typeof fetch>"u"?n=Us:n=fetch,(...t)=>n(...t)},rw=()=>typeof Headers>"u"?cr.Headers:Headers,ow=(e,n,t)=>{const r=nw(t),i=rw();return(o,s)=>tw(void 0,void 0,void 0,function*(){var a;const l=(a=yield n())!==null&&a!==void 0?a:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};function iw(e){return e.replace(/\/$/,"")}function sw(e,n){const{db:t,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:l,global:c}=n;return{db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o)}}var Kr=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};function aw(e){return Math.round(Date.now()/1e3)+e}function lw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const Cn=()=>typeof document<"u",On={tested:!1,writable:!1},wi=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(On.tested)return On.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),On.tested=!0,On.writable=!0}catch{On.tested=!0,On.writable=!1}return On.writable};function Tt(e,n){var t;n||(n=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(n);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const Fu=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>Kr(void 0,void 0,void 0,function*(){return yield(yield Ko(()=>Promise.resolve().then(()=>Wo),void 0)).fetch(...t)}):n=fetch,(...t)=>n(...t)},cw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uw=(e,n,t)=>Kr(void 0,void 0,void 0,function*(){yield e.setItem(n,JSON.stringify(t))}),kl=(e,n)=>Kr(void 0,void 0,void 0,function*(){const t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),dw=(e,n)=>Kr(void 0,void 0,void 0,function*(){yield e.removeItem(n)});function fw(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,o,s,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=n.indexOf(e.charAt(u++)),a=n.indexOf(e.charAt(u++)),l=n.indexOf(e.charAt(u++)),c=n.indexOf(e.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}class Xo{constructor(){this.promise=new Xo.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}Xo.promiseConstructor=Promise;function Sl(e){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(fw(r))}function hw(e){return new Promise(n=>{setTimeout(()=>n(null),e)})}function pw(e,n){return new Promise((r,i)=>{Kr(this,void 0,void 0,function*(){for(let o=0;o<1/0;o++)try{const s=yield e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}class Gs extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vw extends Gs{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function gw(e){return ke(e)&&e.name==="AuthApiError"}class zu extends Gs{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class Jo extends Gs{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class br extends Jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class xi extends Jo{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class Kt extends Jo{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qi extends Jo{constructor(n,t){super(n,"AuthRetryableFetchError",t)}}var Vs=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},mw=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yw=(e,n)=>Vs(void 0,void 0,void 0,function*(){const t=[502,503,504];cw(e)?t.includes(e.status)?n(new Qi(oo(e),e.status)):e.json().then(r=>{n(new vw(oo(r),e.status||500))}).catch(r=>{n(new zu(oo(r),r))}):n(new Qi(oo(e),0))}),bw=(e,n,t,r)=>{const i={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Ae(e,n,t,r){var i;return Vs(this,void 0,void 0,function*(){const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield _w(e,n,t+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function _w(e,n,t,r,i,o){return Vs(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,bw(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>yw(l,a))})})}function kn(e){var n;let t=null;Tw(e)&&(t=Object.assign({},e),t.expires_at=aw(e.expires_in));const r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Dn(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function ww(e){return{data:e,error:null}}function xw(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=mw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Ew(e){return e}function Tw(e){return e.access_token&&e.refresh_token&&e.expires_in}var zt=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Ow=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};class kw{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Fu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){return zt(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}inviteUserByEmail(n,t={}){return zt(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Dn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}})}generateLink(n){return zt(this,void 0,void 0,function*(){try{const{options:t}=n,r=Ow(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),yield Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xw,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ke(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return zt(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Dn})}catch(t){if(ke(t))return{data:{user:null},error:t};throw t}})}listUsers(n){var t,r,i,o,s,a,l;return zt(this,void 0,void 0,function*(){try{const c={nextPage:null,lastPage:0,total:0},u=yield Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n==null?void 0:n.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n==null?void 0:n.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ew});if(u.error)throw u.error;const d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ke(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return zt(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Dn})}catch(t){if(ke(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return zt(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Dn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return zt(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Dn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return zt(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield Ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return zt(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}}const Sw="2.16.0",Pw="http://localhost:9999",Aw="supabase.auth.token",Cw={"X-Client-Info":`gotrue-js/${Sw}`},Iw=10,jw={getItem:e=>wi()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{wi()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{wi()&&globalThis.localStorage.removeItem(e)}};function Mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var me=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};Mw();const Lw={url:Pw,storageKey:Aw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cw},Ei=10*1e3,Nw=3;class Rw{constructor(n){var t;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const r=Object.assign(Object.assign({},Lw),n);if(this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||jw,this.admin=new kw({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Fu(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",i=>{this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return me(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};const{session:r,redirectType:i}=n;return yield this._saveSession(r),setTimeout(()=>{this._notifyAllSubscribers("SIGNED_IN",r),i==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",r)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new zu("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange()}})}signUp(n){var t,r;return me(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in n){const{email:c,password:u,options:d}=n;i=yield Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:u,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:kn})}else if("phone"in n){const{phone:c,password:u,options:d}=n;i=yield Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:kn})}else throw new xi("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const a=o.session,l=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(n){var t;return me(this,void 0,void 0,function*(){try{yield this._removeSession();let r;if("email"in n){const{email:s,password:a,options:l}=n;r=yield Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kn})}else if("phone"in n){const{phone:s,password:a,options:l}=n;r=yield Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(t=l==null?void 0:l.channel)!==null&&t!==void 0?t:"sms"},xform:kn})}else throw new xi("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o||!i?{data:{user:null,session:null},error:o}:(i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:o})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){var t,r,i,o;return me(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(n.provider,{redirectTo:(t=n.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}signInWithIdToken(n){return me(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:t,provider:r,token:i,nonce:o}=n,s=yield Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:kn}),{data:a,error:l}=s;return l||!a?{data:{user:null,session:null},error:l}:(a.session&&(yield this._saveSession(a.session),this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(n){var t,r,i,o,s;return me(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in n){const{email:a,options:l}=n,{error:c}=yield Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in n){const{phone:a,options:l}=n,{error:c}=yield Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null},error:c}}throw new xi("You must provide either an email or phone number.")}catch(a){if(ke(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(n){var t,r;return me(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:o}=yield Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:(t=n.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,xform:kn});if(o)throw o;if(!i)throw"An error occurred on token verification.";const s=i.session,a=i.user;return s!=null&&s.access_token&&(yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:a,session:s},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){var t,r,i;return me(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(t=n.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=n==null?void 0:n.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:ww})}catch(o){if(ke(o))return{data:null,error:o};throw o}})}getSession(){return me(this,void 0,void 0,function*(){yield this.initializePromise;let n=null;if(this.persistSession){const o=yield kl(this.storage,this.storageKey);o!==null&&(this._isValidSession(o)?n=o:yield this._removeSession())}else n=this.inMemorySession;if(!n)return{data:{session:null},error:null};if(!(n.expires_at?n.expires_at<=Date.now()/1e3:!1))return{data:{session:n},error:null};const{session:r,error:i}=yield this._callRefreshToken(n.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}})}getUser(n){var t,r;return me(this,void 0,void 0,function*(){try{if(!n){const{data:i,error:o}=yield this.getSession();if(o)throw o;n=(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0}return yield Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Dn})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}})}updateUser(n,t={}){return me(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)throw i;if(!r.session)throw new br;const o=r.session,{data:s,error:a}=yield Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:n,jwt:o.access_token,xform:Dn});if(a)throw a;return o.user=s.user,yield this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}})}_decodeJWT(n){return Sl(n)}setSession(n){return me(this,void 0,void 0,function*(){try{if(!n.access_token||!n.refresh_token)throw new br;const t=Date.now()/1e3;let r=t,i=!0,o=null;const s=Sl(n.access_token);if(s.exp&&(r=s.exp,i=r<=t),i){const{session:a,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=yield this.getUser(n.access_token);if(l)throw l;o={access_token:n.access_token,refresh_token:n.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(ke(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(n){var t;return me(this,void 0,void 0,function*(){try{if(!n){const{data:o,error:s}=yield this.getSession();if(s)throw s;n=(t=o.session)!==null&&t!==void 0?t:void 0}if(!(n!=null&&n.refresh_token))throw new br;const{session:r,error:i}=yield this._callRefreshToken(n.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(){return me(this,void 0,void 0,function*(){try{if(!Cn())throw new Kt("No browser detected.");if(!this._isImplicitGrantFlow())throw new Kt("Not a valid implicit grant flow url.");const n=Tt("error_description");if(n){const v=Tt("error_code");if(!v)throw new Kt("No error_code detected.");const m=Tt("error");throw m?new Kt(n,{error:m,code:v}):new Kt("No error detected.")}const t=Tt("provider_token"),r=Tt("provider_refresh_token"),i=Tt("access_token");if(!i)throw new Kt("No access_token detected.");const o=Tt("expires_in");if(!o)throw new Kt("No expires_in detected.");const s=Tt("refresh_token");if(!s)throw new Kt("No refresh_token detected.");const a=Tt("token_type");if(!a)throw new Kt("No token_type detected.");const c=Math.round(Date.now()/1e3)+parseInt(o),{data:u,error:d}=yield this.getUser(i);if(d)throw d;const f=u.user,h={provider_token:t,provider_refresh_token:r,access_token:i,expires_in:parseInt(o),expires_at:c,refresh_token:s,token_type:a,user:f},p=Tt("type");return window.location.hash="",{data:{session:h,redirectType:p},error:null}}catch(n){if(ke(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantFlow(){return Cn()&&(!!Tt("access_token")||!!Tt("error_description"))}signOut(){var n;return me(this,void 0,void 0,function*(){const{data:t,error:r}=yield this.getSession();if(r)return{error:r};const i=(n=t.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=yield this.admin.signOut(i);if(o&&!(gw(o)&&(o.status===404||o.status===401)))return{error:o}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(n){const t=lw(),r={id:t,callback:n,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),this.emitInitialSession(t),{data:{subscription:r}}}emitInitialSession(n){var t,r;return me(this,void 0,void 0,function*(){try{const{data:{session:i},error:o}=yield this.getSession();if(o)throw o;(t=this.stateChangeEmitters.get(n))===null||t===void 0||t.callback("INITIAL_SESSION",i)}catch(i){(r=this.stateChangeEmitters.get(n))===null||r===void 0||r.callback("INITIAL_SESSION",null),console.error(i)}})}resetPasswordForEmail(n,t={}){return me(this,void 0,void 0,function*(){try{return yield Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return me(this,void 0,void 0,function*(){try{const t=Date.now();return yield pw(r=>me(this,void 0,void 0,function*(){return yield hw(r*200),yield Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:kn})}),(r,i,o)=>o&&o.error&&o.error instanceof Qi&&Date.now()+(r+1)*200-t<Ei)}catch(t){if(ke(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,t={}){const r=this._getUrlForProvider(n,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return Cn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}_recoverAndRefresh(){var n;return me(this,void 0,void 0,function*(){try{const t=yield kl(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((n=t.expires_at)!==null&&n!==void 0?n:1/0)<r+Iw)if(this.autoRefreshToken&&t.refresh_token){const{error:i}=yield this._callRefreshToken(t.refresh_token);i&&(console.log(i.message),yield this._removeSession())}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(n){var t,r;return me(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Xo,!n)throw new br;const{data:i,error:o}=yield this._refreshAccessToken(n);if(o)throw o;if(!i.session)throw new br;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={session:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(ke(i)){const o={session:null,error:i};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(n,t,r=!0){this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:t}),this.stateChangeEmitters.forEach(i=>i.callback(n,t))}_saveSession(n){return me(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=n),this.persistSession&&n.expires_at&&(yield this._persistSession(n))})}_persistSession(n){return uw(this.storage,this.storageKey,n)}_removeSession(){return me(this,void 0,void 0,function*(){this.persistSession?yield dw(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return me(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const n=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"&&n.unref(),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return me(this,void 0,void 0,function*(){const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return me(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return me(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return me(this,void 0,void 0,function*(){const n=Date.now();try{const{data:{session:t}}=yield this.getSession();if(!t||!t.refresh_token||!t.expires_at)return;Math.floor((t.expires_at*1e3-n)/Ei)<Nw&&(yield this._callRefreshToken(t.refresh_token))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}})}_handleVisibilityChange(){return me(this,void 0,void 0,function*(){if(!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>me(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return me(this,void 0,void 0,function*(){document.visibilityState==="visible"?(n||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,t){const r=[`provider=${encodeURIComponent(n)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const i=new URLSearchParams(t.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}_unenroll(n){var t;return me(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield Ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}_enroll(n){var t,r;return me(this,void 0,void 0,function*(){try{const{data:i,error:o}=yield this.getSession();if(o)return{data:null,error:o};const{data:s,error:a}=yield Ae(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(t=i==null?void 0:i.session)===null||t===void 0?void 0:t.access_token});return a?{data:null,error:a}:(!((r=s==null?void 0:s.totp)===null||r===void 0)&&r.qr_code&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})}catch(i){if(ke(i))return{data:null,error:i};throw i}})}_verify(n){var t;return me(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:o,error:s}=yield Ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token});return s?{data:null,error:s}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}_challenge(n){var t;return me(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield Ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}_challengeAndVerify(n){return me(this,void 0,void 0,function*(){const{data:t,error:r}=yield this._challenge({factorId:n.factorId});return r?{data:null,error:r}:yield this._verify({factorId:n.factorId,challengeId:t.id,code:n.code})})}_listFactors(){return me(this,void 0,void 0,function*(){const{data:{user:n},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(n==null?void 0:n.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var n,t;return me(this,void 0,void 0,function*(){const{data:{session:r},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let s=null;o.aal&&(s=o.aal);let a=s;((t=(n=r.user.factors)===null||n===void 0?void 0:n.filter(u=>u.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:c},error:null}})}}class $w extends Rw{constructor(n){super(n)}}var Dw=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};const Fw={headers:ew},zw={schema:"public"},Bw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Uw={};class Hw{constructor(n,t,r){var i,o,s,a,l,c,u,d;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const f=iw(n);if(this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,f.match(/(supabase\.co)|(supabase\.in)/)){const g=f.split(".");this.functionsUrl=`${g[0]}.functions.${g[1]}.${g[2]}`}else this.functionsUrl=`${f}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:zw,realtime:Uw,auth:Object.assign(Object.assign({},Bw),{storageKey:p}),global:Fw},m=sw(r??{},v);this.storageKey=(o=(i=m.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=m.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=ow(t,this._getAccessToken.bind(this),(u=m.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new i_(`${f}/rest/v1`,{headers:this.headers,schema:(d=m.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new J0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Q_(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}rpc(n,t={},r){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return Dw(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o},s,a){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $w({url:this.authUrl,headers:Object.assign(Object.assign({},l),s),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,fetch:a})}_initRealtimeClient(n){return new z_(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):(n==="SIGNED_OUT"||n==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gw=(e,n,t)=>new Hw(e,n,t),Vw="https://qcwxpsftgxqdqumdjrnr.supabase.co",Zw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjd3hwc2Z0Z3hxZHF1bWRqcm5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzU1OTA2MjEsImV4cCI6MTk5MTE2NjYyMX0.Zt738ws0HBGY-FbJZuieIA5CI4yPguP2PU5tHs-AS6E",Ti=Gw(Vw,Zw);function io(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pl={},Kw={get exports(){return Pl},set exports(e){Pl=e}};(function(e,n){(function(t){e.exports=t()})(function(){return function(){function t(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof io=="function"&&io;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[c]={exports:{}};r[c][0].call(h.exports,function(p){var v=r[c][1][p];return s(v||p)},h,h.exports,t,r,i,o)}return i[c].exports}for(var a=typeof io=="function"&&io,l=0;l<o.length;l++)s(o[l]);return s}return t}()({1:[function(t,r,i){r.exports={graphlib:t("./lib/graphlib"),layout:t("./lib/layout"),debug:t("./lib/debug"),util:{time:t("./lib/util").time,notime:t("./lib/util").notime},version:t("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(t,r,i){var o=t("./lodash"),s=t("./greedy-fas");r.exports={run:a,undo:c};function a(u){var d=u.graph().acyclicer==="greedy"?s(u,f(u)):l(u);o.forEach(d,function(h){var p=u.edge(h);u.removeEdge(h),p.forwardName=h.name,p.reversed=!0,u.setEdge(h.w,h.v,p,o.uniqueId("rev"))});function f(h){return function(p){return h.edge(p).weight}}}function l(u){var d=[],f={},h={};function p(v){o.has(h,v)||(h[v]=!0,f[v]=!0,o.forEach(u.outEdges(v),function(m){o.has(f,m.w)?d.push(m):p(m.w)}),delete f[v])}return o.forEach(u.nodes(),p),d}function c(u){o.forEach(u.edges(),function(d){var f=u.edge(d);if(f.reversed){u.removeEdge(d);var h=f.forwardName;delete f.reversed,delete f.forwardName,u.setEdge(d.w,d.v,f,h)}})}},{"./greedy-fas":8,"./lodash":10}],3:[function(t,r,i){var o=t("./lodash"),s=t("./util");r.exports=a;function a(c){function u(d){var f=c.children(d),h=c.node(d);if(f.length&&o.forEach(f,u),o.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var p=h.minRank,v=h.maxRank+1;p<v;++p)l(c,"borderLeft","_bl",d,h,p),l(c,"borderRight","_br",d,h,p)}}o.forEach(c.children(),u)}function l(c,u,d,f,h,p){var v={width:0,height:0,rank:p,borderType:u},m=h[u][p-1],g=s.addDummyNode(c,"border",v,d);h[u][p]=g,c.setParent(g,f),m&&c.setEdge(m,g,{weight:1})}},{"./lodash":10,"./util":29}],4:[function(t,r,i){var o=t("./lodash");r.exports={adjust:s,undo:a};function s(p){var v=p.graph().rankdir.toLowerCase();(v==="lr"||v==="rl")&&l(p)}function a(p){var v=p.graph().rankdir.toLowerCase();(v==="bt"||v==="rl")&&u(p),(v==="lr"||v==="rl")&&(f(p),l(p))}function l(p){o.forEach(p.nodes(),function(v){c(p.node(v))}),o.forEach(p.edges(),function(v){c(p.edge(v))})}function c(p){var v=p.width;p.width=p.height,p.height=v}function u(p){o.forEach(p.nodes(),function(v){d(p.node(v))}),o.forEach(p.edges(),function(v){var m=p.edge(v);o.forEach(m.points,d),o.has(m,"y")&&d(m)})}function d(p){p.y=-p.y}function f(p){o.forEach(p.nodes(),function(v){h(p.node(v))}),o.forEach(p.edges(),function(v){var m=p.edge(v);o.forEach(m.points,h),o.has(m,"x")&&h(m)})}function h(p){var v=p.x;p.x=p.y,p.y=v}},{"./lodash":10}],5:[function(t,r,i){r.exports=o;function o(){var l={};l._next=l._prev=l,this._sentinel=l}o.prototype.dequeue=function(){var l=this._sentinel,c=l._prev;if(c!==l)return s(c),c},o.prototype.enqueue=function(l){var c=this._sentinel;l._prev&&l._next&&s(l),l._next=c._next,c._next._prev=l,c._next=l,l._prev=c},o.prototype.toString=function(){for(var l=[],c=this._sentinel,u=c._prev;u!==c;)l.push(JSON.stringify(u,a)),u=u._prev;return"["+l.join(", ")+"]"};function s(l){l._prev._next=l._next,l._next._prev=l._prev,delete l._next,delete l._prev}function a(l,c){if(l!=="_next"&&l!=="_prev")return c}},{}],6:[function(t,r,i){var o=t("./lodash"),s=t("./util"),a=t("./graphlib").Graph;r.exports={debugOrdering:l};function l(c){var u=s.buildLayerMatrix(c),d=new a({compound:!0,multigraph:!0}).setGraph({});return o.forEach(c.nodes(),function(f){d.setNode(f,{label:f}),d.setParent(f,"layer"+c.node(f).rank)}),o.forEach(c.edges(),function(f){d.setEdge(f.v,f.w,{},f.name)}),o.forEach(u,function(f,h){var p="layer"+h;d.setNode(p,{rank:"same"}),o.reduce(f,function(v,m){return d.setEdge(v,m,{style:"invis"}),m})}),d}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(t,r,i){var o;if(typeof t=="function")try{o=t("graphlib")}catch{}o||(o=window.graphlib),r.exports=o},{graphlib:31}],8:[function(t,r,i){var o=t("./lodash"),s=t("./graphlib").Graph,a=t("./data/list");r.exports=c;var l=o.constant(1);function c(p,v){if(p.nodeCount()<=1)return[];var m=f(p,v||l),g=u(m.graph,m.buckets,m.zeroIdx);return o.flatten(o.map(g,function(y){return p.outEdges(y.v,y.w)}),!0)}function u(p,v,m){for(var g=[],y=v[v.length-1],w=v[0],_;p.nodeCount();){for(;_=w.dequeue();)d(p,v,m,_);for(;_=y.dequeue();)d(p,v,m,_);if(p.nodeCount()){for(var b=v.length-2;b>0;--b)if(_=v[b].dequeue(),_){g=g.concat(d(p,v,m,_,!0));break}}}return g}function d(p,v,m,g,y){var w=y?[]:void 0;return o.forEach(p.inEdges(g.v),function(_){var b=p.edge(_),x=p.node(_.v);y&&w.push({v:_.v,w:_.w}),x.out-=b,h(v,m,x)}),o.forEach(p.outEdges(g.v),function(_){var b=p.edge(_),x=_.w,T=p.node(x);T.in-=b,h(v,m,T)}),p.removeNode(g.v),w}function f(p,v){var m=new s,g=0,y=0;o.forEach(p.nodes(),function(b){m.setNode(b,{v:b,in:0,out:0})}),o.forEach(p.edges(),function(b){var x=m.edge(b.v,b.w)||0,T=v(b),E=x+T;m.setEdge(b.v,b.w,E),y=Math.max(y,m.node(b.v).out+=T),g=Math.max(g,m.node(b.w).in+=T)});var w=o.range(y+g+3).map(function(){return new a}),_=g+1;return o.forEach(m.nodes(),function(b){h(w,_,m.node(b))}),{graph:m,buckets:w,zeroIdx:_}}function h(p,v,m){m.out?m.in?p[m.out-m.in+v].enqueue(m):p[p.length-1].enqueue(m):p[0].enqueue(m)}},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(t,r,i){var o=t("./lodash"),s=t("./acyclic"),a=t("./normalize"),l=t("./rank"),c=t("./util").normalizeRanks,u=t("./parent-dummy-chains"),d=t("./util").removeEmptyRanks,f=t("./nesting-graph"),h=t("./add-border-segments"),p=t("./coordinate-system"),v=t("./order"),m=t("./position"),g=t("./util"),y=t("./graphlib").Graph;r.exports=w;function w(z,V){var K=V&&V.debugTiming?g.time:g.notime;K("layout",function(){var O=K("  buildLayoutGraph",function(){return k(z)});K("  runLayout",function(){_(O,K)}),K("  updateInputGraph",function(){b(z,O)})})}function _(z,V){V("    makeSpaceForEdgeLabels",function(){j(z)}),V("    removeSelfEdges",function(){rt(z)}),V("    acyclic",function(){s.run(z)}),V("    nestingGraph.run",function(){f.run(z)}),V("    rank",function(){l(g.asNonCompoundGraph(z))}),V("    injectEdgeLabelProxies",function(){L(z)}),V("    removeEmptyRanks",function(){d(z)}),V("    nestingGraph.cleanup",function(){f.cleanup(z)}),V("    normalizeRanks",function(){c(z)}),V("    assignRankMinMax",function(){U(z)}),V("    removeEdgeLabelProxies",function(){G(z)}),V("    normalize.run",function(){a.run(z)}),V("    parentDummyChains",function(){u(z)}),V("    addBorderSegments",function(){h(z)}),V("    order",function(){v(z)}),V("    insertSelfEdges",function(){Zt(z)}),V("    adjustCoordinateSystem",function(){p.adjust(z)}),V("    position",function(){m(z)}),V("    positionSelfEdges",function(){Ze(z)}),V("    removeBorderNodes",function(){yt(z)}),V("    normalize.undo",function(){a.undo(z)}),V("    fixupEdgeLabelCoords",function(){ve(z)}),V("    undoCoordinateSystem",function(){p.undo(z)}),V("    translateGraph",function(){Y(z)}),V("    assignNodeIntersects",function(){le(z)}),V("    reversePoints",function(){je(z)}),V("    acyclic.undo",function(){s.undo(z)})}function b(z,V){o.forEach(z.nodes(),function(K){var O=z.node(K),I=V.node(K);O&&(O.x=I.x,O.y=I.y,V.children(K).length&&(O.width=I.width,O.height=I.height))}),o.forEach(z.edges(),function(K){var O=z.edge(K),I=V.edge(K);O.points=I.points,o.has(I,"x")&&(O.x=I.x,O.y=I.y)}),z.graph().width=V.graph().width,z.graph().height=V.graph().height}var x=["nodesep","edgesep","ranksep","marginx","marginy"],T={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],S=["width","height"],P={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function k(z){var V=new y({multigraph:!0,compound:!0}),K=$t(z.graph());return V.setGraph(o.merge({},T,bt(K,x),o.pick(K,E))),o.forEach(z.nodes(),function(O){var I=$t(z.node(O));V.setNode(O,o.defaults(bt(I,S),P)),V.setParent(O,z.parent(O))}),o.forEach(z.edges(),function(O){var I=$t(z.edge(O));V.setEdge(O,o.merge({},A,bt(I,C),o.pick(I,N)))}),V}function j(z){var V=z.graph();V.ranksep/=2,o.forEach(z.edges(),function(K){var O=z.edge(K);O.minlen*=2,O.labelpos.toLowerCase()!=="c"&&(V.rankdir==="TB"||V.rankdir==="BT"?O.width+=O.labeloffset:O.height+=O.labeloffset)})}function L(z){o.forEach(z.edges(),function(V){var K=z.edge(V);if(K.width&&K.height){var O=z.node(V.v),I=z.node(V.w),R={rank:(I.rank-O.rank)/2+O.rank,e:V};g.addDummyNode(z,"edge-proxy",R,"_ep")}})}function U(z){var V=0;o.forEach(z.nodes(),function(K){var O=z.node(K);O.borderTop&&(O.minRank=z.node(O.borderTop).rank,O.maxRank=z.node(O.borderBottom).rank,V=o.max(V,O.maxRank))}),z.graph().maxRank=V}function G(z){o.forEach(z.nodes(),function(V){var K=z.node(V);K.dummy==="edge-proxy"&&(z.edge(K.e).labelRank=K.rank,z.removeNode(V))})}function Y(z){var V=Number.POSITIVE_INFINITY,K=0,O=Number.POSITIVE_INFINITY,I=0,R=z.graph(),B=R.marginx||0,H=R.marginy||0;function X(J){var F=J.x,W=J.y,D=J.width,ne=J.height;V=Math.min(V,F-D/2),K=Math.max(K,F+D/2),O=Math.min(O,W-ne/2),I=Math.max(I,W+ne/2)}o.forEach(z.nodes(),function(J){X(z.node(J))}),o.forEach(z.edges(),function(J){var F=z.edge(J);o.has(F,"x")&&X(F)}),V-=B,O-=H,o.forEach(z.nodes(),function(J){var F=z.node(J);F.x-=V,F.y-=O}),o.forEach(z.edges(),function(J){var F=z.edge(J);o.forEach(F.points,function(W){W.x-=V,W.y-=O}),o.has(F,"x")&&(F.x-=V),o.has(F,"y")&&(F.y-=O)}),R.width=K-V+B,R.height=I-O+H}function le(z){o.forEach(z.edges(),function(V){var K=z.edge(V),O=z.node(V.v),I=z.node(V.w),R,B;K.points?(R=K.points[0],B=K.points[K.points.length-1]):(K.points=[],R=I,B=O),K.points.unshift(g.intersectRect(O,R)),K.points.push(g.intersectRect(I,B))})}function ve(z){o.forEach(z.edges(),function(V){var K=z.edge(V);if(o.has(K,"x"))switch((K.labelpos==="l"||K.labelpos==="r")&&(K.width-=K.labeloffset),K.labelpos){case"l":K.x-=K.width/2+K.labeloffset;break;case"r":K.x+=K.width/2+K.labeloffset;break}})}function je(z){o.forEach(z.edges(),function(V){var K=z.edge(V);K.reversed&&K.points.reverse()})}function yt(z){o.forEach(z.nodes(),function(V){if(z.children(V).length){var K=z.node(V),O=z.node(K.borderTop),I=z.node(K.borderBottom),R=z.node(o.last(K.borderLeft)),B=z.node(o.last(K.borderRight));K.width=Math.abs(B.x-R.x),K.height=Math.abs(I.y-O.y),K.x=R.x+K.width/2,K.y=O.y+K.height/2}}),o.forEach(z.nodes(),function(V){z.node(V).dummy==="border"&&z.removeNode(V)})}function rt(z){o.forEach(z.edges(),function(V){if(V.v===V.w){var K=z.node(V.v);K.selfEdges||(K.selfEdges=[]),K.selfEdges.push({e:V,label:z.edge(V)}),z.removeEdge(V)}})}function Zt(z){var V=g.buildLayerMatrix(z);o.forEach(V,function(K){var O=0;o.forEach(K,function(I,R){var B=z.node(I);B.order=R+O,o.forEach(B.selfEdges,function(H){g.addDummyNode(z,"selfedge",{width:H.label.width,height:H.label.height,rank:B.rank,order:R+ ++O,e:H.e,label:H.label},"_se")}),delete B.selfEdges})})}function Ze(z){o.forEach(z.nodes(),function(V){var K=z.node(V);if(K.dummy==="selfedge"){var O=z.node(K.e.v),I=O.x+O.width/2,R=O.y,B=K.x-I,H=O.height/2;z.setEdge(K.e,K.label),z.removeNode(V),K.label.points=[{x:I+2*B/3,y:R-H},{x:I+5*B/6,y:R-H},{x:I+B,y:R},{x:I+5*B/6,y:R+H},{x:I+2*B/3,y:R+H}],K.label.x=K.x,K.label.y=K.y}})}function bt(z,V){return o.mapValues(o.pick(z,V),Number)}function $t(z){var V={};return o.forEach(z,function(K,O){V[O.toLowerCase()]=K}),V}},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(t,r,i){var o;if(typeof t=="function")try{o={cloneDeep:t("lodash/cloneDeep"),constant:t("lodash/constant"),defaults:t("lodash/defaults"),each:t("lodash/each"),filter:t("lodash/filter"),find:t("lodash/find"),flatten:t("lodash/flatten"),forEach:t("lodash/forEach"),forIn:t("lodash/forIn"),has:t("lodash/has"),isUndefined:t("lodash/isUndefined"),last:t("lodash/last"),map:t("lodash/map"),mapValues:t("lodash/mapValues"),max:t("lodash/max"),merge:t("lodash/merge"),min:t("lodash/min"),minBy:t("lodash/minBy"),now:t("lodash/now"),pick:t("lodash/pick"),range:t("lodash/range"),reduce:t("lodash/reduce"),sortBy:t("lodash/sortBy"),uniqueId:t("lodash/uniqueId"),values:t("lodash/values"),zipObject:t("lodash/zipObject")}}catch{}o||(o=window._),r.exports=o},{"lodash/cloneDeep":227,"lodash/constant":228,"lodash/defaults":229,"lodash/each":230,"lodash/filter":232,"lodash/find":233,"lodash/flatten":235,"lodash/forEach":236,"lodash/forIn":237,"lodash/has":239,"lodash/isUndefined":258,"lodash/last":261,"lodash/map":262,"lodash/mapValues":263,"lodash/max":264,"lodash/merge":266,"lodash/min":267,"lodash/minBy":268,"lodash/now":270,"lodash/pick":271,"lodash/range":273,"lodash/reduce":274,"lodash/sortBy":276,"lodash/uniqueId":286,"lodash/values":287,"lodash/zipObject":288}],11:[function(t,r,i){var o=t("./lodash"),s=t("./util");r.exports={run:a,cleanup:d};function a(f){var h=s.addDummyNode(f,"root",{},"_root"),p=c(f),v=o.max(o.values(p))-1,m=2*v+1;f.graph().nestingRoot=h,o.forEach(f.edges(),function(y){f.edge(y).minlen*=m});var g=u(f)+1;o.forEach(f.children(),function(y){l(f,h,m,g,v,p,y)}),f.graph().nodeRankFactor=m}function l(f,h,p,v,m,g,y){var w=f.children(y);if(!w.length){y!==h&&f.setEdge(h,y,{weight:0,minlen:p});return}var _=s.addBorderNode(f,"_bt"),b=s.addBorderNode(f,"_bb"),x=f.node(y);f.setParent(_,y),x.borderTop=_,f.setParent(b,y),x.borderBottom=b,o.forEach(w,function(T){l(f,h,p,v,m,g,T);var E=f.node(T),S=E.borderTop?E.borderTop:T,P=E.borderBottom?E.borderBottom:T,C=E.borderTop?v:2*v,A=S!==P?1:m-g[y]+1;f.setEdge(_,S,{weight:C,minlen:A,nestingEdge:!0}),f.setEdge(P,b,{weight:C,minlen:A,nestingEdge:!0})}),f.parent(y)||f.setEdge(h,_,{weight:0,minlen:m+g[y]})}function c(f){var h={};function p(v,m){var g=f.children(v);g&&g.length&&o.forEach(g,function(y){p(y,m+1)}),h[v]=m}return o.forEach(f.children(),function(v){p(v,1)}),h}function u(f){return o.reduce(f.edges(),function(h,p){return h+f.edge(p).weight},0)}function d(f){var h=f.graph();f.removeNode(h.nestingRoot),delete h.nestingRoot,o.forEach(f.edges(),function(p){var v=f.edge(p);v.nestingEdge&&f.removeEdge(p)})}},{"./lodash":10,"./util":29}],12:[function(t,r,i){var o=t("./lodash"),s=t("./util");r.exports={run:a,undo:c};function a(u){u.graph().dummyChains=[],o.forEach(u.edges(),function(d){l(u,d)})}function l(u,d){var f=d.v,h=u.node(f).rank,p=d.w,v=u.node(p).rank,m=d.name,g=u.edge(d),y=g.labelRank;if(v!==h+1){u.removeEdge(d);var w,_,b;for(b=0,++h;h<v;++b,++h)g.points=[],_={width:0,height:0,edgeLabel:g,edgeObj:d,rank:h},w=s.addDummyNode(u,"edge",_,"_d"),h===y&&(_.width=g.width,_.height=g.height,_.dummy="edge-label",_.labelpos=g.labelpos),u.setEdge(f,w,{weight:g.weight},m),b===0&&u.graph().dummyChains.push(w),f=w;u.setEdge(f,p,{weight:g.weight},m)}}function c(u){o.forEach(u.graph().dummyChains,function(d){var f=u.node(d),h=f.edgeLabel,p;for(u.setEdge(f.edgeObj,h);f.dummy;)p=u.successors(d)[0],u.removeNode(d),h.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(h.x=f.x,h.y=f.y,h.width=f.width,h.height=f.height),d=p,f=u.node(d)})}},{"./lodash":10,"./util":29}],13:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(a,l,c){var u={},d;o.forEach(c,function(f){for(var h=a.parent(f),p,v;h;){if(p=a.parent(h),p?(v=u[p],u[p]=h):(v=d,d=h),v&&v!==h){l.setEdge(v,h);return}h=p}})}},{"../lodash":10}],14:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(a,l){return o.map(l,function(c){var u=a.inEdges(c);if(u.length){var d=o.reduce(u,function(f,h){var p=a.edge(h),v=a.node(h.v);return{sum:f.sum+p.weight*v.order,weight:f.weight+p.weight}},{sum:0,weight:0});return{v:c,barycenter:d.sum/d.weight,weight:d.weight}}else return{v:c}})}},{"../lodash":10}],15:[function(t,r,i){var o=t("../lodash"),s=t("../graphlib").Graph;r.exports=a;function a(c,u,d){var f=l(c),h=new s({compound:!0}).setGraph({root:f}).setDefaultNodeLabel(function(p){return c.node(p)});return o.forEach(c.nodes(),function(p){var v=c.node(p),m=c.parent(p);(v.rank===u||v.minRank<=u&&u<=v.maxRank)&&(h.setNode(p),h.setParent(p,m||f),o.forEach(c[d](p),function(g){var y=g.v===p?g.w:g.v,w=h.edge(y,p),_=o.isUndefined(w)?0:w.weight;h.setEdge(y,p,{weight:c.edge(g).weight+_})}),o.has(v,"minRank")&&h.setNode(p,{borderLeft:v.borderLeft[u],borderRight:v.borderRight[u]}))}),h}function l(c){for(var u;c.hasNode(u=o.uniqueId("_root")););return u}},{"../graphlib":7,"../lodash":10}],16:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(l,c){for(var u=0,d=1;d<c.length;++d)u+=a(l,c[d-1],c[d]);return u}function a(l,c,u){for(var d=o.zipObject(u,o.map(u,function(g,y){return y})),f=o.flatten(o.map(c,function(g){return o.sortBy(o.map(l.outEdges(g),function(y){return{pos:d[y.w],weight:l.edge(y).weight}}),"pos")}),!0),h=1;h<u.length;)h<<=1;var p=2*h-1;h-=1;var v=o.map(new Array(p),function(){return 0}),m=0;return o.forEach(f.forEach(function(g){var y=g.pos+h;v[y]+=g.weight;for(var w=0;y>0;)y%2&&(w+=v[y+1]),y=y-1>>1,v[y]+=g.weight;m+=g.weight*w})),m}},{"../lodash":10}],17:[function(t,r,i){var o=t("../lodash"),s=t("./init-order"),a=t("./cross-count"),l=t("./sort-subgraph"),c=t("./build-layer-graph"),u=t("./add-subgraph-constraints"),d=t("../graphlib").Graph,f=t("../util");r.exports=h;function h(g){var y=f.maxRank(g),w=p(g,o.range(1,y+1),"inEdges"),_=p(g,o.range(y-1,-1,-1),"outEdges"),b=s(g);m(g,b);for(var x=Number.POSITIVE_INFINITY,T,E=0,S=0;S<4;++E,++S){v(E%2?w:_,E%4>=2),b=f.buildLayerMatrix(g);var P=a(g,b);P<x&&(S=0,T=o.cloneDeep(b),x=P)}m(g,T)}function p(g,y,w){return o.map(y,function(_){return c(g,_,w)})}function v(g,y){var w=new d;o.forEach(g,function(_){var b=_.graph().root,x=l(_,b,w,y);o.forEach(x.vs,function(T,E){_.node(T).order=E}),u(_,w,x.vs)})}function m(g,y){o.forEach(y,function(w){o.forEach(w,function(_,b){g.node(_).order=b})})}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(a){var l={},c=o.filter(a.nodes(),function(p){return!a.children(p).length}),u=o.max(o.map(c,function(p){return a.node(p).rank})),d=o.map(o.range(u+1),function(){return[]});function f(p){if(!o.has(l,p)){l[p]=!0;var v=a.node(p);d[v.rank].push(p),o.forEach(a.successors(p),f)}}var h=o.sortBy(c,function(p){return a.node(p).rank});return o.forEach(h,f),d}},{"../lodash":10}],19:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(c,u){var d={};o.forEach(c,function(h,p){var v=d[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:p};o.isUndefined(h.barycenter)||(v.barycenter=h.barycenter,v.weight=h.weight)}),o.forEach(u.edges(),function(h){var p=d[h.v],v=d[h.w];!o.isUndefined(p)&&!o.isUndefined(v)&&(v.indegree++,p.out.push(d[h.w]))});var f=o.filter(d,function(h){return!h.indegree});return a(f)}function a(c){var u=[];function d(p){return function(v){v.merged||(o.isUndefined(v.barycenter)||o.isUndefined(p.barycenter)||v.barycenter>=p.barycenter)&&l(p,v)}}function f(p){return function(v){v.in.push(p),--v.indegree===0&&c.push(v)}}for(;c.length;){var h=c.pop();u.push(h),o.forEach(h.in.reverse(),d(h)),o.forEach(h.out,f(h))}return o.map(o.filter(u,function(p){return!p.merged}),function(p){return o.pick(p,["vs","i","barycenter","weight"])})}function l(c,u){var d=0,f=0;c.weight&&(d+=c.barycenter*c.weight,f+=c.weight),u.weight&&(d+=u.barycenter*u.weight,f+=u.weight),c.vs=u.vs.concat(c.vs),c.barycenter=d/f,c.weight=f,c.i=Math.min(u.i,c.i),u.merged=!0}},{"../lodash":10}],20:[function(t,r,i){var o=t("../lodash"),s=t("./barycenter"),a=t("./resolve-conflicts"),l=t("./sort");r.exports=c;function c(f,h,p,v){var m=f.children(h),g=f.node(h),y=g?g.borderLeft:void 0,w=g?g.borderRight:void 0,_={};y&&(m=o.filter(m,function(P){return P!==y&&P!==w}));var b=s(f,m);o.forEach(b,function(P){if(f.children(P.v).length){var C=c(f,P.v,p,v);_[P.v]=C,o.has(C,"barycenter")&&d(P,C)}});var x=a(b,p);u(x,_);var T=l(x,v);if(y&&(T.vs=o.flatten([y,T.vs,w],!0),f.predecessors(y).length)){var E=f.node(f.predecessors(y)[0]),S=f.node(f.predecessors(w)[0]);o.has(T,"barycenter")||(T.barycenter=0,T.weight=0),T.barycenter=(T.barycenter*T.weight+E.order+S.order)/(T.weight+2),T.weight+=2}return T}function u(f,h){o.forEach(f,function(p){p.vs=o.flatten(p.vs.map(function(v){return h[v]?h[v].vs:v}),!0)})}function d(f,h){o.isUndefined(f.barycenter)?(f.barycenter=h.barycenter,f.weight=h.weight):(f.barycenter=(f.barycenter*f.weight+h.barycenter*h.weight)/(f.weight+h.weight),f.weight+=h.weight)}},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(t,r,i){var o=t("../lodash"),s=t("../util");r.exports=a;function a(u,d){var f=s.partition(u,function(_){return o.has(_,"barycenter")}),h=f.lhs,p=o.sortBy(f.rhs,function(_){return-_.i}),v=[],m=0,g=0,y=0;h.sort(c(!!d)),y=l(v,p,y),o.forEach(h,function(_){y+=_.vs.length,v.push(_.vs),m+=_.barycenter*_.weight,g+=_.weight,y=l(v,p,y)});var w={vs:o.flatten(v,!0)};return g&&(w.barycenter=m/g,w.weight=g),w}function l(u,d,f){for(var h;d.length&&(h=o.last(d)).i<=f;)d.pop(),u.push(h.vs),f++;return f}function c(u){return function(d,f){return d.barycenter<f.barycenter?-1:d.barycenter>f.barycenter?1:u?f.i-d.i:d.i-f.i}}},{"../lodash":10,"../util":29}],22:[function(t,r,i){var o=t("./lodash");r.exports=s;function s(c){var u=l(c);o.forEach(c.graph().dummyChains,function(d){for(var f=c.node(d),h=f.edgeObj,p=a(c,u,h.v,h.w),v=p.path,m=p.lca,g=0,y=v[g],w=!0;d!==h.w;){if(f=c.node(d),w){for(;(y=v[g])!==m&&c.node(y).maxRank<f.rank;)g++;y===m&&(w=!1)}if(!w){for(;g<v.length-1&&c.node(y=v[g+1]).minRank<=f.rank;)g++;y=v[g]}c.setParent(d,y),d=c.successors(d)[0]}})}function a(c,u,d,f){var h=[],p=[],v=Math.min(u[d].low,u[f].low),m=Math.max(u[d].lim,u[f].lim),g,y;g=d;do g=c.parent(g),h.push(g);while(g&&(u[g].low>v||m>u[g].lim));for(y=g,g=f;(g=c.parent(g))!==y;)p.push(g);return{path:h.concat(p.reverse()),lca:y}}function l(c){var u={},d=0;function f(h){var p=d;o.forEach(c.children(h),f),u[h]={low:p,lim:d++}}return o.forEach(c.children(),f),u}},{"./lodash":10}],23:[function(t,r,i){var o=t("../lodash"),s=t("../graphlib").Graph,a=t("../util");r.exports={positionX:w,findType1Conflicts:l,findType2Conflicts:c,addConflict:d,hasConflict:f,verticalAlignment:h,horizontalCompaction:p,alignCoordinates:g,findSmallestWidthAlignment:m,balance:y};function l(x,T){var E={};function S(P,C){var A=0,N=0,k=P.length,j=o.last(C);return o.forEach(C,function(L,U){var G=u(x,L),Y=G?x.node(G).order:k;(G||L===j)&&(o.forEach(C.slice(N,U+1),function(le){o.forEach(x.predecessors(le),function(ve){var je=x.node(ve),yt=je.order;(yt<A||Y<yt)&&!(je.dummy&&x.node(le).dummy)&&d(E,ve,le)})}),N=U+1,A=Y)}),C}return o.reduce(T,S),E}function c(x,T){var E={};function S(C,A,N,k,j){var L;o.forEach(o.range(A,N),function(U){L=C[U],x.node(L).dummy&&o.forEach(x.predecessors(L),function(G){var Y=x.node(G);Y.dummy&&(Y.order<k||Y.order>j)&&d(E,G,L)})})}function P(C,A){var N=-1,k,j=0;return o.forEach(A,function(L,U){if(x.node(L).dummy==="border"){var G=x.predecessors(L);G.length&&(k=x.node(G[0]).order,S(A,j,U,N,k),j=U,N=k)}S(A,j,A.length,k,C.length)}),A}return o.reduce(T,P),E}function u(x,T){if(x.node(T).dummy)return o.find(x.predecessors(T),function(E){return x.node(E).dummy})}function d(x,T,E){if(T>E){var S=T;T=E,E=S}var P=x[T];P||(x[T]=P={}),P[E]=!0}function f(x,T,E){if(T>E){var S=T;T=E,E=S}return o.has(x[T],E)}function h(x,T,E,S){var P={},C={},A={};return o.forEach(T,function(N){o.forEach(N,function(k,j){P[k]=k,C[k]=k,A[k]=j})}),o.forEach(T,function(N){var k=-1;o.forEach(N,function(j){var L=S(j);if(L.length){L=o.sortBy(L,function(ve){return A[ve]});for(var U=(L.length-1)/2,G=Math.floor(U),Y=Math.ceil(U);G<=Y;++G){var le=L[G];C[j]===j&&k<A[le]&&!f(E,j,le)&&(C[le]=j,C[j]=P[j]=P[le],k=A[le])}}})}),{root:P,align:C}}function p(x,T,E,S,P){var C={},A=v(x,T,E,P),N=P?"borderLeft":"borderRight";function k(U,G){for(var Y=A.nodes(),le=Y.pop(),ve={};le;)ve[le]?U(le):(ve[le]=!0,Y.push(le),Y=Y.concat(G(le))),le=Y.pop()}function j(U){C[U]=A.inEdges(U).reduce(function(G,Y){return Math.max(G,C[Y.v]+A.edge(Y))},0)}function L(U){var G=A.outEdges(U).reduce(function(le,ve){return Math.min(le,C[ve.w]-A.edge(ve))},Number.POSITIVE_INFINITY),Y=x.node(U);G!==Number.POSITIVE_INFINITY&&Y.borderType!==N&&(C[U]=Math.max(C[U],G))}return k(j,A.predecessors.bind(A)),k(L,A.successors.bind(A)),o.forEach(S,function(U){C[U]=C[E[U]]}),C}function v(x,T,E,S){var P=new s,C=x.graph(),A=_(C.nodesep,C.edgesep,S);return o.forEach(T,function(N){var k;o.forEach(N,function(j){var L=E[j];if(P.setNode(L),k){var U=E[k],G=P.edge(U,L);P.setEdge(U,L,Math.max(A(x,j,k),G||0))}k=j})}),P}function m(x,T){return o.minBy(o.values(T),function(E){var S=Number.NEGATIVE_INFINITY,P=Number.POSITIVE_INFINITY;return o.forIn(E,function(C,A){var N=b(x,A)/2;S=Math.max(C+N,S),P=Math.min(C-N,P)}),S-P})}function g(x,T){var E=o.values(T),S=o.min(E),P=o.max(E);o.forEach(["u","d"],function(C){o.forEach(["l","r"],function(A){var N=C+A,k=x[N],j;if(k!==T){var L=o.values(k);j=A==="l"?S-o.min(L):P-o.max(L),j&&(x[N]=o.mapValues(k,function(U){return U+j}))}})})}function y(x,T){return o.mapValues(x.ul,function(E,S){if(T)return x[T.toLowerCase()][S];var P=o.sortBy(o.map(x,S));return(P[1]+P[2])/2})}function w(x){var T=a.buildLayerMatrix(x),E=o.merge(l(x,T),c(x,T)),S={},P;o.forEach(["u","d"],function(A){P=A==="u"?T:o.values(T).reverse(),o.forEach(["l","r"],function(N){N==="r"&&(P=o.map(P,function(U){return o.values(U).reverse()}));var k=(A==="u"?x.predecessors:x.successors).bind(x),j=h(x,P,E,k),L=p(x,P,j.root,j.align,N==="r");N==="r"&&(L=o.mapValues(L,function(U){return-U})),S[A+N]=L})});var C=m(x,S);return g(S,C),y(S,x.graph().align)}function _(x,T,E){return function(S,P,C){var A=S.node(P),N=S.node(C),k=0,j;if(k+=A.width/2,o.has(A,"labelpos"))switch(A.labelpos.toLowerCase()){case"l":j=-A.width/2;break;case"r":j=A.width/2;break}if(j&&(k+=E?j:-j),j=0,k+=(A.dummy?T:x)/2,k+=(N.dummy?T:x)/2,k+=N.width/2,o.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":j=N.width/2;break;case"r":j=-N.width/2;break}return j&&(k+=E?j:-j),j=0,k}}function b(x,T){return x.node(T).width}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(t,r,i){var o=t("../lodash"),s=t("../util"),a=t("./bk").positionX;r.exports=l;function l(u){u=s.asNonCompoundGraph(u),c(u),o.forEach(a(u),function(d,f){u.node(f).x=d})}function c(u){var d=s.buildLayerMatrix(u),f=u.graph().ranksep,h=0;o.forEach(d,function(p){var v=o.max(o.map(p,function(m){return u.node(m).height}));o.forEach(p,function(m){u.node(m).y=h+v/2}),h+=v+f})}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(t,r,i){var o=t("../lodash"),s=t("../graphlib").Graph,a=t("./util").slack;r.exports=l;function l(f){var h=new s({directed:!1}),p=f.nodes()[0],v=f.nodeCount();h.setNode(p,{});for(var m,g;c(h,f)<v;)m=u(h,f),g=h.hasNode(m.v)?a(f,m):-a(f,m),d(h,f,g);return h}function c(f,h){function p(v){o.forEach(h.nodeEdges(v),function(m){var g=m.v,y=v===g?m.w:g;!f.hasNode(y)&&!a(h,m)&&(f.setNode(y,{}),f.setEdge(v,y,{}),p(y))})}return o.forEach(f.nodes(),p),f.nodeCount()}function u(f,h){return o.minBy(h.edges(),function(p){if(f.hasNode(p.v)!==f.hasNode(p.w))return a(h,p)})}function d(f,h,p){o.forEach(f.nodes(),function(v){h.node(v).rank+=p})}},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(t,r,i){var o=t("./util"),s=o.longestPath,a=t("./feasible-tree"),l=t("./network-simplex");r.exports=c;function c(h){switch(h.graph().ranker){case"network-simplex":f(h);break;case"tight-tree":d(h);break;case"longest-path":u(h);break;default:f(h)}}var u=s;function d(h){s(h),a(h)}function f(h){l(h)}},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(t,r,i){var o=t("../lodash"),s=t("./feasible-tree"),a=t("./util").slack,l=t("./util").longestPath,c=t("../graphlib").alg.preorder,u=t("../graphlib").alg.postorder,d=t("../util").simplify;r.exports=f,f.initLowLimValues=m,f.initCutValues=h,f.calcCutValue=v,f.leaveEdge=y,f.enterEdge=w,f.exchangeEdges=_;function f(E){E=d(E),l(E);var S=s(E);m(S),h(S,E);for(var P,C;P=y(S);)C=w(S,E,P),_(S,E,P,C)}function h(E,S){var P=u(E,E.nodes());P=P.slice(0,P.length-1),o.forEach(P,function(C){p(E,S,C)})}function p(E,S,P){var C=E.node(P),A=C.parent;E.edge(P,A).cutvalue=v(E,S,P)}function v(E,S,P){var C=E.node(P),A=C.parent,N=!0,k=S.edge(P,A),j=0;return k||(N=!1,k=S.edge(A,P)),j=k.weight,o.forEach(S.nodeEdges(P),function(L){var U=L.v===P,G=U?L.w:L.v;if(G!==A){var Y=U===N,le=S.edge(L).weight;if(j+=Y?le:-le,x(E,P,G)){var ve=E.edge(P,G).cutvalue;j+=Y?-ve:ve}}}),j}function m(E,S){arguments.length<2&&(S=E.nodes()[0]),g(E,{},1,S)}function g(E,S,P,C,A){var N=P,k=E.node(C);return S[C]=!0,o.forEach(E.neighbors(C),function(j){o.has(S,j)||(P=g(E,S,P,j,C))}),k.low=N,k.lim=P++,A?k.parent=A:delete k.parent,P}function y(E){return o.find(E.edges(),function(S){return E.edge(S).cutvalue<0})}function w(E,S,P){var C=P.v,A=P.w;S.hasEdge(C,A)||(C=P.w,A=P.v);var N=E.node(C),k=E.node(A),j=N,L=!1;N.lim>k.lim&&(j=k,L=!0);var U=o.filter(S.edges(),function(G){return L===T(E,E.node(G.v),j)&&L!==T(E,E.node(G.w),j)});return o.minBy(U,function(G){return a(S,G)})}function _(E,S,P,C){var A=P.v,N=P.w;E.removeEdge(A,N),E.setEdge(C.v,C.w,{}),m(E),h(E,S),b(E,S)}function b(E,S){var P=o.find(E.nodes(),function(A){return!S.node(A).parent}),C=c(E,P);C=C.slice(1),o.forEach(C,function(A){var N=E.node(A).parent,k=S.edge(A,N),j=!1;k||(k=S.edge(N,A),j=!0),S.node(A).rank=S.node(N).rank+(j?k.minlen:-k.minlen)})}function x(E,S,P){return E.hasEdge(S,P)}function T(E,S,P){return P.low<=S.lim&&S.lim<=P.lim}},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(t,r,i){var o=t("../lodash");r.exports={longestPath:s,slack:a};function s(l){var c={};function u(d){var f=l.node(d);if(o.has(c,d))return f.rank;c[d]=!0;var h=o.min(o.map(l.outEdges(d),function(p){return u(p.w)-l.edge(p).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),f.rank=h}o.forEach(l.sources(),u)}function a(l,c){return l.node(c.w).rank-l.node(c.v).rank-l.edge(c).minlen}},{"../lodash":10}],29:[function(t,r,i){var o=t("./lodash"),s=t("./graphlib").Graph;r.exports={addDummyNode:a,simplify:l,asNonCompoundGraph:c,successorWeights:u,predecessorWeights:d,intersectRect:f,buildLayerMatrix:h,normalizeRanks:p,removeEmptyRanks:v,addBorderNode:m,maxRank:g,partition:y,time:w,notime:_};function a(b,x,T,E){var S;do S=o.uniqueId(E);while(b.hasNode(S));return T.dummy=x,b.setNode(S,T),S}function l(b){var x=new s().setGraph(b.graph());return o.forEach(b.nodes(),function(T){x.setNode(T,b.node(T))}),o.forEach(b.edges(),function(T){var E=x.edge(T.v,T.w)||{weight:0,minlen:1},S=b.edge(T);x.setEdge(T.v,T.w,{weight:E.weight+S.weight,minlen:Math.max(E.minlen,S.minlen)})}),x}function c(b){var x=new s({multigraph:b.isMultigraph()}).setGraph(b.graph());return o.forEach(b.nodes(),function(T){b.children(T).length||x.setNode(T,b.node(T))}),o.forEach(b.edges(),function(T){x.setEdge(T,b.edge(T))}),x}function u(b){var x=o.map(b.nodes(),function(T){var E={};return o.forEach(b.outEdges(T),function(S){E[S.w]=(E[S.w]||0)+b.edge(S).weight}),E});return o.zipObject(b.nodes(),x)}function d(b){var x=o.map(b.nodes(),function(T){var E={};return o.forEach(b.inEdges(T),function(S){E[S.v]=(E[S.v]||0)+b.edge(S).weight}),E});return o.zipObject(b.nodes(),x)}function f(b,x){var T=b.x,E=b.y,S=x.x-T,P=x.y-E,C=b.width/2,A=b.height/2;if(!S&&!P)throw new Error("Not possible to find intersection inside of the rectangle");var N,k;return Math.abs(P)*C>Math.abs(S)*A?(P<0&&(A=-A),N=A*S/P,k=A):(S<0&&(C=-C),N=C,k=C*P/S),{x:T+N,y:E+k}}function h(b){var x=o.map(o.range(g(b)+1),function(){return[]});return o.forEach(b.nodes(),function(T){var E=b.node(T),S=E.rank;o.isUndefined(S)||(x[S][E.order]=T)}),x}function p(b){var x=o.min(o.map(b.nodes(),function(T){return b.node(T).rank}));o.forEach(b.nodes(),function(T){var E=b.node(T);o.has(E,"rank")&&(E.rank-=x)})}function v(b){var x=o.min(o.map(b.nodes(),function(P){return b.node(P).rank})),T=[];o.forEach(b.nodes(),function(P){var C=b.node(P).rank-x;T[C]||(T[C]=[]),T[C].push(P)});var E=0,S=b.graph().nodeRankFactor;o.forEach(T,function(P,C){o.isUndefined(P)&&C%S!==0?--E:E&&o.forEach(P,function(A){b.node(A).rank+=E})})}function m(b,x,T,E){var S={width:0,height:0};return arguments.length>=4&&(S.rank=T,S.order=E),a(b,"border",S,x)}function g(b){return o.max(o.map(b.nodes(),function(x){var T=b.node(x).rank;if(!o.isUndefined(T))return T}))}function y(b,x){var T={lhs:[],rhs:[]};return o.forEach(b,function(E){x(E)?T.lhs.push(E):T.rhs.push(E)}),T}function w(b,x){var T=o.now();try{return x()}finally{console.log(b+" time: "+(o.now()-T)+"ms")}}function _(b,x){return x()}},{"./graphlib":7,"./lodash":10}],30:[function(t,r,i){r.exports="0.8.5"},{}],31:[function(t,r,i){var o=t("./lib");r.exports={Graph:o.Graph,json:t("./lib/json"),alg:t("./lib/alg"),version:o.version}},{"./lib":47,"./lib/alg":38,"./lib/json":48}],32:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(a){var l={},c=[],u;function d(f){o.has(l,f)||(l[f]=!0,u.push(f),o.each(a.successors(f),d),o.each(a.predecessors(f),d))}return o.each(a.nodes(),function(f){u=[],d(f),u.length&&c.push(u)}),c}},{"../lodash":49}],33:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(l,c,u){o.isArray(c)||(c=[c]);var d=(l.isDirected()?l.successors:l.neighbors).bind(l),f=[],h={};return o.each(c,function(p){if(!l.hasNode(p))throw new Error("Graph does not have node: "+p);a(l,p,u==="post",h,d,f)}),f}function a(l,c,u,d,f,h){o.has(d,c)||(d[c]=!0,u||h.push(c),o.each(f(c),function(p){a(l,p,u,d,f,h)}),u&&h.push(c))}},{"../lodash":49}],34:[function(t,r,i){var o=t("./dijkstra"),s=t("../lodash");r.exports=a;function a(l,c,u){return s.transform(l.nodes(),function(d,f){d[f]=o(l,f,c,u)},{})}},{"../lodash":49,"./dijkstra":35}],35:[function(t,r,i){var o=t("../lodash"),s=t("../data/priority-queue");r.exports=l;var a=o.constant(1);function l(u,d,f,h){return c(u,String(d),f||a,h||function(p){return u.outEdges(p)})}function c(u,d,f,h){var p={},v=new s,m,g,y=function(w){var _=w.v!==m?w.v:w.w,b=p[_],x=f(w),T=g.distance+x;if(x<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+x);T<b.distance&&(b.distance=T,b.predecessor=m,v.decrease(_,T))};for(u.nodes().forEach(function(w){var _=w===d?0:Number.POSITIVE_INFINITY;p[w]={distance:_},v.add(w,_)});v.size()>0&&(m=v.removeMin(),g=p[m],g.distance!==Number.POSITIVE_INFINITY);)h(m).forEach(y);return p}},{"../data/priority-queue":45,"../lodash":49}],36:[function(t,r,i){var o=t("../lodash"),s=t("./tarjan");r.exports=a;function a(l){return o.filter(s(l),function(c){return c.length>1||c.length===1&&l.hasEdge(c[0],c[0])})}},{"../lodash":49,"./tarjan":43}],37:[function(t,r,i){var o=t("../lodash");r.exports=a;var s=o.constant(1);function a(c,u,d){return l(c,u||s,d||function(f){return c.outEdges(f)})}function l(c,u,d){var f={},h=c.nodes();return h.forEach(function(p){f[p]={},f[p][p]={distance:0},h.forEach(function(v){p!==v&&(f[p][v]={distance:Number.POSITIVE_INFINITY})}),d(p).forEach(function(v){var m=v.v===p?v.w:v.v,g=u(v);f[p][m]={distance:g,predecessor:p}})}),h.forEach(function(p){var v=f[p];h.forEach(function(m){var g=f[m];h.forEach(function(y){var w=g[p],_=v[y],b=g[y],x=w.distance+_.distance;x<b.distance&&(b.distance=x,b.predecessor=_.predecessor)})})}),f}},{"../lodash":49}],38:[function(t,r,i){r.exports={components:t("./components"),dijkstra:t("./dijkstra"),dijkstraAll:t("./dijkstra-all"),findCycles:t("./find-cycles"),floydWarshall:t("./floyd-warshall"),isAcyclic:t("./is-acyclic"),postorder:t("./postorder"),preorder:t("./preorder"),prim:t("./prim"),tarjan:t("./tarjan"),topsort:t("./topsort")}},{"./components":32,"./dijkstra":35,"./dijkstra-all":34,"./find-cycles":36,"./floyd-warshall":37,"./is-acyclic":39,"./postorder":40,"./preorder":41,"./prim":42,"./tarjan":43,"./topsort":44}],39:[function(t,r,i){var o=t("./topsort");r.exports=s;function s(a){try{o(a)}catch(l){if(l instanceof o.CycleException)return!1;throw l}return!0}},{"./topsort":44}],40:[function(t,r,i){var o=t("./dfs");r.exports=s;function s(a,l){return o(a,l,"post")}},{"./dfs":33}],41:[function(t,r,i){var o=t("./dfs");r.exports=s;function s(a,l){return o(a,l,"pre")}},{"./dfs":33}],42:[function(t,r,i){var o=t("../lodash"),s=t("../graph"),a=t("../data/priority-queue");r.exports=l;function l(c,u){var d=new s,f={},h=new a,p;function v(g){var y=g.v===p?g.w:g.v,w=h.priority(y);if(w!==void 0){var _=u(g);_<w&&(f[y]=p,h.decrease(y,_))}}if(c.nodeCount()===0)return d;o.each(c.nodes(),function(g){h.add(g,Number.POSITIVE_INFINITY),d.setNode(g)}),h.decrease(c.nodes()[0],0);for(var m=!1;h.size()>0;){if(p=h.removeMin(),o.has(f,p))d.setEdge(p,f[p]);else{if(m)throw new Error("Input graph is not connected: "+c);m=!0}c.nodeEdges(p).forEach(v)}return d}},{"../data/priority-queue":45,"../graph":46,"../lodash":49}],43:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(a){var l=0,c=[],u={},d=[];function f(h){var p=u[h]={onStack:!0,lowlink:l,index:l++};if(c.push(h),a.successors(h).forEach(function(g){o.has(u,g)?u[g].onStack&&(p.lowlink=Math.min(p.lowlink,u[g].index)):(f(g),p.lowlink=Math.min(p.lowlink,u[g].lowlink))}),p.lowlink===p.index){var v=[],m;do m=c.pop(),u[m].onStack=!1,v.push(m);while(h!==m);d.push(v)}}return a.nodes().forEach(function(h){o.has(u,h)||f(h)}),d}},{"../lodash":49}],44:[function(t,r,i){var o=t("../lodash");r.exports=s,s.CycleException=a;function s(l){var c={},u={},d=[];function f(h){if(o.has(u,h))throw new a;o.has(c,h)||(u[h]=!0,c[h]=!0,o.each(l.predecessors(h),f),delete u[h],d.push(h))}if(o.each(l.sinks(),f),o.size(c)!==l.nodeCount())throw new a;return d}function a(){}a.prototype=new Error},{"../lodash":49}],45:[function(t,r,i){var o=t("../lodash");r.exports=s;function s(){this._arr=[],this._keyIndices={}}s.prototype.size=function(){return this._arr.length},s.prototype.keys=function(){return this._arr.map(function(a){return a.key})},s.prototype.has=function(a){return o.has(this._keyIndices,a)},s.prototype.priority=function(a){var l=this._keyIndices[a];if(l!==void 0)return this._arr[l].priority},s.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},s.prototype.add=function(a,l){var c=this._keyIndices;if(a=String(a),!o.has(c,a)){var u=this._arr,d=u.length;return c[a]=d,u.push({key:a,priority:l}),this._decrease(d),!0}return!1},s.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},s.prototype.decrease=function(a,l){var c=this._keyIndices[a];if(l>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+l);this._arr[c].priority=l,this._decrease(c)},s.prototype._heapify=function(a){var l=this._arr,c=2*a,u=c+1,d=a;c<l.length&&(d=l[c].priority<l[d].priority?c:d,u<l.length&&(d=l[u].priority<l[d].priority?u:d),d!==a&&(this._swap(a,d),this._heapify(d)))},s.prototype._decrease=function(a){for(var l=this._arr,c=l[a].priority,u;a!==0&&(u=a>>1,!(l[u].priority<c));)this._swap(a,u),a=u},s.prototype._swap=function(a,l){var c=this._arr,u=this._keyIndices,d=c[a],f=c[l];c[a]=f,c[l]=d,u[f.key]=a,u[d.key]=l}},{"../lodash":49}],46:[function(t,r,i){var o=t("./lodash");r.exports=c;var s="\0",a="\0",l="";function c(v){this._isDirected=o.has(v,"directed")?v.directed:!0,this._isMultigraph=o.has(v,"multigraph")?v.multigraph:!1,this._isCompound=o.has(v,"compound")?v.compound:!1,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[a]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}c.prototype._nodeCount=0,c.prototype._edgeCount=0,c.prototype.isDirected=function(){return this._isDirected},c.prototype.isMultigraph=function(){return this._isMultigraph},c.prototype.isCompound=function(){return this._isCompound},c.prototype.setGraph=function(v){return this._label=v,this},c.prototype.graph=function(){return this._label},c.prototype.setDefaultNodeLabel=function(v){return o.isFunction(v)||(v=o.constant(v)),this._defaultNodeLabelFn=v,this},c.prototype.nodeCount=function(){return this._nodeCount},c.prototype.nodes=function(){return o.keys(this._nodes)},c.prototype.sources=function(){var v=this;return o.filter(this.nodes(),function(m){return o.isEmpty(v._in[m])})},c.prototype.sinks=function(){var v=this;return o.filter(this.nodes(),function(m){return o.isEmpty(v._out[m])})},c.prototype.setNodes=function(v,m){var g=arguments,y=this;return o.each(v,function(w){g.length>1?y.setNode(w,m):y.setNode(w)}),this},c.prototype.setNode=function(v,m){return o.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=m),this):(this._nodes[v]=arguments.length>1?m:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=a,this._children[v]={},this._children[a][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},c.prototype.node=function(v){return this._nodes[v]},c.prototype.hasNode=function(v){return o.has(this._nodes,v)},c.prototype.removeNode=function(v){var m=this;if(o.has(this._nodes,v)){var g=function(y){m.removeEdge(m._edgeObjs[y])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],o.each(this.children(v),function(y){m.setParent(y)}),delete this._children[v]),o.each(o.keys(this._in[v]),g),delete this._in[v],delete this._preds[v],o.each(o.keys(this._out[v]),g),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},c.prototype.setParent=function(v,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(m))m=a;else{m+="";for(var g=m;!o.isUndefined(g);g=this.parent(g))if(g===v)throw new Error("Setting "+m+" as parent of "+v+" would create a cycle");this.setNode(m)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=m,this._children[m][v]=!0,this},c.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},c.prototype.parent=function(v){if(this._isCompound){var m=this._parent[v];if(m!==a)return m}},c.prototype.children=function(v){if(o.isUndefined(v)&&(v=a),this._isCompound){var m=this._children[v];if(m)return o.keys(m)}else{if(v===a)return this.nodes();if(this.hasNode(v))return[]}},c.prototype.predecessors=function(v){var m=this._preds[v];if(m)return o.keys(m)},c.prototype.successors=function(v){var m=this._sucs[v];if(m)return o.keys(m)},c.prototype.neighbors=function(v){var m=this.predecessors(v);if(m)return o.union(m,this.successors(v))},c.prototype.isLeaf=function(v){var m;return this.isDirected()?m=this.successors(v):m=this.neighbors(v),m.length===0},c.prototype.filterNodes=function(v){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;o.each(this._nodes,function(_,b){v(b)&&m.setNode(b,_)}),o.each(this._edgeObjs,function(_){m.hasNode(_.v)&&m.hasNode(_.w)&&m.setEdge(_,g.edge(_))});var y={};function w(_){var b=g.parent(_);return b===void 0||m.hasNode(b)?(y[_]=b,b):b in y?y[b]:w(b)}return this._isCompound&&o.each(m.nodes(),function(_){m.setParent(_,w(_))}),m},c.prototype.setDefaultEdgeLabel=function(v){return o.isFunction(v)||(v=o.constant(v)),this._defaultEdgeLabelFn=v,this},c.prototype.edgeCount=function(){return this._edgeCount},c.prototype.edges=function(){return o.values(this._edgeObjs)},c.prototype.setPath=function(v,m){var g=this,y=arguments;return o.reduce(v,function(w,_){return y.length>1?g.setEdge(w,_,m):g.setEdge(w,_),_}),this},c.prototype.setEdge=function(){var v,m,g,y,w=!1,_=arguments[0];typeof _=="object"&&_!==null&&"v"in _?(v=_.v,m=_.w,g=_.name,arguments.length===2&&(y=arguments[1],w=!0)):(v=_,m=arguments[1],g=arguments[3],arguments.length>2&&(y=arguments[2],w=!0)),v=""+v,m=""+m,o.isUndefined(g)||(g=""+g);var b=f(this._isDirected,v,m,g);if(o.has(this._edgeLabels,b))return w&&(this._edgeLabels[b]=y),this;if(!o.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(m),this._edgeLabels[b]=w?y:this._defaultEdgeLabelFn(v,m,g);var x=h(this._isDirected,v,m,g);return v=x.v,m=x.w,Object.freeze(x),this._edgeObjs[b]=x,u(this._preds[m],v),u(this._sucs[v],m),this._in[m][b]=x,this._out[v][b]=x,this._edgeCount++,this},c.prototype.edge=function(v,m,g){var y=arguments.length===1?p(this._isDirected,arguments[0]):f(this._isDirected,v,m,g);return this._edgeLabels[y]},c.prototype.hasEdge=function(v,m,g){var y=arguments.length===1?p(this._isDirected,arguments[0]):f(this._isDirected,v,m,g);return o.has(this._edgeLabels,y)},c.prototype.removeEdge=function(v,m,g){var y=arguments.length===1?p(this._isDirected,arguments[0]):f(this._isDirected,v,m,g),w=this._edgeObjs[y];return w&&(v=w.v,m=w.w,delete this._edgeLabels[y],delete this._edgeObjs[y],d(this._preds[m],v),d(this._sucs[v],m),delete this._in[m][y],delete this._out[v][y],this._edgeCount--),this},c.prototype.inEdges=function(v,m){var g=this._in[v];if(g){var y=o.values(g);return m?o.filter(y,function(w){return w.v===m}):y}},c.prototype.outEdges=function(v,m){var g=this._out[v];if(g){var y=o.values(g);return m?o.filter(y,function(w){return w.w===m}):y}},c.prototype.nodeEdges=function(v,m){var g=this.inEdges(v,m);if(g)return g.concat(this.outEdges(v,m))};function u(v,m){v[m]?v[m]++:v[m]=1}function d(v,m){--v[m]||delete v[m]}function f(v,m,g,y){var w=""+m,_=""+g;if(!v&&w>_){var b=w;w=_,_=b}return w+l+_+l+(o.isUndefined(y)?s:y)}function h(v,m,g,y){var w=""+m,_=""+g;if(!v&&w>_){var b=w;w=_,_=b}var x={v:w,w:_};return y&&(x.name=y),x}function p(v,m){return f(v,m.v,m.w,m.name)}},{"./lodash":49}],47:[function(t,r,i){r.exports={Graph:t("./graph"),version:t("./version")}},{"./graph":46,"./version":50}],48:[function(t,r,i){var o=t("./lodash"),s=t("./graph");r.exports={write:a,read:u};function a(d){var f={options:{directed:d.isDirected(),multigraph:d.isMultigraph(),compound:d.isCompound()},nodes:l(d),edges:c(d)};return o.isUndefined(d.graph())||(f.value=o.clone(d.graph())),f}function l(d){return o.map(d.nodes(),function(f){var h=d.node(f),p=d.parent(f),v={v:f};return o.isUndefined(h)||(v.value=h),o.isUndefined(p)||(v.parent=p),v})}function c(d){return o.map(d.edges(),function(f){var h=d.edge(f),p={v:f.v,w:f.w};return o.isUndefined(f.name)||(p.name=f.name),o.isUndefined(h)||(p.value=h),p})}function u(d){var f=new s(d.options).setGraph(d.value);return o.each(d.nodes,function(h){f.setNode(h.v,h.value),h.parent&&f.setParent(h.v,h.parent)}),o.each(d.edges,function(h){f.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),f}},{"./graph":46,"./lodash":49}],49:[function(t,r,i){var o;if(typeof t=="function")try{o={clone:t("lodash/clone"),constant:t("lodash/constant"),each:t("lodash/each"),filter:t("lodash/filter"),has:t("lodash/has"),isArray:t("lodash/isArray"),isEmpty:t("lodash/isEmpty"),isFunction:t("lodash/isFunction"),isUndefined:t("lodash/isUndefined"),keys:t("lodash/keys"),map:t("lodash/map"),reduce:t("lodash/reduce"),size:t("lodash/size"),transform:t("lodash/transform"),union:t("lodash/union"),values:t("lodash/values")}}catch{}o||(o=window._),r.exports=o},{"lodash/clone":226,"lodash/constant":228,"lodash/each":230,"lodash/filter":232,"lodash/has":239,"lodash/isArray":243,"lodash/isEmpty":247,"lodash/isFunction":248,"lodash/isUndefined":258,"lodash/keys":259,"lodash/map":262,"lodash/reduce":274,"lodash/size":275,"lodash/transform":284,"lodash/union":285,"lodash/values":287}],50:[function(t,r,i){r.exports="2.1.8"},{}],51:[function(t,r,i){var o=t("./_getNative"),s=t("./_root"),a=o(s,"DataView");r.exports=a},{"./_getNative":163,"./_root":208}],52:[function(t,r,i){var o=t("./_hashClear"),s=t("./_hashDelete"),a=t("./_hashGet"),l=t("./_hashHas"),c=t("./_hashSet");function u(d){var f=-1,h=d==null?0:d.length;for(this.clear();++f<h;){var p=d[f];this.set(p[0],p[1])}}u.prototype.clear=o,u.prototype.delete=s,u.prototype.get=a,u.prototype.has=l,u.prototype.set=c,r.exports=u},{"./_hashClear":172,"./_hashDelete":173,"./_hashGet":174,"./_hashHas":175,"./_hashSet":176}],53:[function(t,r,i){var o=t("./_listCacheClear"),s=t("./_listCacheDelete"),a=t("./_listCacheGet"),l=t("./_listCacheHas"),c=t("./_listCacheSet");function u(d){var f=-1,h=d==null?0:d.length;for(this.clear();++f<h;){var p=d[f];this.set(p[0],p[1])}}u.prototype.clear=o,u.prototype.delete=s,u.prototype.get=a,u.prototype.has=l,u.prototype.set=c,r.exports=u},{"./_listCacheClear":188,"./_listCacheDelete":189,"./_listCacheGet":190,"./_listCacheHas":191,"./_listCacheSet":192}],54:[function(t,r,i){var o=t("./_getNative"),s=t("./_root"),a=o(s,"Map");r.exports=a},{"./_getNative":163,"./_root":208}],55:[function(t,r,i){var o=t("./_mapCacheClear"),s=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),l=t("./_mapCacheHas"),c=t("./_mapCacheSet");function u(d){var f=-1,h=d==null?0:d.length;for(this.clear();++f<h;){var p=d[f];this.set(p[0],p[1])}}u.prototype.clear=o,u.prototype.delete=s,u.prototype.get=a,u.prototype.has=l,u.prototype.set=c,r.exports=u},{"./_mapCacheClear":193,"./_mapCacheDelete":194,"./_mapCacheGet":195,"./_mapCacheHas":196,"./_mapCacheSet":197}],56:[function(t,r,i){var o=t("./_getNative"),s=t("./_root"),a=o(s,"Promise");r.exports=a},{"./_getNative":163,"./_root":208}],57:[function(t,r,i){var o=t("./_getNative"),s=t("./_root"),a=o(s,"Set");r.exports=a},{"./_getNative":163,"./_root":208}],58:[function(t,r,i){var o=t("./_MapCache"),s=t("./_setCacheAdd"),a=t("./_setCacheHas");function l(c){var u=-1,d=c==null?0:c.length;for(this.__data__=new o;++u<d;)this.add(c[u])}l.prototype.add=l.prototype.push=s,l.prototype.has=a,r.exports=l},{"./_MapCache":55,"./_setCacheAdd":210,"./_setCacheHas":211}],59:[function(t,r,i){var o=t("./_ListCache"),s=t("./_stackClear"),a=t("./_stackDelete"),l=t("./_stackGet"),c=t("./_stackHas"),u=t("./_stackSet");function d(f){var h=this.__data__=new o(f);this.size=h.size}d.prototype.clear=s,d.prototype.delete=a,d.prototype.get=l,d.prototype.has=c,d.prototype.set=u,r.exports=d},{"./_ListCache":53,"./_stackClear":215,"./_stackDelete":216,"./_stackGet":217,"./_stackHas":218,"./_stackSet":219}],60:[function(t,r,i){var o=t("./_root"),s=o.Symbol;r.exports=s},{"./_root":208}],61:[function(t,r,i){var o=t("./_root"),s=o.Uint8Array;r.exports=s},{"./_root":208}],62:[function(t,r,i){var o=t("./_getNative"),s=t("./_root"),a=o(s,"WeakMap");r.exports=a},{"./_getNative":163,"./_root":208}],63:[function(t,r,i){function o(s,a,l){switch(l.length){case 0:return s.call(a);case 1:return s.call(a,l[0]);case 2:return s.call(a,l[0],l[1]);case 3:return s.call(a,l[0],l[1],l[2])}return s.apply(a,l)}r.exports=o},{}],64:[function(t,r,i){function o(s,a){for(var l=-1,c=s==null?0:s.length;++l<c&&a(s[l],l,s)!==!1;);return s}r.exports=o},{}],65:[function(t,r,i){function o(s,a){for(var l=-1,c=s==null?0:s.length,u=0,d=[];++l<c;){var f=s[l];a(f,l,s)&&(d[u++]=f)}return d}r.exports=o},{}],66:[function(t,r,i){var o=t("./_baseIndexOf");function s(a,l){var c=a==null?0:a.length;return!!c&&o(a,l,0)>-1}r.exports=s},{"./_baseIndexOf":95}],67:[function(t,r,i){function o(s,a,l){for(var c=-1,u=s==null?0:s.length;++c<u;)if(l(a,s[c]))return!0;return!1}r.exports=o},{}],68:[function(t,r,i){var o=t("./_baseTimes"),s=t("./isArguments"),a=t("./isArray"),l=t("./isBuffer"),c=t("./_isIndex"),u=t("./isTypedArray"),d=Object.prototype,f=d.hasOwnProperty;function h(p,v){var m=a(p),g=!m&&s(p),y=!m&&!g&&l(p),w=!m&&!g&&!y&&u(p),_=m||g||y||w,b=_?o(p.length,String):[],x=b.length;for(var T in p)(v||f.call(p,T))&&!(_&&(T=="length"||y&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||c(T,x)))&&b.push(T);return b}r.exports=h},{"./_baseTimes":125,"./_isIndex":181,"./isArguments":242,"./isArray":243,"./isBuffer":246,"./isTypedArray":257}],69:[function(t,r,i){function o(s,a){for(var l=-1,c=s==null?0:s.length,u=Array(c);++l<c;)u[l]=a(s[l],l,s);return u}r.exports=o},{}],70:[function(t,r,i){function o(s,a){for(var l=-1,c=a.length,u=s.length;++l<c;)s[u+l]=a[l];return s}r.exports=o},{}],71:[function(t,r,i){function o(s,a,l,c){var u=-1,d=s==null?0:s.length;for(c&&d&&(l=s[++u]);++u<d;)l=a(l,s[u],u,s);return l}r.exports=o},{}],72:[function(t,r,i){function o(s,a){for(var l=-1,c=s==null?0:s.length;++l<c;)if(a(s[l],l,s))return!0;return!1}r.exports=o},{}],73:[function(t,r,i){var o=t("./_baseProperty"),s=o("length");r.exports=s},{"./_baseProperty":117}],74:[function(t,r,i){var o=t("./_baseAssignValue"),s=t("./eq");function a(l,c,u){(u!==void 0&&!s(l[c],u)||u===void 0&&!(c in l))&&o(l,c,u)}r.exports=a},{"./_baseAssignValue":79,"./eq":231}],75:[function(t,r,i){var o=t("./_baseAssignValue"),s=t("./eq"),a=Object.prototype,l=a.hasOwnProperty;function c(u,d,f){var h=u[d];(!(l.call(u,d)&&s(h,f))||f===void 0&&!(d in u))&&o(u,d,f)}r.exports=c},{"./_baseAssignValue":79,"./eq":231}],76:[function(t,r,i){var o=t("./eq");function s(a,l){for(var c=a.length;c--;)if(o(a[c][0],l))return c;return-1}r.exports=s},{"./eq":231}],77:[function(t,r,i){var o=t("./_copyObject"),s=t("./keys");function a(l,c){return l&&o(c,s(c),l)}r.exports=a},{"./_copyObject":143,"./keys":259}],78:[function(t,r,i){var o=t("./_copyObject"),s=t("./keysIn");function a(l,c){return l&&o(c,s(c),l)}r.exports=a},{"./_copyObject":143,"./keysIn":260}],79:[function(t,r,i){var o=t("./_defineProperty");function s(a,l,c){l=="__proto__"&&o?o(a,l,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[l]=c}r.exports=s},{"./_defineProperty":153}],80:[function(t,r,i){var o=t("./_Stack"),s=t("./_arrayEach"),a=t("./_assignValue"),l=t("./_baseAssign"),c=t("./_baseAssignIn"),u=t("./_cloneBuffer"),d=t("./_copyArray"),f=t("./_copySymbols"),h=t("./_copySymbolsIn"),p=t("./_getAllKeys"),v=t("./_getAllKeysIn"),m=t("./_getTag"),g=t("./_initCloneArray"),y=t("./_initCloneByTag"),w=t("./_initCloneObject"),_=t("./isArray"),b=t("./isBuffer"),x=t("./isMap"),T=t("./isObject"),E=t("./isSet"),S=t("./keys"),P=1,C=2,A=4,N="[object Arguments]",k="[object Array]",j="[object Boolean]",L="[object Date]",U="[object Error]",G="[object Function]",Y="[object GeneratorFunction]",le="[object Map]",ve="[object Number]",je="[object Object]",yt="[object RegExp]",rt="[object Set]",Zt="[object String]",Ze="[object Symbol]",bt="[object WeakMap]",$t="[object ArrayBuffer]",z="[object DataView]",V="[object Float32Array]",K="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",B="[object Uint8Array]",H="[object Uint8ClampedArray]",X="[object Uint16Array]",J="[object Uint32Array]",F={};F[N]=F[k]=F[$t]=F[z]=F[j]=F[L]=F[V]=F[K]=F[O]=F[I]=F[R]=F[le]=F[ve]=F[je]=F[yt]=F[rt]=F[Zt]=F[Ze]=F[B]=F[H]=F[X]=F[J]=!0,F[U]=F[G]=F[bt]=!1;function W(D,ne,q,ie,se,de){var pe,_e=ne&P,Pe=ne&C,Xe=ne&A;if(q&&(pe=se?q(D,ie,se,de):q(D)),pe!==void 0)return pe;if(!T(D))return D;var Ct=_(D);if(Ct){if(pe=g(D),!_e)return d(D,pe)}else{var _t=m(D),wt=_t==G||_t==Y;if(b(D))return u(D,_e);if(_t==je||_t==N||wt&&!se){if(pe=Pe||wt?{}:w(D),!_e)return Pe?h(D,c(pe,D)):f(D,l(pe,D))}else{if(!F[_t])return se?D:{};pe=y(D,_t,_e)}}de||(de=new o);var on=de.get(D);if(on)return on;de.set(D,pe),E(D)?D.forEach(function(oe){pe.add(W(oe,ne,q,oe,D,de))}):x(D)&&D.forEach(function(oe,ue){pe.set(ue,W(oe,ne,q,ue,D,de))});var $=Xe?Pe?v:p:Pe?keysIn:S,re=Ct?void 0:$(D);return s(re||D,function(oe,ue){re&&(ue=oe,oe=D[ue]),a(pe,ue,W(oe,ne,q,ue,D,de))}),pe}r.exports=W},{"./_Stack":59,"./_arrayEach":64,"./_assignValue":75,"./_baseAssign":77,"./_baseAssignIn":78,"./_cloneBuffer":135,"./_copyArray":142,"./_copySymbols":144,"./_copySymbolsIn":145,"./_getAllKeys":159,"./_getAllKeysIn":160,"./_getTag":168,"./_initCloneArray":177,"./_initCloneByTag":178,"./_initCloneObject":179,"./isArray":243,"./isBuffer":246,"./isMap":250,"./isObject":251,"./isSet":254,"./keys":259}],81:[function(t,r,i){var o=t("./isObject"),s=Object.create,a=function(){function l(){}return function(c){if(!o(c))return{};if(s)return s(c);l.prototype=c;var u=new l;return l.prototype=void 0,u}}();r.exports=a},{"./isObject":251}],82:[function(t,r,i){var o=t("./_baseForOwn"),s=t("./_createBaseEach"),a=s(o);r.exports=a},{"./_baseForOwn":88,"./_createBaseEach":148}],83:[function(t,r,i){var o=t("./isSymbol");function s(a,l,c){for(var u=-1,d=a.length;++u<d;){var f=a[u],h=l(f);if(h!=null&&(p===void 0?h===h&&!o(h):c(h,p)))var p=h,v=f}return v}r.exports=s},{"./isSymbol":256}],84:[function(t,r,i){var o=t("./_baseEach");function s(a,l){var c=[];return o(a,function(u,d,f){l(u,d,f)&&c.push(u)}),c}r.exports=s},{"./_baseEach":82}],85:[function(t,r,i){function o(s,a,l,c){for(var u=s.length,d=l+(c?1:-1);c?d--:++d<u;)if(a(s[d],d,s))return d;return-1}r.exports=o},{}],86:[function(t,r,i){var o=t("./_arrayPush"),s=t("./_isFlattenable");function a(l,c,u,d,f){var h=-1,p=l.length;for(u||(u=s),f||(f=[]);++h<p;){var v=l[h];c>0&&u(v)?c>1?a(v,c-1,u,d,f):o(f,v):d||(f[f.length]=v)}return f}r.exports=a},{"./_arrayPush":70,"./_isFlattenable":180}],87:[function(t,r,i){var o=t("./_createBaseFor"),s=o();r.exports=s},{"./_createBaseFor":149}],88:[function(t,r,i){var o=t("./_baseFor"),s=t("./keys");function a(l,c){return l&&o(l,c,s)}r.exports=a},{"./_baseFor":87,"./keys":259}],89:[function(t,r,i){var o=t("./_castPath"),s=t("./_toKey");function a(l,c){c=o(c,l);for(var u=0,d=c.length;l!=null&&u<d;)l=l[s(c[u++])];return u&&u==d?l:void 0}r.exports=a},{"./_castPath":133,"./_toKey":223}],90:[function(t,r,i){var o=t("./_arrayPush"),s=t("./isArray");function a(l,c,u){var d=c(l);return s(l)?d:o(d,u(l))}r.exports=a},{"./_arrayPush":70,"./isArray":243}],91:[function(t,r,i){var o=t("./_Symbol"),s=t("./_getRawTag"),a=t("./_objectToString"),l="[object Null]",c="[object Undefined]",u=o?o.toStringTag:void 0;function d(f){return f==null?f===void 0?c:l:u&&u in Object(f)?s(f):a(f)}r.exports=d},{"./_Symbol":60,"./_getRawTag":165,"./_objectToString":205}],92:[function(t,r,i){function o(s,a){return s>a}r.exports=o},{}],93:[function(t,r,i){var o=Object.prototype,s=o.hasOwnProperty;function a(l,c){return l!=null&&s.call(l,c)}r.exports=a},{}],94:[function(t,r,i){function o(s,a){return s!=null&&a in Object(s)}r.exports=o},{}],95:[function(t,r,i){var o=t("./_baseFindIndex"),s=t("./_baseIsNaN"),a=t("./_strictIndexOf");function l(c,u,d){return u===u?a(c,u,d):o(c,s,d)}r.exports=l},{"./_baseFindIndex":85,"./_baseIsNaN":101,"./_strictIndexOf":220}],96:[function(t,r,i){var o=t("./_baseGetTag"),s=t("./isObjectLike"),a="[object Arguments]";function l(c){return s(c)&&o(c)==a}r.exports=l},{"./_baseGetTag":91,"./isObjectLike":252}],97:[function(t,r,i){var o=t("./_baseIsEqualDeep"),s=t("./isObjectLike");function a(l,c,u,d,f){return l===c?!0:l==null||c==null||!s(l)&&!s(c)?l!==l&&c!==c:o(l,c,u,d,a,f)}r.exports=a},{"./_baseIsEqualDeep":98,"./isObjectLike":252}],98:[function(t,r,i){var o=t("./_Stack"),s=t("./_equalArrays"),a=t("./_equalByTag"),l=t("./_equalObjects"),c=t("./_getTag"),u=t("./isArray"),d=t("./isBuffer"),f=t("./isTypedArray"),h=1,p="[object Arguments]",v="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function w(_,b,x,T,E,S){var P=u(_),C=u(b),A=P?v:c(_),N=C?v:c(b);A=A==p?m:A,N=N==p?m:N;var k=A==m,j=N==m,L=A==N;if(L&&d(_)){if(!d(b))return!1;P=!0,k=!1}if(L&&!k)return S||(S=new o),P||f(_)?s(_,b,x,T,E,S):a(_,b,A,x,T,E,S);if(!(x&h)){var U=k&&y.call(_,"__wrapped__"),G=j&&y.call(b,"__wrapped__");if(U||G){var Y=U?_.value():_,le=G?b.value():b;return S||(S=new o),E(Y,le,x,T,S)}}return L?(S||(S=new o),l(_,b,x,T,E,S)):!1}r.exports=w},{"./_Stack":59,"./_equalArrays":154,"./_equalByTag":155,"./_equalObjects":156,"./_getTag":168,"./isArray":243,"./isBuffer":246,"./isTypedArray":257}],99:[function(t,r,i){var o=t("./_getTag"),s=t("./isObjectLike"),a="[object Map]";function l(c){return s(c)&&o(c)==a}r.exports=l},{"./_getTag":168,"./isObjectLike":252}],100:[function(t,r,i){var o=t("./_Stack"),s=t("./_baseIsEqual"),a=1,l=2;function c(u,d,f,h){var p=f.length,v=p,m=!h;if(u==null)return!v;for(u=Object(u);p--;){var g=f[p];if(m&&g[2]?g[1]!==u[g[0]]:!(g[0]in u))return!1}for(;++p<v;){g=f[p];var y=g[0],w=u[y],_=g[1];if(m&&g[2]){if(w===void 0&&!(y in u))return!1}else{var b=new o;if(h)var x=h(w,_,y,u,d,b);if(!(x===void 0?s(_,w,a|l,h,b):x))return!1}}return!0}r.exports=c},{"./_Stack":59,"./_baseIsEqual":97}],101:[function(t,r,i){function o(s){return s!==s}r.exports=o},{}],102:[function(t,r,i){var o=t("./isFunction"),s=t("./_isMasked"),a=t("./isObject"),l=t("./_toSource"),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,h=d.toString,p=f.hasOwnProperty,v=RegExp("^"+h.call(p).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!a(g)||s(g))return!1;var y=o(g)?v:u;return y.test(l(g))}r.exports=m},{"./_isMasked":185,"./_toSource":224,"./isFunction":248,"./isObject":251}],103:[function(t,r,i){var o=t("./_getTag"),s=t("./isObjectLike"),a="[object Set]";function l(c){return s(c)&&o(c)==a}r.exports=l},{"./_getTag":168,"./isObjectLike":252}],104:[function(t,r,i){var o=t("./_baseGetTag"),s=t("./isLength"),a=t("./isObjectLike"),l="[object Arguments]",c="[object Array]",u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object Map]",v="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",w="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]",L={};L[T]=L[E]=L[S]=L[P]=L[C]=L[A]=L[N]=L[k]=L[j]=!0,L[l]=L[c]=L[b]=L[u]=L[x]=L[d]=L[f]=L[h]=L[p]=L[v]=L[m]=L[g]=L[y]=L[w]=L[_]=!1;function U(G){return a(G)&&s(G.length)&&!!L[o(G)]}r.exports=U},{"./_baseGetTag":91,"./isLength":249,"./isObjectLike":252}],105:[function(t,r,i){var o=t("./_baseMatches"),s=t("./_baseMatchesProperty"),a=t("./identity"),l=t("./isArray"),c=t("./property");function u(d){return typeof d=="function"?d:d==null?a:typeof d=="object"?l(d)?s(d[0],d[1]):o(d):c(d)}r.exports=u},{"./_baseMatches":110,"./_baseMatchesProperty":111,"./identity":241,"./isArray":243,"./property":272}],106:[function(t,r,i){var o=t("./_isPrototype"),s=t("./_nativeKeys"),a=Object.prototype,l=a.hasOwnProperty;function c(u){if(!o(u))return s(u);var d=[];for(var f in Object(u))l.call(u,f)&&f!="constructor"&&d.push(f);return d}r.exports=c},{"./_isPrototype":186,"./_nativeKeys":202}],107:[function(t,r,i){var o=t("./isObject"),s=t("./_isPrototype"),a=t("./_nativeKeysIn"),l=Object.prototype,c=l.hasOwnProperty;function u(d){if(!o(d))return a(d);var f=s(d),h=[];for(var p in d)p=="constructor"&&(f||!c.call(d,p))||h.push(p);return h}r.exports=u},{"./_isPrototype":186,"./_nativeKeysIn":203,"./isObject":251}],108:[function(t,r,i){function o(s,a){return s<a}r.exports=o},{}],109:[function(t,r,i){var o=t("./_baseEach"),s=t("./isArrayLike");function a(l,c){var u=-1,d=s(l)?Array(l.length):[];return o(l,function(f,h,p){d[++u]=c(f,h,p)}),d}r.exports=a},{"./_baseEach":82,"./isArrayLike":244}],110:[function(t,r,i){var o=t("./_baseIsMatch"),s=t("./_getMatchData"),a=t("./_matchesStrictComparable");function l(c){var u=s(c);return u.length==1&&u[0][2]?a(u[0][0],u[0][1]):function(d){return d===c||o(d,c,u)}}r.exports=l},{"./_baseIsMatch":100,"./_getMatchData":162,"./_matchesStrictComparable":199}],111:[function(t,r,i){var o=t("./_baseIsEqual"),s=t("./get"),a=t("./hasIn"),l=t("./_isKey"),c=t("./_isStrictComparable"),u=t("./_matchesStrictComparable"),d=t("./_toKey"),f=1,h=2;function p(v,m){return l(v)&&c(m)?u(d(v),m):function(g){var y=s(g,v);return y===void 0&&y===m?a(g,v):o(m,y,f|h)}}r.exports=p},{"./_baseIsEqual":97,"./_isKey":183,"./_isStrictComparable":187,"./_matchesStrictComparable":199,"./_toKey":223,"./get":238,"./hasIn":240}],112:[function(t,r,i){var o=t("./_Stack"),s=t("./_assignMergeValue"),a=t("./_baseFor"),l=t("./_baseMergeDeep"),c=t("./isObject"),u=t("./keysIn"),d=t("./_safeGet");function f(h,p,v,m,g){h!==p&&a(p,function(y,w){if(g||(g=new o),c(y))l(h,p,w,v,f,m,g);else{var _=m?m(d(h,w),y,w+"",h,p,g):void 0;_===void 0&&(_=y),s(h,w,_)}},u)}r.exports=f},{"./_Stack":59,"./_assignMergeValue":74,"./_baseFor":87,"./_baseMergeDeep":113,"./_safeGet":209,"./isObject":251,"./keysIn":260}],113:[function(t,r,i){var o=t("./_assignMergeValue"),s=t("./_cloneBuffer"),a=t("./_cloneTypedArray"),l=t("./_copyArray"),c=t("./_initCloneObject"),u=t("./isArguments"),d=t("./isArray"),f=t("./isArrayLikeObject"),h=t("./isBuffer"),p=t("./isFunction"),v=t("./isObject"),m=t("./isPlainObject"),g=t("./isTypedArray"),y=t("./_safeGet"),w=t("./toPlainObject");function _(b,x,T,E,S,P,C){var A=y(b,T),N=y(x,T),k=C.get(N);if(k){o(b,T,k);return}var j=P?P(A,N,T+"",b,x,C):void 0,L=j===void 0;if(L){var U=d(N),G=!U&&h(N),Y=!U&&!G&&g(N);j=N,U||G||Y?d(A)?j=A:f(A)?j=l(A):G?(L=!1,j=s(N,!0)):Y?(L=!1,j=a(N,!0)):j=[]:m(N)||u(N)?(j=A,u(A)?j=w(A):(!v(A)||p(A))&&(j=c(N))):L=!1}L&&(C.set(N,j),S(j,N,E,P,C),C.delete(N)),o(b,T,j)}r.exports=_},{"./_assignMergeValue":74,"./_cloneBuffer":135,"./_cloneTypedArray":139,"./_copyArray":142,"./_initCloneObject":179,"./_safeGet":209,"./isArguments":242,"./isArray":243,"./isArrayLikeObject":245,"./isBuffer":246,"./isFunction":248,"./isObject":251,"./isPlainObject":253,"./isTypedArray":257,"./toPlainObject":282}],114:[function(t,r,i){var o=t("./_arrayMap"),s=t("./_baseIteratee"),a=t("./_baseMap"),l=t("./_baseSortBy"),c=t("./_baseUnary"),u=t("./_compareMultiple"),d=t("./identity");function f(h,p,v){var m=-1;p=o(p.length?p:[d],c(s));var g=a(h,function(y,w,_){var b=o(p,function(x){return x(y)});return{criteria:b,index:++m,value:y}});return l(g,function(y,w){return u(y,w,v)})}r.exports=f},{"./_arrayMap":69,"./_baseIteratee":105,"./_baseMap":109,"./_baseSortBy":124,"./_baseUnary":127,"./_compareMultiple":141,"./identity":241}],115:[function(t,r,i){var o=t("./_basePickBy"),s=t("./hasIn");function a(l,c){return o(l,c,function(u,d){return s(l,d)})}r.exports=a},{"./_basePickBy":116,"./hasIn":240}],116:[function(t,r,i){var o=t("./_baseGet"),s=t("./_baseSet"),a=t("./_castPath");function l(c,u,d){for(var f=-1,h=u.length,p={};++f<h;){var v=u[f],m=o(c,v);d(m,v)&&s(p,a(v,c),m)}return p}r.exports=l},{"./_baseGet":89,"./_baseSet":122,"./_castPath":133}],117:[function(t,r,i){function o(s){return function(a){return a==null?void 0:a[s]}}r.exports=o},{}],118:[function(t,r,i){var o=t("./_baseGet");function s(a){return function(l){return o(l,a)}}r.exports=s},{"./_baseGet":89}],119:[function(t,r,i){var o=Math.ceil,s=Math.max;function a(l,c,u,d){for(var f=-1,h=s(o((c-l)/(u||1)),0),p=Array(h);h--;)p[d?h:++f]=l,l+=u;return p}r.exports=a},{}],120:[function(t,r,i){function o(s,a,l,c,u){return u(s,function(d,f,h){l=c?(c=!1,d):a(l,d,f,h)}),l}r.exports=o},{}],121:[function(t,r,i){var o=t("./identity"),s=t("./_overRest"),a=t("./_setToString");function l(c,u){return a(s(c,u,o),c+"")}r.exports=l},{"./_overRest":207,"./_setToString":213,"./identity":241}],122:[function(t,r,i){var o=t("./_assignValue"),s=t("./_castPath"),a=t("./_isIndex"),l=t("./isObject"),c=t("./_toKey");function u(d,f,h,p){if(!l(d))return d;f=s(f,d);for(var v=-1,m=f.length,g=m-1,y=d;y!=null&&++v<m;){var w=c(f[v]),_=h;if(v!=g){var b=y[w];_=p?p(b,w,y):void 0,_===void 0&&(_=l(b)?b:a(f[v+1])?[]:{})}o(y,w,_),y=y[w]}return d}r.exports=u},{"./_assignValue":75,"./_castPath":133,"./_isIndex":181,"./_toKey":223,"./isObject":251}],123:[function(t,r,i){var o=t("./constant"),s=t("./_defineProperty"),a=t("./identity"),l=s?function(c,u){return s(c,"toString",{configurable:!0,enumerable:!1,value:o(u),writable:!0})}:a;r.exports=l},{"./_defineProperty":153,"./constant":228,"./identity":241}],124:[function(t,r,i){function o(s,a){var l=s.length;for(s.sort(a);l--;)s[l]=s[l].value;return s}r.exports=o},{}],125:[function(t,r,i){function o(s,a){for(var l=-1,c=Array(s);++l<s;)c[l]=a(l);return c}r.exports=o},{}],126:[function(t,r,i){var o=t("./_Symbol"),s=t("./_arrayMap"),a=t("./isArray"),l=t("./isSymbol"),c=1/0,u=o?o.prototype:void 0,d=u?u.toString:void 0;function f(h){if(typeof h=="string")return h;if(a(h))return s(h,f)+"";if(l(h))return d?d.call(h):"";var p=h+"";return p=="0"&&1/h==-c?"-0":p}r.exports=f},{"./_Symbol":60,"./_arrayMap":69,"./isArray":243,"./isSymbol":256}],127:[function(t,r,i){function o(s){return function(a){return s(a)}}r.exports=o},{}],128:[function(t,r,i){var o=t("./_SetCache"),s=t("./_arrayIncludes"),a=t("./_arrayIncludesWith"),l=t("./_cacheHas"),c=t("./_createSet"),u=t("./_setToArray"),d=200;function f(h,p,v){var m=-1,g=s,y=h.length,w=!0,_=[],b=_;if(v)w=!1,g=a;else if(y>=d){var x=p?null:c(h);if(x)return u(x);w=!1,g=l,b=new o}else b=p?[]:_;e:for(;++m<y;){var T=h[m],E=p?p(T):T;if(T=v||T!==0?T:0,w&&E===E){for(var S=b.length;S--;)if(b[S]===E)continue e;p&&b.push(E),_.push(T)}else g(b,E,v)||(b!==_&&b.push(E),_.push(T))}return _}r.exports=f},{"./_SetCache":58,"./_arrayIncludes":66,"./_arrayIncludesWith":67,"./_cacheHas":131,"./_createSet":152,"./_setToArray":212}],129:[function(t,r,i){var o=t("./_arrayMap");function s(a,l){return o(l,function(c){return a[c]})}r.exports=s},{"./_arrayMap":69}],130:[function(t,r,i){function o(s,a,l){for(var c=-1,u=s.length,d=a.length,f={};++c<u;){var h=c<d?a[c]:void 0;l(f,s[c],h)}return f}r.exports=o},{}],131:[function(t,r,i){function o(s,a){return s.has(a)}r.exports=o},{}],132:[function(t,r,i){var o=t("./identity");function s(a){return typeof a=="function"?a:o}r.exports=s},{"./identity":241}],133:[function(t,r,i){var o=t("./isArray"),s=t("./_isKey"),a=t("./_stringToPath"),l=t("./toString");function c(u,d){return o(u)?u:s(u,d)?[u]:a(l(u))}r.exports=c},{"./_isKey":183,"./_stringToPath":222,"./isArray":243,"./toString":283}],134:[function(t,r,i){var o=t("./_Uint8Array");function s(a){var l=new a.constructor(a.byteLength);return new o(l).set(new o(a)),l}r.exports=s},{"./_Uint8Array":61}],135:[function(t,r,i){var o=t("./_root"),s=typeof i=="object"&&i&&!i.nodeType&&i,a=s&&typeof r=="object"&&r&&!r.nodeType&&r,l=a&&a.exports===s,c=l?o.Buffer:void 0,u=c?c.allocUnsafe:void 0;function d(f,h){if(h)return f.slice();var p=f.length,v=u?u(p):new f.constructor(p);return f.copy(v),v}r.exports=d},{"./_root":208}],136:[function(t,r,i){var o=t("./_cloneArrayBuffer");function s(a,l){var c=l?o(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}r.exports=s},{"./_cloneArrayBuffer":134}],137:[function(t,r,i){var o=/\w*$/;function s(a){var l=new a.constructor(a.source,o.exec(a));return l.lastIndex=a.lastIndex,l}r.exports=s},{}],138:[function(t,r,i){var o=t("./_Symbol"),s=o?o.prototype:void 0,a=s?s.valueOf:void 0;function l(c){return a?Object(a.call(c)):{}}r.exports=l},{"./_Symbol":60}],139:[function(t,r,i){var o=t("./_cloneArrayBuffer");function s(a,l){var c=l?o(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}r.exports=s},{"./_cloneArrayBuffer":134}],140:[function(t,r,i){var o=t("./isSymbol");function s(a,l){if(a!==l){var c=a!==void 0,u=a===null,d=a===a,f=o(a),h=l!==void 0,p=l===null,v=l===l,m=o(l);if(!p&&!m&&!f&&a>l||f&&h&&v&&!p&&!m||u&&h&&v||!c&&v||!d)return 1;if(!u&&!f&&!m&&a<l||m&&c&&d&&!u&&!f||p&&c&&d||!h&&d||!v)return-1}return 0}r.exports=s},{"./isSymbol":256}],141:[function(t,r,i){var o=t("./_compareAscending");function s(a,l,c){for(var u=-1,d=a.criteria,f=l.criteria,h=d.length,p=c.length;++u<h;){var v=o(d[u],f[u]);if(v){if(u>=p)return v;var m=c[u];return v*(m=="desc"?-1:1)}}return a.index-l.index}r.exports=s},{"./_compareAscending":140}],142:[function(t,r,i){function o(s,a){var l=-1,c=s.length;for(a||(a=Array(c));++l<c;)a[l]=s[l];return a}r.exports=o},{}],143:[function(t,r,i){var o=t("./_assignValue"),s=t("./_baseAssignValue");function a(l,c,u,d){var f=!u;u||(u={});for(var h=-1,p=c.length;++h<p;){var v=c[h],m=d?d(u[v],l[v],v,u,l):void 0;m===void 0&&(m=l[v]),f?s(u,v,m):o(u,v,m)}return u}r.exports=a},{"./_assignValue":75,"./_baseAssignValue":79}],144:[function(t,r,i){var o=t("./_copyObject"),s=t("./_getSymbols");function a(l,c){return o(l,s(l),c)}r.exports=a},{"./_copyObject":143,"./_getSymbols":166}],145:[function(t,r,i){var o=t("./_copyObject"),s=t("./_getSymbolsIn");function a(l,c){return o(l,s(l),c)}r.exports=a},{"./_copyObject":143,"./_getSymbolsIn":167}],146:[function(t,r,i){var o=t("./_root"),s=o["__core-js_shared__"];r.exports=s},{"./_root":208}],147:[function(t,r,i){var o=t("./_baseRest"),s=t("./_isIterateeCall");function a(l){return o(function(c,u){var d=-1,f=u.length,h=f>1?u[f-1]:void 0,p=f>2?u[2]:void 0;for(h=l.length>3&&typeof h=="function"?(f--,h):void 0,p&&s(u[0],u[1],p)&&(h=f<3?void 0:h,f=1),c=Object(c);++d<f;){var v=u[d];v&&l(c,v,d,h)}return c})}r.exports=a},{"./_baseRest":121,"./_isIterateeCall":182}],148:[function(t,r,i){var o=t("./isArrayLike");function s(a,l){return function(c,u){if(c==null)return c;if(!o(c))return a(c,u);for(var d=c.length,f=l?d:-1,h=Object(c);(l?f--:++f<d)&&u(h[f],f,h)!==!1;);return c}}r.exports=s},{"./isArrayLike":244}],149:[function(t,r,i){function o(s){return function(a,l,c){for(var u=-1,d=Object(a),f=c(a),h=f.length;h--;){var p=f[s?h:++u];if(l(d[p],p,d)===!1)break}return a}}r.exports=o},{}],150:[function(t,r,i){var o=t("./_baseIteratee"),s=t("./isArrayLike"),a=t("./keys");function l(c){return function(u,d,f){var h=Object(u);if(!s(u)){var p=o(d,3);u=a(u),d=function(m){return p(h[m],m,h)}}var v=c(u,d,f);return v>-1?h[p?u[v]:v]:void 0}}r.exports=l},{"./_baseIteratee":105,"./isArrayLike":244,"./keys":259}],151:[function(t,r,i){var o=t("./_baseRange"),s=t("./_isIterateeCall"),a=t("./toFinite");function l(c){return function(u,d,f){return f&&typeof f!="number"&&s(u,d,f)&&(d=f=void 0),u=a(u),d===void 0?(d=u,u=0):d=a(d),f=f===void 0?u<d?1:-1:a(f),o(u,d,f,c)}}r.exports=l},{"./_baseRange":119,"./_isIterateeCall":182,"./toFinite":279}],152:[function(t,r,i){var o=t("./_Set"),s=t("./noop"),a=t("./_setToArray"),l=1/0,c=o&&1/a(new o([,-0]))[1]==l?function(u){return new o(u)}:s;r.exports=c},{"./_Set":57,"./_setToArray":212,"./noop":269}],153:[function(t,r,i){var o=t("./_getNative"),s=function(){try{var a=o(Object,"defineProperty");return a({},"",{}),a}catch{}}();r.exports=s},{"./_getNative":163}],154:[function(t,r,i){var o=t("./_SetCache"),s=t("./_arraySome"),a=t("./_cacheHas"),l=1,c=2;function u(d,f,h,p,v,m){var g=h&l,y=d.length,w=f.length;if(y!=w&&!(g&&w>y))return!1;var _=m.get(d);if(_&&m.get(f))return _==f;var b=-1,x=!0,T=h&c?new o:void 0;for(m.set(d,f),m.set(f,d);++b<y;){var E=d[b],S=f[b];if(p)var P=g?p(S,E,b,f,d,m):p(E,S,b,d,f,m);if(P!==void 0){if(P)continue;x=!1;break}if(T){if(!s(f,function(C,A){if(!a(T,A)&&(E===C||v(E,C,h,p,m)))return T.push(A)})){x=!1;break}}else if(!(E===S||v(E,S,h,p,m))){x=!1;break}}return m.delete(d),m.delete(f),x}r.exports=u},{"./_SetCache":58,"./_arraySome":72,"./_cacheHas":131}],155:[function(t,r,i){var o=t("./_Symbol"),s=t("./_Uint8Array"),a=t("./eq"),l=t("./_equalArrays"),c=t("./_mapToArray"),u=t("./_setToArray"),d=1,f=2,h="[object Boolean]",p="[object Date]",v="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",w="[object Set]",_="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",T="[object DataView]",E=o?o.prototype:void 0,S=E?E.valueOf:void 0;function P(C,A,N,k,j,L,U){switch(N){case T:if(C.byteLength!=A.byteLength||C.byteOffset!=A.byteOffset)return!1;C=C.buffer,A=A.buffer;case x:return!(C.byteLength!=A.byteLength||!L(new s(C),new s(A)));case h:case p:case g:return a(+C,+A);case v:return C.name==A.name&&C.message==A.message;case y:case _:return C==A+"";case m:var G=c;case w:var Y=k&d;if(G||(G=u),C.size!=A.size&&!Y)return!1;var le=U.get(C);if(le)return le==A;k|=f,U.set(C,A);var ve=l(G(C),G(A),k,j,L,U);return U.delete(C),ve;case b:if(S)return S.call(C)==S.call(A)}return!1}r.exports=P},{"./_Symbol":60,"./_Uint8Array":61,"./_equalArrays":154,"./_mapToArray":198,"./_setToArray":212,"./eq":231}],156:[function(t,r,i){var o=t("./_getAllKeys"),s=1,a=Object.prototype,l=a.hasOwnProperty;function c(u,d,f,h,p,v){var m=f&s,g=o(u),y=g.length,w=o(d),_=w.length;if(y!=_&&!m)return!1;for(var b=y;b--;){var x=g[b];if(!(m?x in d:l.call(d,x)))return!1}var T=v.get(u);if(T&&v.get(d))return T==d;var E=!0;v.set(u,d),v.set(d,u);for(var S=m;++b<y;){x=g[b];var P=u[x],C=d[x];if(h)var A=m?h(C,P,x,d,u,v):h(P,C,x,u,d,v);if(!(A===void 0?P===C||p(P,C,f,h,v):A)){E=!1;break}S||(S=x=="constructor")}if(E&&!S){var N=u.constructor,k=d.constructor;N!=k&&"constructor"in u&&"constructor"in d&&!(typeof N=="function"&&N instanceof N&&typeof k=="function"&&k instanceof k)&&(E=!1)}return v.delete(u),v.delete(d),E}r.exports=c},{"./_getAllKeys":159}],157:[function(t,r,i){var o=t("./flatten"),s=t("./_overRest"),a=t("./_setToString");function l(c){return a(s(c,void 0,o),c+"")}r.exports=l},{"./_overRest":207,"./_setToString":213,"./flatten":235}],158:[function(t,r,i){(function(o){var s=typeof o=="object"&&o&&o.Object===Object&&o;r.exports=s}).call(this,typeof Wi<"u"?Wi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],159:[function(t,r,i){var o=t("./_baseGetAllKeys"),s=t("./_getSymbols"),a=t("./keys");function l(c){return o(c,a,s)}r.exports=l},{"./_baseGetAllKeys":90,"./_getSymbols":166,"./keys":259}],160:[function(t,r,i){var o=t("./_baseGetAllKeys"),s=t("./_getSymbolsIn"),a=t("./keysIn");function l(c){return o(c,a,s)}r.exports=l},{"./_baseGetAllKeys":90,"./_getSymbolsIn":167,"./keysIn":260}],161:[function(t,r,i){var o=t("./_isKeyable");function s(a,l){var c=a.__data__;return o(l)?c[typeof l=="string"?"string":"hash"]:c.map}r.exports=s},{"./_isKeyable":184}],162:[function(t,r,i){var o=t("./_isStrictComparable"),s=t("./keys");function a(l){for(var c=s(l),u=c.length;u--;){var d=c[u],f=l[d];c[u]=[d,f,o(f)]}return c}r.exports=a},{"./_isStrictComparable":187,"./keys":259}],163:[function(t,r,i){var o=t("./_baseIsNative"),s=t("./_getValue");function a(l,c){var u=s(l,c);return o(u)?u:void 0}r.exports=a},{"./_baseIsNative":102,"./_getValue":169}],164:[function(t,r,i){var o=t("./_overArg"),s=o(Object.getPrototypeOf,Object);r.exports=s},{"./_overArg":206}],165:[function(t,r,i){var o=t("./_Symbol"),s=Object.prototype,a=s.hasOwnProperty,l=s.toString,c=o?o.toStringTag:void 0;function u(d){var f=a.call(d,c),h=d[c];try{d[c]=void 0;var p=!0}catch{}var v=l.call(d);return p&&(f?d[c]=h:delete d[c]),v}r.exports=u},{"./_Symbol":60}],166:[function(t,r,i){var o=t("./_arrayFilter"),s=t("./stubArray"),a=Object.prototype,l=a.propertyIsEnumerable,c=Object.getOwnPropertySymbols,u=c?function(d){return d==null?[]:(d=Object(d),o(c(d),function(f){return l.call(d,f)}))}:s;r.exports=u},{"./_arrayFilter":65,"./stubArray":277}],167:[function(t,r,i){var o=t("./_arrayPush"),s=t("./_getPrototype"),a=t("./_getSymbols"),l=t("./stubArray"),c=Object.getOwnPropertySymbols,u=c?function(d){for(var f=[];d;)o(f,a(d)),d=s(d);return f}:l;r.exports=u},{"./_arrayPush":70,"./_getPrototype":164,"./_getSymbols":166,"./stubArray":277}],168:[function(t,r,i){var o=t("./_DataView"),s=t("./_Map"),a=t("./_Promise"),l=t("./_Set"),c=t("./_WeakMap"),u=t("./_baseGetTag"),d=t("./_toSource"),f="[object Map]",h="[object Object]",p="[object Promise]",v="[object Set]",m="[object WeakMap]",g="[object DataView]",y=d(o),w=d(s),_=d(a),b=d(l),x=d(c),T=u;(o&&T(new o(new ArrayBuffer(1)))!=g||s&&T(new s)!=f||a&&T(a.resolve())!=p||l&&T(new l)!=v||c&&T(new c)!=m)&&(T=function(E){var S=u(E),P=S==h?E.constructor:void 0,C=P?d(P):"";if(C)switch(C){case y:return g;case w:return f;case _:return p;case b:return v;case x:return m}return S}),r.exports=T},{"./_DataView":51,"./_Map":54,"./_Promise":56,"./_Set":57,"./_WeakMap":62,"./_baseGetTag":91,"./_toSource":224}],169:[function(t,r,i){function o(s,a){return s==null?void 0:s[a]}r.exports=o},{}],170:[function(t,r,i){var o=t("./_castPath"),s=t("./isArguments"),a=t("./isArray"),l=t("./_isIndex"),c=t("./isLength"),u=t("./_toKey");function d(f,h,p){h=o(h,f);for(var v=-1,m=h.length,g=!1;++v<m;){var y=u(h[v]);if(!(g=f!=null&&p(f,y)))break;f=f[y]}return g||++v!=m?g:(m=f==null?0:f.length,!!m&&c(m)&&l(y,m)&&(a(f)||s(f)))}r.exports=d},{"./_castPath":133,"./_isIndex":181,"./_toKey":223,"./isArguments":242,"./isArray":243,"./isLength":249}],171:[function(t,r,i){var o="\\ud800-\\udfff",s="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",c=s+a+l,u="\\ufe0e\\ufe0f",d="\\u200d",f=RegExp("["+d+o+c+u+"]");function h(p){return f.test(p)}r.exports=h},{}],172:[function(t,r,i){var o=t("./_nativeCreate");function s(){this.__data__=o?o(null):{},this.size=0}r.exports=s},{"./_nativeCreate":201}],173:[function(t,r,i){function o(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}r.exports=o},{}],174:[function(t,r,i){var o=t("./_nativeCreate"),s="__lodash_hash_undefined__",a=Object.prototype,l=a.hasOwnProperty;function c(u){var d=this.__data__;if(o){var f=d[u];return f===s?void 0:f}return l.call(d,u)?d[u]:void 0}r.exports=c},{"./_nativeCreate":201}],175:[function(t,r,i){var o=t("./_nativeCreate"),s=Object.prototype,a=s.hasOwnProperty;function l(c){var u=this.__data__;return o?u[c]!==void 0:a.call(u,c)}r.exports=l},{"./_nativeCreate":201}],176:[function(t,r,i){var o=t("./_nativeCreate"),s="__lodash_hash_undefined__";function a(l,c){var u=this.__data__;return this.size+=this.has(l)?0:1,u[l]=o&&c===void 0?s:c,this}r.exports=a},{"./_nativeCreate":201}],177:[function(t,r,i){var o=Object.prototype,s=o.hasOwnProperty;function a(l){var c=l.length,u=new l.constructor(c);return c&&typeof l[0]=="string"&&s.call(l,"index")&&(u.index=l.index,u.input=l.input),u}r.exports=a},{}],178:[function(t,r,i){var o=t("./_cloneArrayBuffer"),s=t("./_cloneDataView"),a=t("./_cloneRegExp"),l=t("./_cloneSymbol"),c=t("./_cloneTypedArray"),u="[object Boolean]",d="[object Date]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]";function N(k,j,L){var U=k.constructor;switch(j){case y:return o(k);case u:case d:return new U(+k);case w:return s(k,L);case _:case b:case x:case T:case E:case S:case P:case C:case A:return c(k,L);case f:return new U;case h:case m:return new U(k);case p:return a(k);case v:return new U;case g:return l(k)}}r.exports=N},{"./_cloneArrayBuffer":134,"./_cloneDataView":136,"./_cloneRegExp":137,"./_cloneSymbol":138,"./_cloneTypedArray":139}],179:[function(t,r,i){var o=t("./_baseCreate"),s=t("./_getPrototype"),a=t("./_isPrototype");function l(c){return typeof c.constructor=="function"&&!a(c)?o(s(c)):{}}r.exports=l},{"./_baseCreate":81,"./_getPrototype":164,"./_isPrototype":186}],180:[function(t,r,i){var o=t("./_Symbol"),s=t("./isArguments"),a=t("./isArray"),l=o?o.isConcatSpreadable:void 0;function c(u){return a(u)||s(u)||!!(l&&u&&u[l])}r.exports=c},{"./_Symbol":60,"./isArguments":242,"./isArray":243}],181:[function(t,r,i){var o=9007199254740991,s=/^(?:0|[1-9]\d*)$/;function a(l,c){var u=typeof l;return c=c??o,!!c&&(u=="number"||u!="symbol"&&s.test(l))&&l>-1&&l%1==0&&l<c}r.exports=a},{}],182:[function(t,r,i){var o=t("./eq"),s=t("./isArrayLike"),a=t("./_isIndex"),l=t("./isObject");function c(u,d,f){if(!l(f))return!1;var h=typeof d;return(h=="number"?s(f)&&a(d,f.length):h=="string"&&d in f)?o(f[d],u):!1}r.exports=c},{"./_isIndex":181,"./eq":231,"./isArrayLike":244,"./isObject":251}],183:[function(t,r,i){var o=t("./isArray"),s=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;function c(u,d){if(o(u))return!1;var f=typeof u;return f=="number"||f=="symbol"||f=="boolean"||u==null||s(u)?!0:l.test(u)||!a.test(u)||d!=null&&u in Object(d)}r.exports=c},{"./isArray":243,"./isSymbol":256}],184:[function(t,r,i){function o(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}r.exports=o},{}],185:[function(t,r,i){var o=t("./_coreJsData"),s=function(){var l=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function a(l){return!!s&&s in l}r.exports=a},{"./_coreJsData":146}],186:[function(t,r,i){var o=Object.prototype;function s(a){var l=a&&a.constructor,c=typeof l=="function"&&l.prototype||o;return a===c}r.exports=s},{}],187:[function(t,r,i){var o=t("./isObject");function s(a){return a===a&&!o(a)}r.exports=s},{"./isObject":251}],188:[function(t,r,i){function o(){this.__data__=[],this.size=0}r.exports=o},{}],189:[function(t,r,i){var o=t("./_assocIndexOf"),s=Array.prototype,a=s.splice;function l(c){var u=this.__data__,d=o(u,c);if(d<0)return!1;var f=u.length-1;return d==f?u.pop():a.call(u,d,1),--this.size,!0}r.exports=l},{"./_assocIndexOf":76}],190:[function(t,r,i){var o=t("./_assocIndexOf");function s(a){var l=this.__data__,c=o(l,a);return c<0?void 0:l[c][1]}r.exports=s},{"./_assocIndexOf":76}],191:[function(t,r,i){var o=t("./_assocIndexOf");function s(a){return o(this.__data__,a)>-1}r.exports=s},{"./_assocIndexOf":76}],192:[function(t,r,i){var o=t("./_assocIndexOf");function s(a,l){var c=this.__data__,u=o(c,a);return u<0?(++this.size,c.push([a,l])):c[u][1]=l,this}r.exports=s},{"./_assocIndexOf":76}],193:[function(t,r,i){var o=t("./_Hash"),s=t("./_ListCache"),a=t("./_Map");function l(){this.size=0,this.__data__={hash:new o,map:new(a||s),string:new o}}r.exports=l},{"./_Hash":52,"./_ListCache":53,"./_Map":54}],194:[function(t,r,i){var o=t("./_getMapData");function s(a){var l=o(this,a).delete(a);return this.size-=l?1:0,l}r.exports=s},{"./_getMapData":161}],195:[function(t,r,i){var o=t("./_getMapData");function s(a){return o(this,a).get(a)}r.exports=s},{"./_getMapData":161}],196:[function(t,r,i){var o=t("./_getMapData");function s(a){return o(this,a).has(a)}r.exports=s},{"./_getMapData":161}],197:[function(t,r,i){var o=t("./_getMapData");function s(a,l){var c=o(this,a),u=c.size;return c.set(a,l),this.size+=c.size==u?0:1,this}r.exports=s},{"./_getMapData":161}],198:[function(t,r,i){function o(s){var a=-1,l=Array(s.size);return s.forEach(function(c,u){l[++a]=[u,c]}),l}r.exports=o},{}],199:[function(t,r,i){function o(s,a){return function(l){return l==null?!1:l[s]===a&&(a!==void 0||s in Object(l))}}r.exports=o},{}],200:[function(t,r,i){var o=t("./memoize"),s=500;function a(l){var c=o(l,function(d){return u.size===s&&u.clear(),d}),u=c.cache;return c}r.exports=a},{"./memoize":265}],201:[function(t,r,i){var o=t("./_getNative"),s=o(Object,"create");r.exports=s},{"./_getNative":163}],202:[function(t,r,i){var o=t("./_overArg"),s=o(Object.keys,Object);r.exports=s},{"./_overArg":206}],203:[function(t,r,i){function o(s){var a=[];if(s!=null)for(var l in Object(s))a.push(l);return a}r.exports=o},{}],204:[function(t,r,i){var o=t("./_freeGlobal"),s=typeof i=="object"&&i&&!i.nodeType&&i,a=s&&typeof r=="object"&&r&&!r.nodeType&&r,l=a&&a.exports===s,c=l&&o.process,u=function(){try{var d=a&&a.require&&a.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}}();r.exports=u},{"./_freeGlobal":158}],205:[function(t,r,i){var o=Object.prototype,s=o.toString;function a(l){return s.call(l)}r.exports=a},{}],206:[function(t,r,i){function o(s,a){return function(l){return s(a(l))}}r.exports=o},{}],207:[function(t,r,i){var o=t("./_apply"),s=Math.max;function a(l,c,u){return c=s(c===void 0?l.length-1:c,0),function(){for(var d=arguments,f=-1,h=s(d.length-c,0),p=Array(h);++f<h;)p[f]=d[c+f];f=-1;for(var v=Array(c+1);++f<c;)v[f]=d[f];return v[c]=u(p),o(l,this,v)}}r.exports=a},{"./_apply":63}],208:[function(t,r,i){var o=t("./_freeGlobal"),s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();r.exports=a},{"./_freeGlobal":158}],209:[function(t,r,i){function o(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}r.exports=o},{}],210:[function(t,r,i){var o="__lodash_hash_undefined__";function s(a){return this.__data__.set(a,o),this}r.exports=s},{}],211:[function(t,r,i){function o(s){return this.__data__.has(s)}r.exports=o},{}],212:[function(t,r,i){function o(s){var a=-1,l=Array(s.size);return s.forEach(function(c){l[++a]=c}),l}r.exports=o},{}],213:[function(t,r,i){var o=t("./_baseSetToString"),s=t("./_shortOut"),a=s(o);r.exports=a},{"./_baseSetToString":123,"./_shortOut":214}],214:[function(t,r,i){var o=800,s=16,a=Date.now;function l(c){var u=0,d=0;return function(){var f=a(),h=s-(f-d);if(d=f,h>0){if(++u>=o)return arguments[0]}else u=0;return c.apply(void 0,arguments)}}r.exports=l},{}],215:[function(t,r,i){var o=t("./_ListCache");function s(){this.__data__=new o,this.size=0}r.exports=s},{"./_ListCache":53}],216:[function(t,r,i){function o(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}r.exports=o},{}],217:[function(t,r,i){function o(s){return this.__data__.get(s)}r.exports=o},{}],218:[function(t,r,i){function o(s){return this.__data__.has(s)}r.exports=o},{}],219:[function(t,r,i){var o=t("./_ListCache"),s=t("./_Map"),a=t("./_MapCache"),l=200;function c(u,d){var f=this.__data__;if(f instanceof o){var h=f.__data__;if(!s||h.length<l-1)return h.push([u,d]),this.size=++f.size,this;f=this.__data__=new a(h)}return f.set(u,d),this.size=f.size,this}r.exports=c},{"./_ListCache":53,"./_Map":54,"./_MapCache":55}],220:[function(t,r,i){function o(s,a,l){for(var c=l-1,u=s.length;++c<u;)if(s[c]===a)return c;return-1}r.exports=o},{}],221:[function(t,r,i){var o=t("./_asciiSize"),s=t("./_hasUnicode"),a=t("./_unicodeSize");function l(c){return s(c)?a(c):o(c)}r.exports=l},{"./_asciiSize":73,"./_hasUnicode":171,"./_unicodeSize":225}],222:[function(t,r,i){var o=t("./_memoizeCapped"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,l=o(function(c){var u=[];return c.charCodeAt(0)===46&&u.push(""),c.replace(s,function(d,f,h,p){u.push(h?p.replace(a,"$1"):f||d)}),u});r.exports=l},{"./_memoizeCapped":200}],223:[function(t,r,i){var o=t("./isSymbol"),s=1/0;function a(l){if(typeof l=="string"||o(l))return l;var c=l+"";return c=="0"&&1/l==-s?"-0":c}r.exports=a},{"./isSymbol":256}],224:[function(t,r,i){var o=Function.prototype,s=o.toString;function a(l){if(l!=null){try{return s.call(l)}catch{}try{return l+""}catch{}}return""}r.exports=a},{}],225:[function(t,r,i){var o="\\ud800-\\udfff",s="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",c=s+a+l,u="\\ufe0e\\ufe0f",d="["+o+"]",f="["+c+"]",h="\\ud83c[\\udffb-\\udfff]",p="(?:"+f+"|"+h+")",v="[^"+o+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=p+"?",_="["+u+"]?",b="(?:"+y+"(?:"+[v,m,g].join("|")+")"+_+w+")*",x=_+w+b,T="(?:"+[v+f+"?",f,m,g,d].join("|")+")",E=RegExp(h+"(?="+h+")|"+T+x,"g");function S(P){for(var C=E.lastIndex=0;E.test(P);)++C;return C}r.exports=S},{}],226:[function(t,r,i){var o=t("./_baseClone"),s=4;function a(l){return o(l,s)}r.exports=a},{"./_baseClone":80}],227:[function(t,r,i){var o=t("./_baseClone"),s=1,a=4;function l(c){return o(c,s|a)}r.exports=l},{"./_baseClone":80}],228:[function(t,r,i){function o(s){return function(){return s}}r.exports=o},{}],229:[function(t,r,i){var o=t("./_baseRest"),s=t("./eq"),a=t("./_isIterateeCall"),l=t("./keysIn"),c=Object.prototype,u=c.hasOwnProperty,d=o(function(f,h){f=Object(f);var p=-1,v=h.length,m=v>2?h[2]:void 0;for(m&&a(h[0],h[1],m)&&(v=1);++p<v;)for(var g=h[p],y=l(g),w=-1,_=y.length;++w<_;){var b=y[w],x=f[b];(x===void 0||s(x,c[b])&&!u.call(f,b))&&(f[b]=g[b])}return f});r.exports=d},{"./_baseRest":121,"./_isIterateeCall":182,"./eq":231,"./keysIn":260}],230:[function(t,r,i){r.exports=t("./forEach")},{"./forEach":236}],231:[function(t,r,i){function o(s,a){return s===a||s!==s&&a!==a}r.exports=o},{}],232:[function(t,r,i){var o=t("./_arrayFilter"),s=t("./_baseFilter"),a=t("./_baseIteratee"),l=t("./isArray");function c(u,d){var f=l(u)?o:s;return f(u,a(d,3))}r.exports=c},{"./_arrayFilter":65,"./_baseFilter":84,"./_baseIteratee":105,"./isArray":243}],233:[function(t,r,i){var o=t("./_createFind"),s=t("./findIndex"),a=o(s);r.exports=a},{"./_createFind":150,"./findIndex":234}],234:[function(t,r,i){var o=t("./_baseFindIndex"),s=t("./_baseIteratee"),a=t("./toInteger"),l=Math.max;function c(u,d,f){var h=u==null?0:u.length;if(!h)return-1;var p=f==null?0:a(f);return p<0&&(p=l(h+p,0)),o(u,s(d,3),p)}r.exports=c},{"./_baseFindIndex":85,"./_baseIteratee":105,"./toInteger":280}],235:[function(t,r,i){var o=t("./_baseFlatten");function s(a){var l=a==null?0:a.length;return l?o(a,1):[]}r.exports=s},{"./_baseFlatten":86}],236:[function(t,r,i){var o=t("./_arrayEach"),s=t("./_baseEach"),a=t("./_castFunction"),l=t("./isArray");function c(u,d){var f=l(u)?o:s;return f(u,a(d))}r.exports=c},{"./_arrayEach":64,"./_baseEach":82,"./_castFunction":132,"./isArray":243}],237:[function(t,r,i){var o=t("./_baseFor"),s=t("./_castFunction"),a=t("./keysIn");function l(c,u){return c==null?c:o(c,s(u),a)}r.exports=l},{"./_baseFor":87,"./_castFunction":132,"./keysIn":260}],238:[function(t,r,i){var o=t("./_baseGet");function s(a,l,c){var u=a==null?void 0:o(a,l);return u===void 0?c:u}r.exports=s},{"./_baseGet":89}],239:[function(t,r,i){var o=t("./_baseHas"),s=t("./_hasPath");function a(l,c){return l!=null&&s(l,c,o)}r.exports=a},{"./_baseHas":93,"./_hasPath":170}],240:[function(t,r,i){var o=t("./_baseHasIn"),s=t("./_hasPath");function a(l,c){return l!=null&&s(l,c,o)}r.exports=a},{"./_baseHasIn":94,"./_hasPath":170}],241:[function(t,r,i){function o(s){return s}r.exports=o},{}],242:[function(t,r,i){var o=t("./_baseIsArguments"),s=t("./isObjectLike"),a=Object.prototype,l=a.hasOwnProperty,c=a.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(d){return s(d)&&l.call(d,"callee")&&!c.call(d,"callee")};r.exports=u},{"./_baseIsArguments":96,"./isObjectLike":252}],243:[function(t,r,i){var o=Array.isArray;r.exports=o},{}],244:[function(t,r,i){var o=t("./isFunction"),s=t("./isLength");function a(l){return l!=null&&s(l.length)&&!o(l)}r.exports=a},{"./isFunction":248,"./isLength":249}],245:[function(t,r,i){var o=t("./isArrayLike"),s=t("./isObjectLike");function a(l){return s(l)&&o(l)}r.exports=a},{"./isArrayLike":244,"./isObjectLike":252}],246:[function(t,r,i){var o=t("./_root"),s=t("./stubFalse"),a=typeof i=="object"&&i&&!i.nodeType&&i,l=a&&typeof r=="object"&&r&&!r.nodeType&&r,c=l&&l.exports===a,u=c?o.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||s;r.exports=f},{"./_root":208,"./stubFalse":278}],247:[function(t,r,i){var o=t("./_baseKeys"),s=t("./_getTag"),a=t("./isArguments"),l=t("./isArray"),c=t("./isArrayLike"),u=t("./isBuffer"),d=t("./_isPrototype"),f=t("./isTypedArray"),h="[object Map]",p="[object Set]",v=Object.prototype,m=v.hasOwnProperty;function g(y){if(y==null)return!0;if(c(y)&&(l(y)||typeof y=="string"||typeof y.splice=="function"||u(y)||f(y)||a(y)))return!y.length;var w=s(y);if(w==h||w==p)return!y.size;if(d(y))return!o(y).length;for(var _ in y)if(m.call(y,_))return!1;return!0}r.exports=g},{"./_baseKeys":106,"./_getTag":168,"./_isPrototype":186,"./isArguments":242,"./isArray":243,"./isArrayLike":244,"./isBuffer":246,"./isTypedArray":257}],248:[function(t,r,i){var o=t("./_baseGetTag"),s=t("./isObject"),a="[object AsyncFunction]",l="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";function d(f){if(!s(f))return!1;var h=o(f);return h==l||h==c||h==a||h==u}r.exports=d},{"./_baseGetTag":91,"./isObject":251}],249:[function(t,r,i){var o=9007199254740991;function s(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=o}r.exports=s},{}],250:[function(t,r,i){var o=t("./_baseIsMap"),s=t("./_baseUnary"),a=t("./_nodeUtil"),l=a&&a.isMap,c=l?s(l):o;r.exports=c},{"./_baseIsMap":99,"./_baseUnary":127,"./_nodeUtil":204}],251:[function(t,r,i){function o(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}r.exports=o},{}],252:[function(t,r,i){function o(s){return s!=null&&typeof s=="object"}r.exports=o},{}],253:[function(t,r,i){var o=t("./_baseGetTag"),s=t("./_getPrototype"),a=t("./isObjectLike"),l="[object Object]",c=Function.prototype,u=Object.prototype,d=c.toString,f=u.hasOwnProperty,h=d.call(Object);function p(v){if(!a(v)||o(v)!=l)return!1;var m=s(v);if(m===null)return!0;var g=f.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&d.call(g)==h}r.exports=p},{"./_baseGetTag":91,"./_getPrototype":164,"./isObjectLike":252}],254:[function(t,r,i){var o=t("./_baseIsSet"),s=t("./_baseUnary"),a=t("./_nodeUtil"),l=a&&a.isSet,c=l?s(l):o;r.exports=c},{"./_baseIsSet":103,"./_baseUnary":127,"./_nodeUtil":204}],255:[function(t,r,i){var o=t("./_baseGetTag"),s=t("./isArray"),a=t("./isObjectLike"),l="[object String]";function c(u){return typeof u=="string"||!s(u)&&a(u)&&o(u)==l}r.exports=c},{"./_baseGetTag":91,"./isArray":243,"./isObjectLike":252}],256:[function(t,r,i){var o=t("./_baseGetTag"),s=t("./isObjectLike"),a="[object Symbol]";function l(c){return typeof c=="symbol"||s(c)&&o(c)==a}r.exports=l},{"./_baseGetTag":91,"./isObjectLike":252}],257:[function(t,r,i){var o=t("./_baseIsTypedArray"),s=t("./_baseUnary"),a=t("./_nodeUtil"),l=a&&a.isTypedArray,c=l?s(l):o;r.exports=c},{"./_baseIsTypedArray":104,"./_baseUnary":127,"./_nodeUtil":204}],258:[function(t,r,i){function o(s){return s===void 0}r.exports=o},{}],259:[function(t,r,i){var o=t("./_arrayLikeKeys"),s=t("./_baseKeys"),a=t("./isArrayLike");function l(c){return a(c)?o(c):s(c)}r.exports=l},{"./_arrayLikeKeys":68,"./_baseKeys":106,"./isArrayLike":244}],260:[function(t,r,i){var o=t("./_arrayLikeKeys"),s=t("./_baseKeysIn"),a=t("./isArrayLike");function l(c){return a(c)?o(c,!0):s(c)}r.exports=l},{"./_arrayLikeKeys":68,"./_baseKeysIn":107,"./isArrayLike":244}],261:[function(t,r,i){function o(s){var a=s==null?0:s.length;return a?s[a-1]:void 0}r.exports=o},{}],262:[function(t,r,i){var o=t("./_arrayMap"),s=t("./_baseIteratee"),a=t("./_baseMap"),l=t("./isArray");function c(u,d){var f=l(u)?o:a;return f(u,s(d,3))}r.exports=c},{"./_arrayMap":69,"./_baseIteratee":105,"./_baseMap":109,"./isArray":243}],263:[function(t,r,i){var o=t("./_baseAssignValue"),s=t("./_baseForOwn"),a=t("./_baseIteratee");function l(c,u){var d={};return u=a(u,3),s(c,function(f,h,p){o(d,h,u(f,h,p))}),d}r.exports=l},{"./_baseAssignValue":79,"./_baseForOwn":88,"./_baseIteratee":105}],264:[function(t,r,i){var o=t("./_baseExtremum"),s=t("./_baseGt"),a=t("./identity");function l(c){return c&&c.length?o(c,a,s):void 0}r.exports=l},{"./_baseExtremum":83,"./_baseGt":92,"./identity":241}],265:[function(t,r,i){var o=t("./_MapCache"),s="Expected a function";function a(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new TypeError(s);var u=function(){var d=arguments,f=c?c.apply(this,d):d[0],h=u.cache;if(h.has(f))return h.get(f);var p=l.apply(this,d);return u.cache=h.set(f,p)||h,p};return u.cache=new(a.Cache||o),u}a.Cache=o,r.exports=a},{"./_MapCache":55}],266:[function(t,r,i){var o=t("./_baseMerge"),s=t("./_createAssigner"),a=s(function(l,c,u){o(l,c,u)});r.exports=a},{"./_baseMerge":112,"./_createAssigner":147}],267:[function(t,r,i){var o=t("./_baseExtremum"),s=t("./_baseLt"),a=t("./identity");function l(c){return c&&c.length?o(c,a,s):void 0}r.exports=l},{"./_baseExtremum":83,"./_baseLt":108,"./identity":241}],268:[function(t,r,i){var o=t("./_baseExtremum"),s=t("./_baseIteratee"),a=t("./_baseLt");function l(c,u){return c&&c.length?o(c,s(u,2),a):void 0}r.exports=l},{"./_baseExtremum":83,"./_baseIteratee":105,"./_baseLt":108}],269:[function(t,r,i){function o(){}r.exports=o},{}],270:[function(t,r,i){var o=t("./_root"),s=function(){return o.Date.now()};r.exports=s},{"./_root":208}],271:[function(t,r,i){var o=t("./_basePick"),s=t("./_flatRest"),a=s(function(l,c){return l==null?{}:o(l,c)});r.exports=a},{"./_basePick":115,"./_flatRest":157}],272:[function(t,r,i){var o=t("./_baseProperty"),s=t("./_basePropertyDeep"),a=t("./_isKey"),l=t("./_toKey");function c(u){return a(u)?o(l(u)):s(u)}r.exports=c},{"./_baseProperty":117,"./_basePropertyDeep":118,"./_isKey":183,"./_toKey":223}],273:[function(t,r,i){var o=t("./_createRange"),s=o();r.exports=s},{"./_createRange":151}],274:[function(t,r,i){var o=t("./_arrayReduce"),s=t("./_baseEach"),a=t("./_baseIteratee"),l=t("./_baseReduce"),c=t("./isArray");function u(d,f,h){var p=c(d)?o:l,v=arguments.length<3;return p(d,a(f,4),h,v,s)}r.exports=u},{"./_arrayReduce":71,"./_baseEach":82,"./_baseIteratee":105,"./_baseReduce":120,"./isArray":243}],275:[function(t,r,i){var o=t("./_baseKeys"),s=t("./_getTag"),a=t("./isArrayLike"),l=t("./isString"),c=t("./_stringSize"),u="[object Map]",d="[object Set]";function f(h){if(h==null)return 0;if(a(h))return l(h)?c(h):h.length;var p=s(h);return p==u||p==d?h.size:o(h).length}r.exports=f},{"./_baseKeys":106,"./_getTag":168,"./_stringSize":221,"./isArrayLike":244,"./isString":255}],276:[function(t,r,i){var o=t("./_baseFlatten"),s=t("./_baseOrderBy"),a=t("./_baseRest"),l=t("./_isIterateeCall"),c=a(function(u,d){if(u==null)return[];var f=d.length;return f>1&&l(u,d[0],d[1])?d=[]:f>2&&l(d[0],d[1],d[2])&&(d=[d[0]]),s(u,o(d,1),[])});r.exports=c},{"./_baseFlatten":86,"./_baseOrderBy":114,"./_baseRest":121,"./_isIterateeCall":182}],277:[function(t,r,i){function o(){return[]}r.exports=o},{}],278:[function(t,r,i){function o(){return!1}r.exports=o},{}],279:[function(t,r,i){var o=t("./toNumber"),s=1/0,a=17976931348623157e292;function l(c){if(!c)return c===0?c:0;if(c=o(c),c===s||c===-s){var u=c<0?-1:1;return u*a}return c===c?c:0}r.exports=l},{"./toNumber":281}],280:[function(t,r,i){var o=t("./toFinite");function s(a){var l=o(a),c=l%1;return l===l?c?l-c:l:0}r.exports=s},{"./toFinite":279}],281:[function(t,r,i){var o=t("./isObject"),s=t("./isSymbol"),a=0/0,l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt;function h(p){if(typeof p=="number")return p;if(s(p))return a;if(o(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=o(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=p.replace(l,"");var m=u.test(p);return m||d.test(p)?f(p.slice(2),m?2:8):c.test(p)?a:+p}r.exports=h},{"./isObject":251,"./isSymbol":256}],282:[function(t,r,i){var o=t("./_copyObject"),s=t("./keysIn");function a(l){return o(l,s(l))}r.exports=a},{"./_copyObject":143,"./keysIn":260}],283:[function(t,r,i){var o=t("./_baseToString");function s(a){return a==null?"":o(a)}r.exports=s},{"./_baseToString":126}],284:[function(t,r,i){var o=t("./_arrayEach"),s=t("./_baseCreate"),a=t("./_baseForOwn"),l=t("./_baseIteratee"),c=t("./_getPrototype"),u=t("./isArray"),d=t("./isBuffer"),f=t("./isFunction"),h=t("./isObject"),p=t("./isTypedArray");function v(m,g,y){var w=u(m),_=w||d(m)||p(m);if(g=l(g,4),y==null){var b=m&&m.constructor;_?y=w?new b:[]:h(m)?y=f(b)?s(c(m)):{}:y={}}return(_?o:a)(m,function(x,T,E){return g(y,x,T,E)}),y}r.exports=v},{"./_arrayEach":64,"./_baseCreate":81,"./_baseForOwn":88,"./_baseIteratee":105,"./_getPrototype":164,"./isArray":243,"./isBuffer":246,"./isFunction":248,"./isObject":251,"./isTypedArray":257}],285:[function(t,r,i){var o=t("./_baseFlatten"),s=t("./_baseRest"),a=t("./_baseUniq"),l=t("./isArrayLikeObject"),c=s(function(u){return a(o(u,1,l,!0))});r.exports=c},{"./_baseFlatten":86,"./_baseRest":121,"./_baseUniq":128,"./isArrayLikeObject":245}],286:[function(t,r,i){var o=t("./toString"),s=0;function a(l){var c=++s;return o(l)+c}r.exports=a},{"./toString":283}],287:[function(t,r,i){var o=t("./_baseValues"),s=t("./keys");function a(l){return l==null?[]:o(l,s(l))}r.exports=a},{"./_baseValues":129,"./keys":259}],288:[function(t,r,i){var o=t("./_assignValue"),s=t("./_baseZipObject");function a(l,c){return s(l||[],c||[],o)}r.exports=a},{"./_assignValue":75,"./_baseZipObject":130}]},{},[1])(1)})})(Kw);const Ww={id:"main"},Yw={class:"edge-icon"},Xw=["cx","cy","r","stroke-width","fill"],Jw=["font-size"],Qw={class:"wrapper"},qw=xe({__name:"App",setup(e){const n=ae();let t=ae(),r=ae(),i=ae({}),o=ae({}),s=1;const a=gt({nodes:{}}),l={badge:"nodes"};async function c(){try{let{data:g,error:y,status:w}=await Ti.from("fable").select("*");if(y&&w!==406)throw y;g&&(t.value=g)}catch(g){console.error(g)}}c().then(async()=>{for(let w=0;w<t.value.length;w++)await d(t.value[w]);r.value=t.value[0];for(let w=0;w<r.value.plotpoints.length;w++){const _=r.value.plotpoints[w];w===0?i.value[`node${_.id}`]={name:w+1,id:_.id,color:"black",hover:"grey"}:i.value[`node${_.id}`]={name:w+1,id:_.id,color:"green",hover:"lightgreen"}}console.log(i.value);let g=[];for(let w=0;w<r.value.plotpoints.length;w++){const _=r.value.plotpoints[w];_.reaction1&&g.push(`id.eq.${_.reaction1}`),_.reaction2&&g.push(`id.eq.${_.reaction2}`),_.reaction3&&g.push(`id.eq.${_.reaction3}`),_.reaction4&&g.push(`id.eq.${_.reaction4}`),_.reaction5&&g.push(`id.eq.${_.reaction5}`)}const y=JSON.stringify(g);await f(y.substring(1).substring(0,y.length-2).replace(/"+/g,""));for(let w=0;w<r.value.plotpoints.length;w++){const _=r.value.plotpoints[w];_.reaction1&&u(_.reaction1,_.id),_.reaction2&&u(_.reaction2,_.id),_.reaction3&&u(_.reaction3,_.id),_.reaction4&&u(_.reaction4,_.id),_.reaction5&&u(_.reaction5,_.id)}});function u(g,y){g.success_plotpoint&&(o.value[`edge${s}`]={source:`node${y}`,target:`node${g.success_plotpoint}`,sourceState:"success"},s++),g.fail_plotpoint&&(o.value[`edge${s}`]={source:`node${y}`,target:`node${g.fail_plotpoint}`,sourceState:"fail"},s++),g.death_plotpoint&&(o.value[`edge${s}`]={source:`node${y}`,target:`node${g.death_plotpoint}`,sourceState:"death"},s++)}async function d(g){try{let{data:y,error:w,status:_}=await Ti.from("plotpoint").select("*").eq("fableId",g.id);if(w&&_!==406)throw w;y&&(g.plotpoints=y,g.plotpoints.sort((b,x)=>b.id>x.id?1:-1))}catch(y){console.error(y)}}async function f(g){try{let{data:y,error:w,status:_}=await Ti.from("reaction").select("*").or(g);if(w&&_!==406)throw w;y&&r.value.plotpoints.forEach(b=>{y.forEach(x=>{if(x.id===b.reaction1)return b.reaction1=x;if(x.id===b.reaction2)return b.reaction2=x;if(x.id===b.reaction3)return b.reaction3=x;if(x.id===b.reaction4)return b.reaction4=x;if(x.id===b.reaction5)return b.reaction5=x})})}catch(y){console.error(y)}}const h=40,p={node:{selectable:!0,normal:{radius:h/2,color:g=>g.color},hover:{radius:h/2,color:g=>g.hover},label:{direction:"center",color:"#fff"},focusring:{color:"green"}},edge:{type:"curve",gap:40,normal:{color:"#aaa",width:3},margin:4,marker:{target:{type:"arrow",width:4,height:4}},selfLoop:{radius:20,offset:9,angle:180,isClockwise:!0}}};ae();function v(g){console.log(g);let y={};return r.value&&g?(r.value.plotpoints.forEach(w=>{console.log(w,g),w.id===g.id&&(y=w)}),y):g}const m={success:"#008000",fail:"#ff0000",death:"#000"};return(g,y)=>{const w=hf("v-network-graph");return Z(),ee("div",Ww,[He(w,{"selected-nodes":n.value,"onUpdate:selectedNodes":y[0]||(y[0]=_=>n.value=_),nodes:M(i),edges:M(o),layouts:a,configs:M(p),layers:l},{"edge-overlay":Fe(({edge:_,scale:b,pointAtLength:x})=>[Jt("g",Yw,[Jt("circle",{cx:x(20*b).x,cy:x(20*b).y,r:5*b,stroke:"#000","stroke-width":1*b,fill:M(m)[_.sourceState]},null,8,Xw),Jt("text",Ot(x(40*b),{"font-family":"Material Icons","text-anchor":"middle","dominant-baseline":"central","font-size":16*b}),null,16,Jw)])]),_:1},8,["selected-nodes","nodes","edges","layouts","configs"]),Jt("div",Qw,[Jt("pre",null,""+Oi(v(M(i)[n.value]))+`
      `,1)])])}}}),Bu=Eh(qw);Bu.use(U0);Bu.mount("#app")});export default ex();
